<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.9" DspName="Microsoft.Data.Tools.Schema.Sql.SqlAzureV12DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="150" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="ParkerDB.dll" />
			<Metadata Name="FileName" Value="C:\USERS\ADRIAN.MENDEZ\ONEDRIVE - EY\DOCUMENTS\PROJECTS\PARKER\PK DEVOPS\BUSINESS%20TECHNOLOGIES%20-%20EDBH\DATABASE\DEPLOYDATABASE\PARKERDB\OBJ\DEBUG\PARKERDB.DLL" />
			<Metadata Name="AssemblyName" Value="ParkerDB" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="C:\Users\adrian.mendez\OneDrive - EY\Documents\Projects\Parker\PK DevOps\Business%20Technologies%20-%20eDBH\database\DeployDatabase\ParkerDB\obj\Debug\ParkerDB.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Property Name="DefaultLanguage" Value="" />
			<Property Name="DefaultFullTextLanguage" Value="" />
			<Property Name="QueryStoreDesiredState" Value="0" />
			<Property Name="QueryStoreCaptureMode" Value="1" />
			<Property Name="QueryStoreStaleQueryThreshold" Value="367" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Shift].[start_time_offset_days]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="3" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[((0))]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Shift].[end_time_offset_days]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="SqlForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Unavailable]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="SqlForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[DTReason].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DTReason]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="SqlForeignKeyConstraint">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[sysdiagrams].[diagram_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[AddIntervalToDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AddIntervalToDate].[@interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddIntervalToDate].[@frequency]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddIntervalToDate].[@TempDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[ 
BEGIN
		RETURN CASE	
				WHEN @interval= 60
					THEN DATEADD(HOUR, @frequency, @TempDate)
				WHEN @interval= 1440
					THEN DATEADD(DAY, @frequency, @TempDate)
				WHEN @interval= 10080
					THEN DATEADD(WEEK, @frequency, @TempDate)
				WHEN @interval= 43200
					THEN DATEADD(MONTH, @frequency, @TempDate)
				WHEN @interval= 525600
					THEN DATEADD(YEAR, @frequency, @TempDate)
				ELSE 	
					DATEADD(MINUTE, @frequency, @TempDate)
			END;
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1902" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[AddIntervalToDate]&#xD;&#xA;        (@interval INT,&#xD;&#xA;&#x9;&#x9;@frequency INT=15,&#xD;&#xA;&#x9;&#x9;@TempDate DATETIME )&#xD;&#xA;RETURNS DATETIME&#xD;&#xA;-- =============================================&#xD;&#xA;-- Copyright Â© 2018 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- Author:      Gustavo Perez Espinoza&#xD;&#xA;-- Create date: 10/7/2018&#xD;&#xA;-- Description: Add Intervals of time to a date&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Parameters:&#xD;&#xA;--   @interval - it's the interval that the function is going to add to the initial date, possibly values for @interval&#xD;&#xA;--&#x9;&#x9;&#x9;For Minutes -&gt; 1&#xD;&#xA;--&#x9;&#x9;&#x9;For Hours   -&gt; 60&#xD;&#xA;--&#x9;&#x9;&#x9;For Days    -&gt; 1440&#xD;&#xA;--&#x9;&#x9;&#x9;For Weeks   -&gt; 10080&#xD;&#xA;--&#x9;&#x9;&#x9;For Months  -&gt; 43200 &#xD;&#xA;--&#x9;&#x9;&#x9;For Years   -&gt; 525600 &#xD;&#xA;--   @frequency - How many times the function is going to add the interval to the tempDate&#xD;&#xA;--   @TempDate  - The date that the function is going to add the interval&#xD;&#xA;-- Returns:    Date that the function is going to modify with the interval and the frequency&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Returns:    Date that the function is going to modify with the interval and the frequency&#xD;&#xA;--   1440,2,&quot;20170101&quot; -&gt; &quot;20170103&quot;&#xD;&#xA;--   10080,2,&quot;20170101&quot; -&gt; &quot;201701015&quot;&#xD;&#xA;--   43200,3,&quot;20170101&quot; -&gt; &quot;20170401&quot;&#xD;&#xA;--   525600,3,&quot;20170101&quot; -&gt; &quot;20200101&quot;&#xD;&#xA;-- =============================================&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddIntervalToDate].[@interval]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddIntervalToDate].[@frequency]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[15]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AddIntervalToDate].[@TempDate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Asset]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[asset_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[asset_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[asset_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[asset_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[asset_level]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[site_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[parent_asset_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[value_stream]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[automation_level]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[include_in_escalation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[grouping1]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[grouping2]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[grouping3]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[grouping4]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[grouping5]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Asset].[target_percent_of_ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[Asset_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.Asset.asset_id, dbo.Asset.asset_code, dbo.Asset.asset_name, dbo.Asset.asset_description, dbo.Asset.asset_level, dbo.Asset.site_code, dbo.Asset.parent_asset_code, dbo.Asset.value_stream, dbo.Asset.automation_level,
                          dbo.Asset.include_in_escalation, dbo.Asset.grouping1, dbo.Asset.grouping2, dbo.Asset.grouping3, dbo.Asset.grouping4, dbo.Asset.grouping5, dbo.Asset.status, dbo.Asset.entered_by, dbo.Asset.entered_on, 
                         dbo.Asset.last_modified_by, dbo.Asset.last_modified_on, dbo.Asset.target_percent_of_ideal
FROM            dbo.Asset INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[asset_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[asset_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[asset_level]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_level]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[parent_asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[parent_asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[value_stream]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[value_stream]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[automation_level]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[automation_level]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[include_in_escalation]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[include_in_escalation]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[grouping1]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[grouping1]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[grouping2]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[grouping2]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[grouping3]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[grouping3]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[grouping4]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[grouping4]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[grouping5]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[grouping5]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Asset_vw].[target_percent_of_ideal]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[automation_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[include_in_escalation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="795" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.Asset_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AssetDisplaySystem]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetDisplaySystem].[assetdisplaysystem_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetDisplaySystem].[displaysystem_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetDisplaySystem].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetDisplaySystem].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetDisplaySystem].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetDisplaySystem].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetDisplaySystem].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetDisplaySystem].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
			<AttachedAnnotation Disambiguator="7" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[AssetDisplaySystem_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.AssetDisplaySystem.*, dbo.Asset.site_code
FROM            dbo.AssetDisplaySystem INNER JOIN
                         dbo.Asset ON dbo.AssetDisplaySystem.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[assetdisplaysystem_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[assetdisplaysystem_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[displaysystem_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetDisplaySystem_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="363" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.AssetDisplaySystem_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AssetProductTarget]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[assetproducttarget_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[asset_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[product_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[UOM_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[routed_cycle_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[minutes_allowed_per_setup]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[target_percent_of_ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[valid_from]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[valid_to]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AssetProductTarget].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="17" />
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[dbo].[AssetsResolverFromId]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetsResolverFromId].[@asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetsResolverFromId].[@aggregation_type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[parent_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[requested_asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetsResolverFromId].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[AssetsResolverFromId].[requested_asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[Level]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[asset_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Asset].[asset_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[parent_id]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[requested_asset_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Asset].[asset_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[AssetsResolverFromId].[CTE1].[CTE_ASSET_HIERARCHY].[asset_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Asset].[asset_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[

  (          WITH CTE_ASSET_HIERARCHY 
             AS(
                    SELECT       0 AS Level,
                                 A1.asset_id							AS asset_id,                   
                                 CAST(0 AS INT)                         AS parent_id,                       
                                 A1.asset_id                            AS requested_asset_id,
                                 A1.asset_code                          AS asset_code
                    FROM dbo.Asset A1
                    WHERE A1.asset_id = @asset_id
       
                    UNION ALL

                    SELECT  CTE.Level+1 AS Level,
                                 A.asset_id,
                                 CTE.parent_id,                     
                                 CTE.requested_asset_id,
                                 A.asset_code
                    FROM CTE_ASSET_HIERARCHY CTE
                          INNER JOIN dbo.Asset A
                                 ON CTE.asset_code = A.parent_asset_code 
                                 AND ( (@aggregation_type=0 AND CTE.Level+1<1)
                                              OR     (@aggregation_type=1 AND CTE.Level+1<2)
                                              OR     @aggregation_type IN (2,3)
                                       ) 
                    
             )
             SELECT 
                          CTE.asset_id,                          
                          CTE.requested_asset_id
             FROM CTE_ASSET_HIERARCHY CTE
             WHERE (CTE.Level >0 AND @aggregation_type IN (1,2)) OR (CTE.Level >-1 AND @aggregation_type NOT IN (1,2) )   
  ) ]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="4948" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE   FUNCTION [dbo].[AssetsResolverFromId] &#xD;&#xA;(                   @asset_id           INT,&#xD;&#xA;                    @aggregation_type   TINYINT&#xD;&#xA;)&#xD;&#xA;RETURNS TABLE&#xD;&#xA;-- =============================================&#xD;&#xA;-- Copyright Â© 2018 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- Author:      Gustavo Perez Espinoza&#xD;&#xA;-- Create date: 17/7/2018&#xD;&#xA;-- Description: Gets the hierarchy of an specific asset&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Parameters:&#xD;&#xA;--   @asset_id                   - This parameter specific which Asset the function is going to search&#xD;&#xA;--                               ____________ A ____________&#xD;&#xA;--                           /                |                     \&#xD;&#xA;--                          /                       |                         \&#xD;&#xA;--                        /                        |                        \&#xD;&#xA;--                        B                         C                          D&#xD;&#xA;--                     /|                     /\                          |\&#xD;&#xA;--                    / |                  /  \                            | \&#xD;&#xA;--                  /  |                 /    \                    |  \&#xD;&#xA;--                  E      F                   G           H                     I   J&#xD;&#xA;--              /|  |\                  /\           /\                  /|      |\&#xD;&#xA;--             / |  | \             /  \         /  \                   / |      | \&#xD;&#xA;--           /  |  |  \     /    \  /    \       /  |        |  \&#xD;&#xA;--           K      L      M      N      O        P  Q             R        S      T        U      V    &#xD;&#xA;--           |   |   |   |    |     |  |     |     |   |   |   |&#xD;&#xA;--           |   |   |   |    |     |  |     |     |   |   |   |&#xD;&#xA;--           |   |   |   |    |     |  |     |     |   |   |   |&#xD;&#xA;--           W      X      Y      Z      AA       AB AC     AD     AE   AF  AG  AH&#xD;&#xA;--     &#xD;&#xA;--     Target for the examples =&gt; C&#xD;&#xA;--     @aggregation_type         - Parameter that specific which kind or levels of hierarchy that the function is going to return     &#xD;&#xA;--         None                                = 0,   =&gt;(C)&#xD;&#xA;--         Children                     = 1,   =&gt;(G,H)&#xD;&#xA;--         ChildrenRecursive            = 2,   =&gt;(G,O,AA,P,AB,H,Q,AC,R,AD)&#xD;&#xA;--         Recursive                    = 3,   =&gt;(C,G,O,AA,P,AB,H,Q,AC,R,AD)&#xD;&#xA;&#xD;&#xA;-- Returns:    Return all hierarchy of one asset in specific&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Returns:    Return all hierarchy of one asset in specific&#xD;&#xA;--Paramters&#xD;&#xA;--           @asset_codes=5&#xD;&#xA;--           @aggregation_type = 2&#xD;&#xA;--Output&#xD;&#xA;--           6      Processing Area     0      NULL                5      AKY Sauce Co&#xD;&#xA;--           9      Mixing              6      Processing Area     5      AKY Sauce Co&#xD;&#xA;--           31     E6                        6      Processing Area     5       AKY Sauce Co&#xD;&#xA;--           46     P6Counter           6      Processing Area     5      AKY Sauce Co&#xD;&#xA;--           76     W2                        6      Processing Area     5       AKY Sauce Co&#xD;&#xA;-- =============================================&#xD;&#xA;AS &#xD;&#xA;RETURN" />
							<Property Name="FooterContents" Value=";" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AssetsResolverFromId].[@asset_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[AssetsResolverFromId].[@aggregation_type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[tinyint]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[CommentData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[commentdata_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[dxhdata_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[comment]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[first_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[last_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommentData].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="18" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="19" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[CommentData].[CommentData_DxHData_Id_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CommentData].[dxhdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[CommentData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlView" Name="[dbo].[CommentData_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.CommentData.commentdata_id, dbo.CommentData.dxhdata_id, dbo.CommentData.comment, dbo.CommentData.first_name, dbo.CommentData.last_name, dbo.CommentData.entered_by, dbo.CommentData.entered_on, 
                         dbo.CommentData.last_modified_by, dbo.CommentData.last_modified_on, dbo.Asset.asset_id, dbo.Asset.site_code
FROM            dbo.CommentData INNER JOIN
                         dbo.DxHData ON dbo.CommentData.dxhdata_id = dbo.DxHData.dxhdata_id INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[commentdata_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[commentdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[dxhdata_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[dxhdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[comment]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[comment]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[first_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[first_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[last_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[last_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[CommentData].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[CommentData_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[CommentData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[commentdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="774" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.[CommentData_vw]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[CommonParameters]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[parameter_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[site_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[site_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[production_day_offset_minutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[site_timezone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[ui_timezone]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[escalation_level1_minutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[escalation_level2_minutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[default_setup_minutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[default_routed_cycle_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[setup_lookback_minutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[inactive_timeout_minutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[language]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[status]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[entered_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[entered_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[last_modified_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[last_modified_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[CommonParameters].[summary_timeout]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="20" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="21" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AssetDisplaySystem_entered_by]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('Unknown')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[entered_by]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="12" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AssetDisplaySystem_entered_on]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[entered_on]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="13" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AssetDisplaySystem_last_modified_by]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('Unknown')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[last_modified_by]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="14" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AssetDisplaySystem_last_modified_on]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[last_modified_on]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="15" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_AssetDisplaySystem_status]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[('Active')]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[status]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="11" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Workcell_entered_on]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Workcell]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Workcell].[entered_on]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="22" />
		</Element>
		<Element Type="SqlDefaultConstraint" Name="[dbo].[DF_Workcell_last_modified_on]">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[(getdate())]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Workcell]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[Workcell].[last_modified_on]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="23" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[DTData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[dtdata_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[dxhdata_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[dtreason_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[dtminutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[dtminutes_provisional]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[dtminutes_total]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[dtminutes_breaks]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[dtminutes_setup]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTData].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="24" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="25" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="26" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[DTData].[DTDATA_DxHData_Id_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DTData].[dxhdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlView" Name="[dbo].[DTData_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.DTData.dtdata_id, dbo.DTData.dxhdata_id, dbo.DTData.dtreason_id, dbo.DTData.dtminutes, dbo.DTData.dtminutes_provisional, dbo.DTData.dtminutes_total, dbo.DTData.dtminutes_breaks, dbo.DTData.dtminutes_setup, 
                         dbo.DTData.entered_by, dbo.DTData.entered_on, dbo.DTData.last_modified_by, dbo.DTData.last_modified_on, dbo.DTData.name, dbo.Asset.asset_id, dbo.Asset.site_code
FROM            dbo.DTData INNER JOIN
                         dbo.DxHData ON dbo.DTData.dxhdata_id = dbo.DxHData.dxhdata_id INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[dtdata_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[dtdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[dxhdata_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[dxhdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[dtreason_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[dtreason_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[dtminutes]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[dtminutes]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[dtminutes_provisional]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[dtminutes_provisional]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[dtminutes_total]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[dtminutes_total]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[dtminutes_breaks]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[dtminutes_breaks]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[dtminutes_setup]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[dtminutes_setup]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTData].[name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTData_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes_provisional]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes_total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes_breaks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="824" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.DTData_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[DTReason]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[dtreason_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[dtreason_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[dtreason_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[dtreason_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[dtreason_category]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[reason1]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[reason2]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DTReason].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="27" />
			<AttachedAnnotation Disambiguator="6" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[DTReason_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.DTReason.dtreason_id, dbo.DTReason.dtreason_code, dbo.DTReason.dtreason_name, dbo.DTReason.dtreason_description, dbo.DTReason.dtreason_category, dbo.DTReason.reason1, dbo.DTReason.reason2, 
                         dbo.DTReason.status, dbo.DTReason.entered_by, dbo.DTReason.entered_on, dbo.DTReason.last_modified_by, dbo.DTReason.last_modified_on, dbo.DTReason.asset_id, dbo.Asset.site_code
FROM            dbo.DTReason INNER JOIN
                         dbo.Asset ON dbo.DTReason.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[dtreason_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[dtreason_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[dtreason_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[dtreason_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[dtreason_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[dtreason_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[dtreason_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[dtreason_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[dtreason_category]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[dtreason_category]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[reason1]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[reason1]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[reason2]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[reason2]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DTReason].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DTReason_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DTReason]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[reason1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[reason2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="728" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.DTReason_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[DxHData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[dxhdata_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[asset_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[production_day]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[hour_interval]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[shift_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_product_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_target]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_actual]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_UOM_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_order_number]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_dtminutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_dtreason_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_comments]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[summary_action_taken]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[operator_signoff]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[operator_signoff_timestamp]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[supervisor_signoff]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[supervisor_signoff_timestamp]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[start_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[end_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[DxHData].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="28" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="29" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[DxHData].[DxHData_PROD_DAY_ASSET_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DxHData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[DxHData].[nci_wi_DxHData_0BF9F8F6A092EDAB110F00796B4215EC]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DxHData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[DxHData].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_action_taken]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_comments]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[summary_UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[DxHData].[UIX_DxHData_Asset_Id_Prod_Day_Hour_Shift]">
			<Property Name="IsUnique" Value="True" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DxHData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DxHData].[hour_interval]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DxHData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlView" Name="[dbo].[DxHData_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.DxHData.*, dbo.Asset.site_code
FROM            dbo.DxHData INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[dxhdata_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[dxhdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[hour_interval]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[hour_interval]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_product_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_product_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_ideal]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_ideal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_target]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_target]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_actual]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_actual]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_UOM_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_UOM_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_order_number]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_order_number]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_dtminutes]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_dtminutes]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_dtreason_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_dtreason_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_comments]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_comments]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[summary_action_taken]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[summary_action_taken]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[operator_signoff]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[operator_signoff]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[operator_signoff_timestamp]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[supervisor_signoff]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[supervisor_signoff]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[supervisor_signoff_timestamp]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[start_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[start_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[end_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[end_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[DxHData_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="364" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.DxHData_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ExampleJTraxData$]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[Plant]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[JobNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[PartNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[MachineNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[Operation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[CycleTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[JobQuantity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[AcceptedPieces]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[RejectedPieces]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[ReleaseDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[SetupStart]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[SetupEnd]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[ElapsedSetupTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[FirstInspectionEvent]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[LastInspectionEvent]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ExampleJTraxData$].[ClosedDate]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK__DxHData__asset_i__0E04126B]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="29" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK__OrderData__Asset_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="30" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK__Supervisor__Asset_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[SupervisorAsset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SupervisorAsset]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="31" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK__Tag__Asset_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Tag].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tag]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="32" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_CommentData_DxHData_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[CommentData].[dxhdata_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CommentData]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="19" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_CommonParametersTest_Site_Id]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="21" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_DTData_DTReason_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[DTData].[dtreason_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[DTReason]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="25" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_DTData_DxHData_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[DTData].[dxhdata_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="26" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_InterShif_Asset_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[InterShiftData].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[InterShiftData]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="33" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_ProductionData_DxHData_ID]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="34" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_Shift_Asset_Id]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="35" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_TFDUsers_Asset]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="36" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[fn_diagramobjects]">
			<Property Name="IsCaller" Value="False" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
	BEGIN
		declare @id_upgraddiagrams		int
		declare @id_sysdiagrams			int
		declare @id_helpdiagrams		int
		declare @id_helpdiagramdefinition	int
		declare @id_creatediagram	int
		declare @id_renamediagram	int
		declare @id_alterdiagram 	int 
		declare @id_dropdiagram		int
		declare @InstalledObjects	int

		select @InstalledObjects = 0

		select 	@id_upgraddiagrams = object_id(N'dbo.sp_upgraddiagrams'),
			@id_sysdiagrams = object_id(N'dbo.sysdiagrams'),
			@id_helpdiagrams = object_id(N'dbo.sp_helpdiagrams'),
			@id_helpdiagramdefinition = object_id(N'dbo.sp_helpdiagramdefinition'),
			@id_creatediagram = object_id(N'dbo.sp_creatediagram'),
			@id_renamediagram = object_id(N'dbo.sp_renamediagram'),
			@id_alterdiagram = object_id(N'dbo.sp_alterdiagram'), 
			@id_dropdiagram = object_id(N'dbo.sp_dropdiagram')

		if @id_upgraddiagrams is not null
			select @InstalledObjects = @InstalledObjects + 1
		if @id_sysdiagrams is not null
			select @InstalledObjects = @InstalledObjects + 2
		if @id_helpdiagrams is not null
			select @InstalledObjects = @InstalledObjects + 4
		if @id_helpdiagramdefinition is not null
			select @InstalledObjects = @InstalledObjects + 8
		if @id_creatediagram is not null
			select @InstalledObjects = @InstalledObjects + 16
		if @id_renamediagram is not null
			select @InstalledObjects = @InstalledObjects + 32
		if @id_alterdiagram  is not null
			select @InstalledObjects = @InstalledObjects + 64
		if @id_dropdiagram is not null
			select @InstalledObjects = @InstalledObjects + 128
		
		return @InstalledObjects 
	END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="CreateOffset" Value="3" />
							<Property Name="Length" Value="1694" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="&#xD;&#xA;&#x9;CREATE FUNCTION [dbo].[fn_diagramobjects]() &#xD;&#xA;&#x9;RETURNS int&#xD;&#xA;&#x9;WITH EXECUTE AS N'dbo'&#xD;&#xA;&#x9;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="User">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlInlineTableValuedFunction" Name="[dbo].[GetRangesBetweenDates]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[@started_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[@interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[@frequency]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpRoundDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[@ended_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[CTE1].[CTE_RECURSIVE_DATES].[id_chun]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[CTE1].[CTE_RECURSIVE_DATES].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddIntervalToDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[CTE1].[CTE_RECURSIVE_DATES].[ended_on_chunck]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[GetRangesBetweenDates].[id_chun]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetRangesBetweenDates].[CTE1].[CTE_RECURSIVE_DATES]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetRangesBetweenDates].[CTE1].[CTE_RECURSIVE_DATES].[id_chun]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetRangesBetweenDates].[CTE1].[CTE_RECURSIVE_DATES].[started_on_chunck]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetRangesBetweenDates].[@started_on]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetRangesBetweenDates].[CTE1].[CTE_RECURSIVE_DATES].[ended_on_chunck]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[

  ( WITH CTE_RECURSIVE_DATES AS(
	
			SELECT 1 AS id_chun,
				   @started_on AS started_on_chunck,
				   CASE WHEN @interval>0 AND @frequency>0 
							THEN  
								CASE	
									WHEN dbo.UpRoundDate(@started_on,@interval,@frequency)< @ended_on 
										THEN dbo.UpRoundDate(@started_on,@interval,@frequency)
									ELSE @ended_on
								END				   
						ELSE @ended_on END AS ended_on_chunck

			UNION ALL

			SELECT id_chun + 1 AS id_chun,
				   CTE.ended_on_chunck AS started_on_chunck,
				   
				   CASE 
						WHEN dbo.AddIntervalToDate(@interval,@frequency,CTE.ended_on_chunck)<=@ended_on 
							THEN dbo.AddIntervalToDate(@interval,@frequency,CTE.ended_on_chunck)
						ELSE @ended_on
					END AS ended_on_chunck
			FROM CTE_RECURSIVE_DATES CTE
			WHERE (dbo.AddIntervalToDate(@interval,@frequency,CTE.ended_on_chunck)<=@ended_on 
					OR DATEADD(MILLISECOND, 2,CTE.ended_on_chunck)<= @ended_on)
					 AND @interval>0 AND @frequency>0
		)SELECT id_chun,
				started_on_chunck,
				ended_on_chunck
		FROM CTE_RECURSIVE_DATES
  ) ]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="2958" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[GetRangesBetweenDates] &#xD;&#xA;        (@started_on&#x9;Datetime,&#xD;&#xA;&#x9;&#x9;@ended_on&#x9;Datetime,&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;@interval INT,&#xD;&#xA;&#x9;&#x9;@frequency INT=15 )&#xD;&#xA;RETURNS TABLE&#xD;&#xA;-- =============================================&#xD;&#xA;-- Copyright Â© 2018 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- Author:      Gustavo Perez Espinoza&#xD;&#xA;-- Create date: 10/7/2018&#xD;&#xA;-- Description: Calculates ranges of dates between two date with a specific frequency and specific interval&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Parameters:&#xD;&#xA;--   @started_on - Initial date where the function star to calculate all the ranges&#xD;&#xA;--   @ended_on   - Final date where the function end to calculate all the ranges&#xD;&#xA;--   @interval  - it's the interval that the function is going to add to the initial date, possibly values for @interval&#xD;&#xA;--&#x9;&#x9;&#x9;For Minutes -&gt; 1&#xD;&#xA;--&#x9;&#x9;&#x9;For Hours   -&gt; 60&#xD;&#xA;--&#x9;&#x9;&#x9;For Days    -&gt; 1440&#xD;&#xA;--&#x9;&#x9;&#x9;For Weeks   -&gt; 10080&#xD;&#xA;--&#x9;&#x9;&#x9;For Months  -&gt; 43200 &#xD;&#xA;--&#x9;&#x9;&#x9;For Years   -&gt; 525600&#xD;&#xA;--   @frequency  - How many times the function is going to add the interval to the tempDate&#xD;&#xA;-- Returns:    Return all the ranges with the specific interval and the specific frequency bewtween the two dates&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Returns:    Return all the ranges with the specific interval and the specific frequency bewtween the two dates&#xD;&#xA;--Paramters&#xD;&#xA;--&#x9;&#x9;@started_on datetime='20170101'&#xD;&#xA;--&#x9;&#x9;@ended_on datetime='20170101 01:00'&#xD;&#xA;--&#x9;&#x9;@interval= 1&#xD;&#xA;--&#x9;&#x9;@frequency int=15&#xD;&#xA;--Output&#xD;&#xA;--&#x9;&#x9;1&#x9;2017-01-01 00:00:00.000&#x9;2017-01-01 00:15:00.000&#xD;&#xA;--&#x9;&#x9;2&#x9;2017-01-01 00:15:00.000&#x9;2017-01-01 00:30:00.000&#xD;&#xA;--&#x9;&#x9;3&#x9;2017-01-01 00:30:00.000&#x9;2017-01-01 00:45:00.000&#xD;&#xA;--&#x9;&#x9;4&#x9;2017-01-01 00:45:00.000&#x9;2017-01-01 01:00:00.003&#xD;&#xA;-- =============================================&#xD;&#xA;AS &#xD;&#xA;RETURN" />
							<Property Name="FooterContents" Value=";" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetRangesBetweenDates].[@started_on]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetRangesBetweenDates].[@ended_on]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetRangesBetweenDates].[@interval]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetRangesBetweenDates].[@frequency]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[15]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlMultiStatementTableValuedFunction" Name="[dbo].[GetShiftProductionDayFromSiteAndDate]">
			<Property Name="ReturnTableVariable" Value="@tablename" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[@site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[@date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time_offset_days]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time_offset_days]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ProductionDay]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CurrentDateTime]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ShiftId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ShiftName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ShiftCode]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[shift_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[shift_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[is_first_shift_of_day]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CTE1].[CTE].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN

	DECLARE
	@timezone					AS VARCHAR(100),
	@ProductionDay				AS DATETIME,
	@CurrentDateTime			AS DATETIME,
	@first_shift_start_time		AS DATETIME,
	@last_shift_end_time		AS DATETIME,
	@last_shift_sequence		AS INT,
	@YesterdayProductionDay		AS DATETIME,
	@TomorrowProductionDay		AS DATETIME,
	@Shift_Name					AS VARCHAR(100),
	@Shift_Code					AS VARCHAR(100),
	@Shift_Id					AS INT;

	SELECT 
		@timezone = site_timezone
	FROM dbo.CommonParameters WHERE site_id = @site_id;

	SELECT @CurrentDateTime =
		CASE
			WHEN @date IS NULL THEN SYSDATETIME() at time zone 'UTC' at time zone @timezone
			ELSE @date
		END;

	SELECT @ProductionDay = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');

	SELECT @first_shift_start_time = DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, start_time_offset_days, @ProductionDay))
	FROM dbo.Shift
	WHERE STATUS = 'Active' AND asset_id = @site_id AND is_first_shift_of_day = 1;

	SELECT
	@last_shift_sequence = MAX(shift_sequence)
	FROM dbo.Shift
	WHERE STATUS = 'Active' AND asset_id = @site_id
	GROUP BY asset_id;
	
	SELECT
	@last_shift_end_time = DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, end_time_offset_days, @ProductionDay))
	FROM dbo.Shift
	WHERE STATUS = 'Active' AND asset_id = @site_id AND shift_sequence = @last_shift_sequence;
	
	IF(@CurrentDateTime < @first_shift_start_time)
	BEGIN
		SET @ProductionDay = DATEADD(DAY, -1, @ProductionDay);
	END
	ELSE IF (@CurrentDateTime > @last_shift_end_time)
	BEGIN
		SET @ProductionDay = DATEADD(DAY, 1, @ProductionDay);
	END

	SET @YesterdayProductionDay = FORMAT(DATEADD(DAY, -1, @ProductionDay), 'yyyy-MM-dd');
	SET @TomorrowProductionDay = FORMAT(DATEADD(DAY, 1, @ProductionDay), 'yyyy-MM-dd');

	WITH CTE AS
	(SELECT
		shift_id, shift_name, shift_code, is_first_shift_of_day,
		--GET INTERVAL SHIFT FOR TODAY
		FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, start_time_offset_days, @ProductionDay)), 'yyyy-MM-dd HH:mm') AS start_date_time_today,
		FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, end_time_offset_days, @ProductionDay)), 'yyyy-MM-dd HH:mm') AS end_date_time_today,
		--GET INTERVAL SHIFT FOR YESTERDAY
		FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, start_time_offset_days, @YesterdayProductionDay)), 'yyyy-MM-dd HH:mm') AS start_date_time_yesterday,
		FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, end_time_offset_days, @YesterdayProductionDay)), 'yyyy-MM-dd HH:mm') AS end_date_time_yesterday,
		--GET INTERVAL SHIFT FOR TOMORROW
		FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, start_time_offset_days, @TomorrowProductionDay)), 'yyyy-MM-dd HH:mm') AS start_date_time_tomorrow,
		FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, end_time_offset_days, @TomorrowProductionDay)), 'yyyy-MM-dd HH:mm') AS end_date_time_tomorrow
	FROM dbo.Shift WHERE asset_id = @site_id AND STATUS = 'Active')
	SELECT 
		@Shift_Id = [shift_id],
		@Shift_Name = [shift_name],
		@Shift_Code = [shift_code]
		FROM CTE WHERE 
			@CurrentDateTime BETWEEN start_date_time_today AND end_date_time_today OR 
			@CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday OR
			@CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow;

	INSERT @tablename SELECT @ProductionDay, @CurrentDateTime, @Shift_Id, @Shift_Name, @Shift_Code;

RETURN 

END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="4454" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE   FUNCTION [dbo].[GetShiftProductionDayFromSiteAndDate]&#xD;&#xA;(                   @site_id           INT,&#xD;&#xA;                    @date   DATETIME&#xD;&#xA;)&#xD;&#xA;RETURNS @tablename TABLE (ProductionDay DATETIME, CurrentDateTime DATETIME, ShiftId INT, ShiftName VARCHAR(100), ShiftCode VARCHAR(100))&#xD;&#xA;-- =============================================&#xD;&#xA;-- Copyright Â© 2021 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- Author:&#x9;EY&#xD;&#xA;-- Create date: 17/7/2021&#xD;&#xA;-- Description: Gets the hierarchy of an specific asset&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Parameters:&#xD;&#xA;--   @site_id&#x9;&#x9;&#x9;&#x9;- This parameter specific which Site the function is going to use&#xD;&#xA;--   @date&#x9;&#x9;&#x9;&#x9;&#x9;- This parameter specific which Date the function is going to use. If the value is null the function will use the site datetime&#xD;&#xA;&#xD;&#xA;-- Returns:    Return all hierarchy of one asset in specific&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[@site_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[@date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[GlobalParameters]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GlobalParameters].[summary_timeout]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GlobalParameters].[inactive_timeout_minutes]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GlobalParameters].[socket_timeout]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GlobalParameters].[max_regression]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[GlobalParameters].[token_expiration]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[InterShiftData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[intershift_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[production_day]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[shift_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[comment]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[first_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[last_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[InterShiftData].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="37" />
			<AttachedAnnotation Disambiguator="33" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[InterShiftData_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.InterShiftData.intershift_id, dbo.InterShiftData.production_day, dbo.InterShiftData.shift_code, dbo.InterShiftData.comment, dbo.InterShiftData.first_name, dbo.InterShiftData.last_name, dbo.InterShiftData.entered_by, 
                         dbo.InterShiftData.entered_on, dbo.InterShiftData.last_modified_by, dbo.InterShiftData.last_modified_on, dbo.InterShiftData.asset_id, dbo.Asset.site_code
FROM            dbo.InterShiftData INNER JOIN
                         dbo.Asset ON dbo.InterShiftData.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[intershift_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[intershift_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[comment]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[comment]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[first_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[first_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[last_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[last_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[InterShiftData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[InterShiftData_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[InterShiftData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[intershift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="751" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.InterShiftData_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[OrderData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[order_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[order_number]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[product_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[order_quantity]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[UOM_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[routed_cycle_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[minutes_allowed_per_setup]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[target_percent_of_ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[production_status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[setup_start_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[setup_end_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[production_start_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[production_end_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[start_time]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[end_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[is_current_order]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[OrderData].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="38" />
			<AttachedAnnotation Disambiguator="30" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[OrderData].[nci_wi_OrderData_B4F7E8FFB819F0384574A0761D3A9CEA]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[order_number]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[is_current_order]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[production_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[OrderData].[OrderData_Asset_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[OrderData].[OrderData_End_Time_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[end_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[OrderData].[OrderData_IsCurr_Asset_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[is_current_order]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlView" Name="[dbo].[OrderData_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.OrderData.order_id, dbo.OrderData.order_number, dbo.OrderData.product_code, dbo.OrderData.order_quantity, dbo.OrderData.UOM_code, dbo.OrderData.routed_cycle_time, dbo.OrderData.minutes_allowed_per_setup, 
                         dbo.OrderData.ideal, dbo.OrderData.target_percent_of_ideal, dbo.OrderData.production_status, dbo.OrderData.setup_start_time, dbo.OrderData.setup_end_time, dbo.OrderData.production_start_time, 
                         dbo.OrderData.production_end_time, dbo.OrderData.start_time, dbo.OrderData.end_time, dbo.OrderData.is_current_order, dbo.OrderData.entered_by, dbo.OrderData.entered_on, dbo.OrderData.last_modified_by, 
                         dbo.OrderData.last_modified_on, dbo.OrderData.asset_id, dbo.Asset.site_code
FROM            dbo.OrderData INNER JOIN
                         dbo.Asset ON dbo.OrderData.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[order_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[order_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[order_number]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[order_number]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[product_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[product_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[order_quantity]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[order_quantity]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[UOM_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[UOM_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[routed_cycle_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[routed_cycle_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[minutes_allowed_per_setup]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[minutes_allowed_per_setup]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[ideal]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[ideal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[target_percent_of_ideal]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[production_status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[production_status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[setup_start_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[setup_start_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[setup_end_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[setup_end_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[production_start_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[production_start_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[production_end_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[production_end_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[start_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[start_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[end_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[end_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[is_current_order]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[is_current_order]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[OrderData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[OrderData_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1093" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.OrderData_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[parker_site_access]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parker_site_access].[ad_account]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[parker_site_access].[site_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="39" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Asset_Asset_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Asset].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="9" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AssetDisplaySystem_AssetDisplaySystem_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AssetDisplaySystem].[assetdisplaysystem_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="16" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AssetProductTarget_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AssetProductTarget].[assetproducttarget_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AssetProductTarget]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="17" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_CommentData_CommentData_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CommentData].[commentdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CommentData]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="18" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_CommonParametersTest_Parameter_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CommonParameters].[parameter_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="20" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_DTData_DTData_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DTData].[dtdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="24" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_DTReason_DTReason_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DTReason].[dtreason_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DTReason]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="27" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_DxHData_DxHData_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[DxHData].[dxhdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="28" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_InterShift_InterShift_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[InterShiftData].[intershift_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[InterShiftData]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="37" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_OrderData_Order_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[OrderData].[order_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="38" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_parker_site_access]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[parker_site_access].[ad_account]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[parker_site_access].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="39" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Product_Product_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Product].[product_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Product]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="40" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ProductionData_ProductionData_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProductionData].[productiondata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="41" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_ProductionDataHistory_ProductionDataHistory_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProductionData_History].[productiondatahistory_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ProductionData_History]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="42" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Shift_Shift_Id]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Shift].[shift_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="43" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_SupervisorAsset_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SupervisorAsset].[supervisorasset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SupervisorAsset]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="44" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Tag_Tag_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Tag].[tag_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Tag]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="45" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_TagData_TagData_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TagData].[tagdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[TagData]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="46" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Unavailable_Unavailable_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Unavailable].[unavailable_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Unavailable]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="47" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_UOM_UOM_Id]">
			<Property Name="IsClustered" Value="False" />
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UOM].[UOM_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UOM]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="48" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_Workcell]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Workcell].[workcell_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Workcell]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="49" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProdDataAggregateByHour]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.DxHData.asset_id, dbo.DxHData.production_day, SUM(dbo.ProductionData.target) AS TargetPieces, SUM(dbo.ProductionData.actual) AS ActualPieces, dbo.DxHData.shift_code, dbo.DxHData.hour_interval, 
                         CASE WHEN SUM(dbo.ProductionData.actual) < SUM(dbo.ProductionData.target) THEN 'Behind' ELSE 'Ahead' END AS Status, SUM(dbo.ProductionData.ideal) AS IdeaPieces, dbo.Asset.asset_code
FROM            dbo.DxHData INNER JOIN
                         dbo.ProductionData ON dbo.DxHData.dxhdata_id = dbo.ProductionData.dxhdata_id INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id
GROUP BY dbo.DxHData.production_day, dbo.DxHData.shift_code, dbo.DxHData.hour_interval, dbo.DxHData.asset_id, dbo.Asset.asset_code]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[TargetPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[ActualPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[hour_interval]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[hour_interval]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[Status]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[IdeaPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="835" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[ProdDataAggregateByHour]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProdDataAggregateByHour_MN]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT dbo.DxHData.asset_id, dbo.DxHData.production_day, SUM(dbo.ProductionData.target) AS TargetPieces, SUM(dbo.ProductionData.actual) AS ActualPieces, dbo.DxHData.shift_code, dbo.DxHData.hour_interval, CASE WHEN SUM(dbo.ProductionData.actual) 
             < SUM(dbo.ProductionData.target) THEN 'Behind' ELSE 'Ahead' END AS Status, SUM(dbo.ProductionData.ideal) AS IdeaPieces, dbo.Asset.asset_code, dbo.Asset.site_code
FROM   dbo.DxHData INNER JOIN
             dbo.ProductionData ON dbo.DxHData.dxhdata_id = dbo.ProductionData.dxhdata_id INNER JOIN
             dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id
GROUP BY dbo.DxHData.production_day, dbo.DxHData.shift_code, dbo.DxHData.hour_interval, dbo.DxHData.asset_id, dbo.Asset.asset_code, dbo.Asset.site_code
HAVING (dbo.Asset.site_code = 'Manhattan')]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[TargetPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[ActualPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[hour_interval]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[hour_interval]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[Status]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[IdeaPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_MN].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="868" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.ProdDataAggregateByHour_MN&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProdDataAggregateByHour_VH]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.DxHData.asset_id, dbo.DxHData.production_day, SUM(dbo.ProductionData.target) AS TargetPieces, SUM(dbo.ProductionData.actual) AS ActualPieces, dbo.DxHData.shift_code, dbo.DxHData.hour_interval, 
                         CASE WHEN SUM(dbo.ProductionData.actual) < SUM(dbo.ProductionData.target) THEN 'Behind' ELSE 'Ahead' END AS Status, SUM(dbo.ProductionData.ideal) AS IdeaPieces, dbo.Asset.asset_code, dbo.Asset.site_code
FROM            dbo.DxHData INNER JOIN
                         dbo.ProductionData ON dbo.DxHData.dxhdata_id = dbo.ProductionData.dxhdata_id INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id
GROUP BY dbo.DxHData.production_day, dbo.DxHData.shift_code, dbo.DxHData.hour_interval, dbo.DxHData.asset_id, dbo.Asset.asset_code, dbo.Asset.site_code
HAVING        (dbo.Asset.site_code IN ('Veniano_Hose', 'Veniano_HA'))]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[TargetPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[ActualPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[hour_interval]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[hour_interval]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[Status]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[IdeaPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByHour_VH].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="951" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[ProdDataAggregateByHour_VH]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProdDataAggregateByShift]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.DxHData.production_day, SUM(dbo.ProductionData.target) AS TargetPieces, SUM(dbo.ProductionData.actual) AS ActualPieces, dbo.DxHData.shift_code, CASE WHEN SUM(dbo.ProductionData.actual) 
                         < SUM(dbo.ProductionData.target) THEN 'Behind' ELSE 'Ahead' END AS Status, dbo.Asset.asset_code
FROM            dbo.DxHData INNER JOIN
                         dbo.ProductionData ON dbo.DxHData.dxhdata_id = dbo.ProductionData.dxhdata_id INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id
GROUP BY dbo.DxHData.asset_code, dbo.DxHData.production_day, dbo.DxHData.shift_code, dbo.DxHData.hour_interval, dbo.DxHData.asset_id, dbo.Asset.asset_code]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift].[TargetPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift].[ActualPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift].[Status]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="766" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[ProdDataAggregateByShift]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProdDataAggregateByShift_MN]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT dbo.DxHData.production_day, SUM(dbo.ProductionData.target) AS TargetPieces, SUM(dbo.ProductionData.actual) AS ActualPieces, dbo.DxHData.shift_code, CASE WHEN SUM(dbo.ProductionData.actual) < SUM(dbo.ProductionData.target) 
             THEN 'Behind' ELSE 'Ahead' END AS Status, dbo.Asset.asset_code
FROM   dbo.DxHData INNER JOIN
             dbo.ProductionData ON dbo.DxHData.dxhdata_id = dbo.ProductionData.dxhdata_id INNER JOIN
             dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id
GROUP BY dbo.DxHData.asset_code, dbo.DxHData.production_day, dbo.DxHData.shift_code, dbo.DxHData.asset_id, dbo.Asset.asset_code, dbo.Asset.site_code
HAVING (dbo.Asset.site_code = 'Manhattan')]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_MN].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_MN].[TargetPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_MN].[ActualPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_MN].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_MN].[Status]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_MN].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="751" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.ProdDataAggregateByShift_MN&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProdDataAggregateByShift_VH]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.DxHData.production_day, SUM(dbo.ProductionData.target) AS TargetPieces, SUM(dbo.ProductionData.actual) AS ActualPieces, dbo.DxHData.shift_code, CASE WHEN SUM(dbo.ProductionData.actual) 
                         < SUM(dbo.ProductionData.target) THEN 'Behind' ELSE 'Ahead' END AS Status, dbo.Asset.asset_code, dbo.Asset.site_code
FROM            dbo.DxHData INNER JOIN
                         dbo.ProductionData ON dbo.DxHData.dxhdata_id = dbo.ProductionData.dxhdata_id INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id
GROUP BY dbo.DxHData.asset_code, dbo.DxHData.production_day, dbo.DxHData.shift_code, dbo.DxHData.hour_interval, dbo.DxHData.asset_id, dbo.Asset.asset_code, dbo.Asset.site_code
HAVING        (dbo.Asset.site_code IN ('Veniano_Hose', 'Veniano_HA'))]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_VH].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_VH].[TargetPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_VH].[ActualPieces]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_VH].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_VH].[Status]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_VH].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProdDataAggregateByShift_VH].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="882" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[ProdDataAggregateByShift_VH]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Product]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[product_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[product_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[product_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[product_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[product_family]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[value_stream]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[grouping1]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[grouping2]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[grouping3]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[grouping4]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[grouping5]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Product].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="40" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[Product_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.Product.product_id, dbo.Product.product_code, dbo.Product.product_name, dbo.Product.product_description, dbo.Product.product_family, dbo.Product.value_stream, dbo.Product.grouping1, dbo.Product.grouping2, 
                         dbo.Product.grouping3, dbo.Product.grouping4, dbo.Product.grouping5, dbo.Product.status, dbo.Product.entered_by, dbo.Product.entered_on, dbo.Product.last_modified_by, dbo.Product.last_modified_on, dbo.Product.asset_id, 
                         dbo.ProductCodeSite_vw.site_code
FROM            dbo.Product INNER JOIN
                         dbo.ProductCodeSite_vw ON dbo.Product.product_code = dbo.ProductCodeSite_vw.product_code INNER JOIN
                         dbo.parker_site_access ON dbo.ProductCodeSite_vw.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[product_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[product_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[product_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[product_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[product_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[product_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[product_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[product_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[product_family]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[product_family]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[value_stream]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[value_stream]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[grouping1]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[grouping1]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[grouping2]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[grouping2]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[grouping3]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[grouping3]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[grouping4]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[grouping4]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[grouping5]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[grouping5]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Product].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Product_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductCodeSite_vw].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Product]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductCodeSite_vw]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductCodeSite_vw].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductCodeSite_vw].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_family]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="891" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.Product_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProductCodeSite_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT DISTINCT dbo.ProductionData.product_code, asset.site_code
FROM            dbo.ProductionData INNER JOIN
                         dbo.DxHData ON dbo.ProductionData.dxhdata_id = dbo.DxHData.dxhdata_id INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductCodeSite_vw].[product_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[product_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductCodeSite_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="502" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.ProductCodeSite_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ProductionData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[productiondata_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[dxhdata_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[product_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[target]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[actual]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[UOM_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[order_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[order_number]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[start_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[end_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[setup_scrap]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[other_scrap]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData].[name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="41" />
			<AttachedAnnotation Disambiguator="34" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[ProductionData].[ProductionData_DxHData_Id_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProductionData].[dxhdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[ProductionData].[ProductionData_Order_Id_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProductionData].[order_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[ProductionData].[ProductionData_Order_Num_Start_T_NC_Index]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProductionData].[order_number]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ProductionData].[start_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[ProductionData_History]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[productiondatahistory_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[productiondata_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[dxhdata_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[product_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[ideal]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[target]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[actual]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[UOM_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[order_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[order_number]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[start_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[end_time]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[entered_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[entered_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[last_modified_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[last_modified_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[history_entered_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[history_entered_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[ProductionData_History].[history_entered_on_UTC]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="42" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProductionData_view]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT dbo.DxHData.production_day, dbo.DxHData.hour_interval, SUM(dbo.ProductionData.ideal) AS [Total Ideal], SUM(dbo.ProductionData.target) AS [Total target], SUM(dbo.ProductionData.actual) AS [Total Actual], dbo.Asset.asset_name, dbo.Asset.site_code, dbo.Asset.asset_id, 
             dbo.Asset.asset_code, COUNT(dbo.ProductionData.order_id) AS OrderCount, dbo.ProductionData.order_number, SUM(dbo.ProductionData.other_scrap) AS [Other Scrap], SUM(dbo.ProductionData.setup_scrap) AS [Setup Scrap]
FROM   dbo.DxHData INNER JOIN
             dbo.ProductionData ON dbo.DxHData.dxhdata_id = dbo.ProductionData.dxhdata_id INNER JOIN
             dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id
GROUP BY dbo.DxHData.production_day, dbo.DxHData.hour_interval, dbo.Asset.asset_name, dbo.Asset.site_code, dbo.Asset.asset_id, dbo.Asset.asset_code, dbo.ProductionData.order_number]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[production_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[production_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[hour_interval]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[DxHData].[hour_interval]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[Total Ideal]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[Total target]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[Total Actual]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[asset_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[asset_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[OrderCount]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[order_number]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[order_number]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[Other Scrap]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_view].[Setup Scrap]" />
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="924" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.ProductionData_view&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[ProductionData_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.ProductionData.*, dbo.Asset.asset_id, dbo.Asset.site_code
FROM            dbo.ProductionData INNER JOIN
                         dbo.DxHData ON dbo.ProductionData.dxhdata_id = dbo.DxHData.dxhdata_id INNER JOIN
                         dbo.Asset ON dbo.DxHData.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[productiondata_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[productiondata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[dxhdata_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[dxhdata_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[product_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[product_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[ideal]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[ideal]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[target]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[target]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[actual]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[actual]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[UOM_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[UOM_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[order_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[order_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[order_number]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[order_number]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[start_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[start_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[end_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[end_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[setup_scrap]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[setup_scrap]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[other_scrap]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[other_scrap]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[ProductionData].[name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[ProductionData_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="512" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.ProductionData_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Shift]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[shift_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[shift_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[shift_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[shift_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[shift_sequence]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[start_time]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[start_time_offset_days]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="3" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[end_time]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[end_time_offset_days]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[duration_in_minutes]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[valid_from]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[valid_to]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[team_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[is_first_shift_of_day]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Shift].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="43" />
			<AttachedAnnotation Disambiguator="35" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="50" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[Shift_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.Shift.shift_id, dbo.Shift.shift_code, dbo.Shift.shift_name, dbo.Shift.shift_description, dbo.Shift.shift_sequence, dbo.Shift.start_time, dbo.Shift.end_time, dbo.Shift.duration_in_minutes, dbo.Shift.valid_from, dbo.Shift.valid_to, 
                         dbo.Shift.team_code, dbo.Shift.is_first_shift_of_day, dbo.Shift.status, dbo.Shift.entered_by, dbo.Shift.entered_on, dbo.Shift.last_modified_by, dbo.Shift.last_modified_on, dbo.Shift.asset_id, dbo.Asset.site_code
FROM            dbo.Shift INNER JOIN
                         dbo.Asset ON dbo.Shift.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[shift_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[shift_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[shift_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[shift_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[shift_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[shift_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[shift_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[shift_sequence]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[shift_sequence]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[start_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[start_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[end_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[end_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[duration_in_minutes]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[duration_in_minutes]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[valid_from]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[valid_from]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[valid_to]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[valid_to]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[team_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[team_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[is_first_shift_of_day]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Shift].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Shift_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[valid_from]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[valid_to]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[team_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="796" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.Shift_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlView" Name="[dbo].[site_code_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT DISTINCT site_code
FROM            dbo.Asset]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[site_code_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="86" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.site_code_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_alterdiagram]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		set nocount on
	
		declare @theId 			int
		declare @retval 		int
		declare @IsDbo 			int
		
		declare @UIDFound 		int
		declare @DiagId			int
		declare @ShouldChangeUID	int
	
		if(@diagramname is null)
		begin
			RAISERROR ('Invalid ARG', 16, 1)
			return -1
		end
	
		execute as caller;
		select @theId = DATABASE_PRINCIPAL_ID();	 
		select @IsDbo = IS_MEMBER(N'db_owner'); 
		if(@owner_id is null)
			select @owner_id = @theId;
		revert;
	
		select @ShouldChangeUID = 0
		select @DiagId = diagram_id, @UIDFound = principal_id from dbo.sysdiagrams where principal_id = @owner_id and name = @diagramname 
		
		if(@DiagId IS NULL or (@IsDbo = 0 and @theId <> @UIDFound))
		begin
			RAISERROR ('Diagram does not exist or you do not have permission.', 16, 1);
			return -3
		end
	
		if(@IsDbo <> 0)
		begin
			if(@UIDFound is null or USER_NAME(@UIDFound) is null) -- invalid principal_id
			begin
				select @ShouldChangeUID = 1 ;
			end
		end

		-- update dds data			
		update dbo.sysdiagrams set definition = @definition where diagram_id = @DiagId ;

		-- change owner
		if(@ShouldChangeUID = 1)
			update dbo.sysdiagrams set principal_id = @theId where diagram_id = @DiagId ;

		-- update dds version
		if(@version is not null)
			update dbo.sysdiagrams set version = @version where diagram_id = @DiagId ;

		return 0
	END]]></Value>
			</Property>
			<Property Name="IsCaller" Value="False" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_alterdiagram].[@diagramname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_alterdiagram].[@owner_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[diagram_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[definition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_alterdiagram].[@definition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_alterdiagram].[@version]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[version]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_alterdiagram].[@diagramname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_alterdiagram].[@owner_id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_alterdiagram].[@version]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_alterdiagram].[@definition]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="User">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1566" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#x9;CREATE PROCEDURE [dbo].[sp_alterdiagram]&#xD;&#xA;&#x9;(&#xD;&#xA;&#x9;&#x9;@diagramname &#x9;sysname,&#xD;&#xA;&#x9;&#x9;@owner_id&#x9;int&#x9;= null,&#xD;&#xA;&#x9;&#x9;@version &#x9;int,&#xD;&#xA;&#x9;&#x9;@definition &#x9;varbinary(max)&#xD;&#xA;&#x9;)&#xD;&#xA;&#x9;WITH EXECUTE AS 'dbo'&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_clocknumber_asset_login]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @site				INT,
 @name				VARCHAR(100),
 @timezone			VARCHAR(100),
 @timezone2			VARCHAR(100),
 @Shift_Name		VARCHAR(100),
 @Shift_Id			INT,
 @language			VARCHAR(100),
 @timeout			FLOAT,
 @summary_timeout	INT,
 @CurrentDateTime	DATETIME,
 @StartDayCurrent	DATETIME,
 @DateOfShift		DATETIME;

IF EXISTS (SELECT site FROM dbo.TFDUsers WHERE 
badge = @badge and Site = (SELECT asset_id FROM [dbo].[Asset] WHERE asset_level = 'Site' and site_code = (SELECT site_code FROM dbo.Asset where asset_code = @asset_code)))
BEGIN
SELECT @site = asset_id, @name = site_code
FROM [dbo].[Asset] WHERE asset_level = 'Site' and site_code = (SELECT site_code FROM dbo.Asset where asset_code = @asset_code);
END

SELECT 
@timezone = ui_timezone,
@timezone2 = site_timezone,
@language = language,
@timeout = inactive_timeout_minutes,
@summary_timeout = summary_timeout
FROM dbo.CommonParameters where site_id = @site;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone @timezone2;
SET @StartDayCurrent = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');

WITH CTE AS
(SELECT shift_id, shift_name, is_first_shift_of_day,
--GET INTERVAL SHIFT FOR TODAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_today,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_today,
--GET INTERVAL SHIFT FOR YESTERDAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_yesterday,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_yesterday,
--GET INTERVAL SHIFT FOR TOMORROW
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_tomorrow,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_tomorrow
FROM dbo.Shift WHERE asset_id = @Site AND STATUS = 'Active')
SELECT 
@Shift_Id = [shift_id],
@Shift_Name = [shift_name],
@DateOfShift = CASE
WHEN @CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday THEN  DATEADD(DAY, -1, @StartDayCurrent)
WHEN @CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow THEN DATEADD(DAY, 1, @StartDayCurrent)
ELSE @StartDayCurrent
END
FROM CTE WHERE 
@CurrentDateTime BETWEEN start_date_time_today AND end_date_time_today OR 
@CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday OR
@CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow;

SELECT ID as id, badge, username, first_name, last_name, role, site, @name as site_name,
 @timezone as timezone, @Shift_Id as shift_id, @Shift_Name as shift_name, FORMAT(@DateOfShift,'yyyy-MM-dd HH:mm') AS date_of_shift, 
 FORMAT(@CurrentDateTime,'yyyy-MM-dd HH:mm') AS current_date_time, @language as language, @timeout as inactive_timeout_minutes, @summary_timeout as summary_timeout
 FROM dbo.TFDUsers where badge = @badge AND Site = @site;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_clocknumber_asset_login].[@badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_clocknumber_asset_login].[@asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[summary_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[shift_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[is_first_shift_of_day]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumber_asset_login].[CTE1].[CTE].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_clocknumber_asset_login].[@badge]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_clocknumber_asset_login].[@asset_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="62" />
				<Property Name="Length" Value="4674" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec [sp_clocknumber_asset_login] '2291', '168H-0006'&#xD;&#xA;&#xD;&#xA; CREATE PROCEDURE [dbo].[sp_clocknumber_asset_login] (@badge as VARCHAR(100), @asset_code as VARCHAR(100))&#xD;&#xA;&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_clocknumberlogin]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
DECLARE
@site				INT,
@name				VARCHAR(100),
@timezone			VARCHAR(100),
@CurrentDateTime	DATETIME,
@StartDayCurrent	DATETIME,
@DateOfShift		DATETIME,
@timezone2			VARCHAR(100),
@Shift_Name			VARCHAR(100),
@Shift_Id			INT,
@language			VARCHAR(100),
@summary_timeout	FLOAT,
@inactive_timeout_minutes FLOAT,
@socket_timeout		FLOAT,
@max_regression		FLOAT,
@token_expiration	FLOAT;

IF @machine = '0'
BEGIN
SELECT TOP 1 
@site = site 
FROM dbo.TFDUsers 
WHERE badge = @badge
SELECT TOP 1 
@name = asset_code 
FROM dbo.Asset where asset_id = @site
END
ELSE
BEGIN
SELECT @site = asset_id, 
@name = site_code
FROM DBO.Asset 
WHERE asset_code IN 
(SELECT site_code FROM DBO.Asset WHERE asset_id IN 
(SELECT asset_id FROM DBO.AssetDisplaySystem WHERE displaysystem_name like CONCAT(@machine,'%')));
END

SELECT 
@timezone = ui_timezone,
@timezone2 = site_timezone,
@language = language
FROM dbo.CommonParameters where site_id = @site;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone @timezone2;
SELECT @StartDayCurrent = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');

SELECT
@summary_timeout = summary_timeout,
@inactive_timeout_minutes = inactive_timeout_minutes,
@socket_timeout = socket_timeout,
@max_regression = max_regression,
@token_expiration = token_expiration
FROM dbo.GlobalParameters;

WITH CTE AS
(SELECT shift_id, shift_name, is_first_shift_of_day,
--GET INTERVAL SHIFT FOR TODAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_today,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_today,
--GET INTERVAL SHIFT FOR YESTERDAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_yesterday,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_yesterday,
--GET INTERVAL SHIFT FOR TOMORROW
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_tomorrow,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_tomorrow
FROM dbo.Shift WHERE asset_id = @Site AND STATUS = 'Active')
SELECT 
@Shift_Id = [shift_id],
@Shift_Name = [shift_name],
@DateOfShift = CASE
WHEN @CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday THEN  DATEADD(DAY, -1, @StartDayCurrent)
WHEN @CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow THEN DATEADD(DAY, 1, @StartDayCurrent)
ELSE @StartDayCurrent
END
FROM CTE WHERE 
@CurrentDateTime BETWEEN start_date_time_today AND end_date_time_today OR 
@CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday OR
@CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow;

SELECT ID as id, badge, username, first_name, last_name, role, site, @name as site_name, @timezone as timezone, @Shift_Id as shift_id, @Shift_Name as shift_name, 
FORMAT(@DateOfShift,'yyyy-MM-dd HH:mm') AS date_of_shift, FORMAT(@CurrentDateTime,'yyyy-MM-dd HH:mm') AS current_date_time, @language as language, @summary_timeout as summary_timeout,
@inactive_timeout_minutes as inactive_timeout_minutes, @socket_timeout as socket_timeout, @max_regression as max_regression, @token_expiration as token_expiration 
FROM dbo.TFDUsers where badge = @badge AND Site = @site


END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_clocknumberlogin].[@machine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_clocknumberlogin].[@badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[summary_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[socket_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[max_regression]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[token_expiration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[shift_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[is_first_shift_of_day]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_clocknumberlogin].[CTE1].[CTE].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_clocknumberlogin].[@badge]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_clocknumberlogin].[@machine]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="45" />
				<Property Name="Length" Value="5046" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec sp_clocknumberlogin '2291', '0'&#xD;&#xA;&#xD;&#xA; CREATE PROCEDURE [dbo].[sp_clocknumberlogin] (@badge as VARCHAR(100), @machine as VARCHAR(100))&#xD;&#xA;&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_creatediagram]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		set nocount on
	
		declare @theId int
		declare @retval int
		declare @IsDbo	int
		declare @userName sysname
		if(@version is null or @diagramname is null)
		begin
			RAISERROR (N'E_INVALIDARG', 16, 1);
			return -1
		end
	
		execute as caller;
		select @theId = DATABASE_PRINCIPAL_ID(); 
		select @IsDbo = IS_MEMBER(N'db_owner');
		revert; 
		
		if @owner_id is null
		begin
			select @owner_id = @theId;
		end
		else
		begin
			if @theId <> @owner_id
			begin
				if @IsDbo = 0
				begin
					RAISERROR (N'E_INVALIDARG', 16, 1);
					return -1
				end
				select @theId = @owner_id
			end
		end
		-- next 2 line only for test, will be removed after define name unique
		if EXISTS(select diagram_id from dbo.sysdiagrams where principal_id = @theId and name = @diagramname)
		begin
			RAISERROR ('The name is already used.', 16, 1);
			return -2
		end
	
		insert into dbo.sysdiagrams(name, principal_id , version, definition)
				VALUES(@diagramname, @theId, @version, @definition) ;
		
		select @retval = @@IDENTITY 
		return @retval
	END]]></Value>
			</Property>
			<Property Name="IsCaller" Value="False" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_creatediagram].[@version]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_creatediagram].[@diagramname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_creatediagram].[@owner_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[diagram_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[version]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[definition]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_creatediagram].[@definition]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_creatediagram].[@diagramname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_creatediagram].[@owner_id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_creatediagram].[@version]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_creatediagram].[@definition]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="User">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1281" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#x9;CREATE PROCEDURE [dbo].[sp_creatediagram]&#xD;&#xA;&#x9;(&#xD;&#xA;&#x9;&#x9;@diagramname &#x9;sysname,&#xD;&#xA;&#x9;&#x9;@owner_id&#x9;&#x9;int&#x9;= null, &#x9;&#xD;&#xA;&#x9;&#x9;@version &#x9;&#x9;int,&#xD;&#xA;&#x9;&#x9;@definition &#x9;varbinary(max)&#xD;&#xA;&#x9;)&#xD;&#xA;&#x9;WITH EXECUTE AS 'dbo'&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_dropdiagram]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		set nocount on
		declare @theId 			int
		declare @IsDbo 			int
		
		declare @UIDFound 		int
		declare @DiagId			int
	
		if(@diagramname is null)
		begin
			RAISERROR ('Invalid value', 16, 1);
			return -1
		end
	
		EXECUTE AS CALLER;
		select @theId = DATABASE_PRINCIPAL_ID();
		select @IsDbo = IS_MEMBER(N'db_owner'); 
		if(@owner_id is null)
			select @owner_id = @theId;
		REVERT; 
		
		select @DiagId = diagram_id, @UIDFound = principal_id from dbo.sysdiagrams where principal_id = @owner_id and name = @diagramname 
		if(@DiagId IS NULL or (@IsDbo = 0 and @UIDFound <> @theId))
		begin
			RAISERROR ('Diagram does not exist or you do not have permission.', 16, 1)
			return -3
		end
	
		delete from dbo.sysdiagrams where diagram_id = @DiagId;
	
		return 0;
	END]]></Value>
			</Property>
			<Property Name="IsCaller" Value="False" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_dropdiagram].[@diagramname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_dropdiagram].[@owner_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[diagram_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_dropdiagram].[@diagramname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_dropdiagram].[@owner_id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="User">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="937" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#x9;CREATE PROCEDURE [dbo].[sp_dropdiagram]&#xD;&#xA;&#x9;(&#xD;&#xA;&#x9;&#x9;@diagramname &#x9;sysname,&#xD;&#xA;&#x9;&#x9;@owner_id&#x9;int&#x9;= null&#xD;&#xA;&#x9;)&#xD;&#xA;&#x9;WITH EXECUTE AS 'dbo'&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_get_users_by_badge]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 

SELECT 
--Asset columns
[asset_id], [asset_code], [asset_name], [asset_description], [asset_level], [site_code], [parent_asset_code], [value_stream], [automation_level], 
[include_in_escalation], [grouping1], [grouping2], [grouping3], [grouping4], [grouping5], [status], [entered_by], [entered_on], [last_modified_by], 
[last_modified_on],
--User columns
[Badge], [Username], [First_Name], [Last_Name], [Role], [Site], [ID] as id
FROM [dbo].[Asset] JOIN [dbo].[TFDUsers] ON [Asset].[asset_id] = [TFDUsers].[Site] WHERE [TFDUsers].[Badge] = @badge


END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[automation_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[include_in_escalation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_get_users_by_badge].[@badge]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_get_users_by_badge].[@badge]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="5" />
				<Property Name="Length" Value="658" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA; CREATE PROCEDURE [dbo].[sp_get_users_by_badge] (@badge as NVARCHAR(100))&#xD;&#xA;&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_get_workcell]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
DECLARE
    @workcell_id int,
    @workcell_name VARCHAR(100),
    @workcell_description VARCHAR(100),
	@site VARCHAR(100)

SELECT @site = site_code
FROM dbo.Asset
WHERE asset_id = @site_id

SELECT @workcell_id = A.grouping1 
FROM dbo.Asset A 
INNER JOIN dbo.AssetDisplaySystem AD 
ON AD.asset_id = A.asset_id 
WHERE AD.displaysystem_name = @station

SELECT @workcell_name = workcell_name,
@workcell_description = workcell_description 
FROM dbo.Workcell 
WHERE workcell_id = @workcell_id

IF EXISTS (SELECT asset_code, asset_name, asset_id, @station as displaysystem_name, 
		   @workcell_name as workcell_name, @workcell_description as workcell_description
           FROM dbo.Asset
           WHERE grouping1 = @workcell_id)
BEGIN
SELECT asset_code, asset_name, asset_id, @station as displaysystem_name, @workcell_name as workcell_name, @workcell_description as workcell_description
FROM dbo.Asset
WHERE grouping1 = @workcell_id
AND asset_level = 'Cell'
AND status = 'Active'
ORDER BY asset_name
END

ELSE
BEGIN

SELECT asset_code, asset_name, asset_id, 'No Station' as displaysystem_name, 'No Workcell' as workcell_name, 'No Workcell' as workcell_description
FROM dbo.Asset
WHERE site_code = @site
AND asset_level = 'Cell'
AND status = 'Active'
ORDER BY asset_name
END
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_get_workcell].[@site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_get_workcell].[@station]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Workcell]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Workcell].[workcell_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Workcell].[workcell_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Workcell].[workcell_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_get_workcell].[@station]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_get_workcell].[@site_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="45" />
				<Property Name="Length" Value="1471" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec sp_get_workcell 'CR2080435W1', 1&#xD;&#xA;&#xD;&#xA;CREATE       PROCEDURE [dbo].[sp_get_workcell] (@station as VARCHAR(100),&#xD;&#xA;@site_id as INT)&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_getshifts]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @CurrentDateTime	DATETIME,
 @StartDayCurrent	DATETIME,
 @DateOfShift		DATETIME;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone site_timezone
FROM dbo.CommonParameters where site_id = @Site;
SET @StartDayCurrent = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');


            SELECT shift_id, 
                   shift_code, 
                   shift_name, 
                   shift_sequence, 
                   DATEPART(hour, start_time) AS hour, 
                   [duration_in_minutes],
                   --GET INTERVAL SHIFT FOR TODAY
				   CASE
						WHEN end_time < start_time AND is_first_shift_of_day = 1
						THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
						ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
				   END AS start_date_time_today,
				   CASE
						WHEN end_time < start_time AND is_first_shift_of_day = 0
						THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
						ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
				   END AS end_date_time_today,
				   --GET INTERVAL SHIFT FOR YESTERDAY
				   CASE
						WHEN end_time < start_time AND is_first_shift_of_day = 1
						THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
						ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
				   END AS start_date_time_yesterday,
				   CASE
						WHEN end_time < start_time AND is_first_shift_of_day = 0
						THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
						ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
				   END AS end_date_time_yesterday,
				   --GET INTERVAL SHIFT FOR TOMORROW
				   CASE
						WHEN end_time < start_time AND is_first_shift_of_day = 1
						THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
						ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
				   END AS start_date_time_tomorrow,
				   CASE
						WHEN end_time < start_time AND is_first_shift_of_day = 0
						THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
						ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
				   END AS end_date_time_tomorrow
				   FROM [dbo].[Shift]
				   WHERE STATUS = 'Active' AND asset_id = @site ORDER BY shift_sequence;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_getshifts].[@Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_getshifts].[@Site]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="38" />
				<Property Name="Length" Value="3162" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec [dbo].[sp_getshifts] 119&#xD;&#xA;&#xD;&#xA; CREATE PROCEDURE [dbo].[sp_getshifts] (@Site as int)&#xD;&#xA;&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_helpdiagramdefinition]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		set nocount on

		declare @theId 		int
		declare @IsDbo 		int
		declare @DiagId		int
		declare @UIDFound	int
	
		if(@diagramname is null)
		begin
			RAISERROR (N'E_INVALIDARG', 16, 1);
			return -1
		end
	
		execute as caller;
		select @theId = DATABASE_PRINCIPAL_ID();
		select @IsDbo = IS_MEMBER(N'db_owner');
		if(@owner_id is null)
			select @owner_id = @theId;
		revert; 
	
		select @DiagId = diagram_id, @UIDFound = principal_id from dbo.sysdiagrams where principal_id = @owner_id and name = @diagramname;
		if(@DiagId IS NULL or (@IsDbo = 0 and @UIDFound <> @theId ))
		begin
			RAISERROR ('Diagram does not exist or you do not have permission.', 16, 1);
			return -3
		end

		select version, definition FROM dbo.sysdiagrams where diagram_id = @DiagId ; 
		return 0
	END]]></Value>
			</Property>
			<Property Name="IsCaller" Value="False" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_helpdiagramdefinition].[@diagramname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_helpdiagramdefinition].[@owner_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[diagram_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[version]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[definition]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_helpdiagramdefinition].[@diagramname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_helpdiagramdefinition].[@owner_id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="User">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="961" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#x9;CREATE PROCEDURE [dbo].[sp_helpdiagramdefinition]&#xD;&#xA;&#x9;(&#xD;&#xA;&#x9;&#x9;@diagramname &#x9;sysname,&#xD;&#xA;&#x9;&#x9;@owner_id&#x9;int&#x9;= null &#x9;&#x9;&#xD;&#xA;&#x9;)&#xD;&#xA;&#x9;WITH EXECUTE AS N'dbo'&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_helpdiagrams]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		DECLARE @user sysname
		DECLARE @dboLogin bit
		EXECUTE AS CALLER;
			SET @user = USER_NAME();
			SET @dboLogin = CONVERT(bit,IS_MEMBER('db_owner'));
		REVERT;
		SELECT
			[Database] = DB_NAME(),
			[Name] = name,
			[ID] = diagram_id,
			[Owner] = USER_NAME(principal_id),
			[OwnerID] = principal_id
		FROM
			sysdiagrams
		WHERE
			(@dboLogin = 1 OR USER_NAME(principal_id) = @user) AND
			(@diagramname IS NULL OR name = @diagramname) AND
			(@owner_id IS NULL OR principal_id = @owner_id)
		ORDER BY
			4, 5, 1
	END]]></Value>
			</Property>
			<Property Name="IsCaller" Value="False" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[diagram_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_helpdiagrams].[@diagramname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_helpdiagrams].[@owner_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_helpdiagrams].[@diagramname]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_helpdiagrams].[@owner_id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[NULL]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="User">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="689" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#x9;CREATE PROCEDURE [dbo].[sp_helpdiagrams]&#xD;&#xA;&#x9;(&#xD;&#xA;&#x9;&#x9;@diagramname sysname = NULL,&#xD;&#xA;&#x9;&#x9;@owner_id int = NULL&#xD;&#xA;&#x9;)&#xD;&#xA;&#x9;WITH EXECUTE AS N'dbo'&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_importorders]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        DECLARE @DxHDataTemp TABLE
        (asset_id       INT, 
         timestamp      DATETIME, 
         dxhdata_id     INT, 
         production_day DATETIME, 
         shift_code     VARCHAR(100), 
         hour_interval  VARCHAR(100)
        );
        DECLARE @setup_start_time AS DATETIME, @setup_end_time AS DATETIME, @production_start_time AS DATETIME, @production_end_time AS DATETIME, @bandera AS BIT, @json AS NVARCHAR(MAX), @dxhdata_id INT, @site_code AS VARCHAR(100), @site_id AS INT, @timezone AS VARCHAR(100), @asset_id AS INT;
        SET @site_code =
        (
            SELECT site_code
            FROM Asset
            WHERE asset_code = @asset_code
        );
        SET @site_id =
        (
            SELECT asset_id
            FROM Asset
            WHERE asset_code = @site_code
        );
        SET @timezone =
        (
            SELECT site_timezone
            FROM CommonParameters
            WHERE site_id = @site_id
        );
        SET @asset_id =
        (
            SELECT asset_id
            FROM Asset
            WHERE asset_code = @asset_code
        );
        IF @production_status = 'production'
            BEGIN
                SET @setup_start_time = NULL;
                SET @setup_end_time = NULL;
                SET @production_start_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
                SET @production_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
        END;
            ELSE
            BEGIN
                SET @setup_start_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
                SET @setup_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
                SET @production_start_time = NULL;
                SET @production_end_time = NULL;
        END;
        IF @order_quantity = 0
            BEGIN
                SET @order_quantity = NULL;
        END;
        IF @UOM_code = ''
            BEGIN
                SET @UOM_code = NULL;
        END;
        IF @routed_cycle_time = 0
            BEGIN
                SET @routed_cycle_time = NULL;
        END;
        IF @minutes_allowed_per_setup = 0
            BEGIN
                SET @minutes_allowed_per_setup = NULL;
        END;
        IF @ideal = 0
            BEGIN
                SET @ideal = NULL;
        END;
        IF @target_percent_of_ideal = 0
            BEGIN
                SET @target_percent_of_ideal = NULL;
        END;

        SET @start_time =  (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
        SET @bandera = 0;
        INSERT INTO @DxHDataTemp
        EXEC dbo.spLocal_EY_DxH_Get_DxHDataId 
             @asset_id, 
             @start_time, 
             0;
        SET @dxhdata_id =
        (
            SELECT dxhdata_id
            FROM @DxHDataTemp
        );
        IF EXISTS
        (
            SELECT *
            FROM dbo.Asset
            WHERE asset_id = @asset_id
        )
            BEGIN
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND order_number = @order_number
                          AND is_current_order = 1
                          AND production_status = 'setup'
                          AND @production_status = 'production'
                          AND @bandera = 0
                )
                    BEGIN
                        SET @bandera = 1;
                        UPDATE dbo.OrderData
                          SET 
                              order_quantity = @order_quantity, 
                              UOM_code = @UOM_code, 
                              routed_cycle_time = @routed_cycle_time, 
                              minutes_allowed_per_setup = @minutes_allowed_per_setup, 
                              ideal = @ideal, 
                              target_percent_of_ideal = @target_percent_of_ideal, 
                              production_status = @production_status,
                              setup_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
							  production_start_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                              last_modified_by = @entered_by, 
                              last_modified_on = @entered_on
                        WHERE asset_id = @asset_id
                              AND order_number = @order_number
                              AND is_current_order = 1
                              AND production_status = 'setup'
                              AND @production_status = 'production';
                END;
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND order_number = @order_number
                          AND is_current_order = 1
                          AND production_status = 'setup'
                          AND @production_status = 'setup'
                          AND @bandera = 0
                )
                    BEGIN
                        SET @bandera = 1;
                        UPDATE dbo.OrderData
                          SET 
                              order_quantity = @order_quantity, 
                              UOM_code = @UOM_code, 
                              routed_cycle_time = @routed_cycle_time, 
                              minutes_allowed_per_setup = @minutes_allowed_per_setup, 
                              ideal = @ideal, 
                              target_percent_of_ideal = @target_percent_of_ideal, 
                              production_status = @production_status, 
                              last_modified_by = @entered_by, 
                              last_modified_on = @entered_on
                        WHERE asset_id = @asset_id
                              AND order_number = @order_number
                              AND is_current_order = 1
                              AND production_status = 'setup'
                              AND @production_status = 'setup';
                END;
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND order_number = @order_number
                          AND is_current_order = 1
                          AND production_status = 'production'
                          AND @production_status = 'production'
                          AND @bandera = 0
                )
                    BEGIN
                        SET @bandera = 1;
                        UPDATE dbo.OrderData
                          SET 
                              order_quantity = @order_quantity, 
                              UOM_code = @UOM_code, 
                              routed_cycle_time = @routed_cycle_time, 
                              minutes_allowed_per_setup = @minutes_allowed_per_setup, 
                              ideal = @ideal, 
                              target_percent_of_ideal = @target_percent_of_ideal, 
                              production_status = @production_status, 
                              last_modified_by = @entered_by, 
                              last_modified_on = @entered_on
                        WHERE asset_id = @asset_id
                              AND order_number = @order_number
                              AND is_current_order = 1
                              AND production_status = 'production'
                              AND @production_status = 'production';
                END;
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND order_number = @order_number
                          AND is_current_order = 1
                          AND production_status = 'production'
                          AND @production_status = 'setup'
                          AND @bandera = 0
                )
                    BEGIN
                        SET @bandera = 1;
                        BEGIN
                            UPDATE dbo.OrderData
                              SET 
                                  order_quantity = @order_quantity, 
                                  is_current_order = 0,
                                  end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                                  UOM_code = @UOM_code, 
                                  routed_cycle_time = @routed_cycle_time, 
                                  minutes_allowed_per_setup = @minutes_allowed_per_setup, 
                                  ideal = @ideal, 
                                  target_percent_of_ideal = @target_percent_of_ideal,  
                                  production_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                                  last_modified_by = @entered_by, 
                                  last_modified_on = @entered_on
                            WHERE asset_id = @asset_id
                                  AND order_number = @order_number
                                  AND is_current_order = 1
                                  AND production_status = 'production'
                                  AND @production_status = 'setup';
                END;
                        INSERT INTO dbo.OrderData
                        (order_number, 
                         product_code, 
                         order_quantity, 
                         UOM_code, 
                         routed_cycle_time, 
                         minutes_allowed_per_setup, 
                         ideal, 
                         target_percent_of_ideal, 
                         production_status, 
                         setup_start_time, 
                         setup_end_time, 
                         production_start_time, 
                         production_end_time, 
                         start_time, 
                         end_time, 
                         is_current_order, 
                         entered_by, 
                         entered_on, 
                         last_modified_by, 
                         last_modified_on, 
                         asset_id
                        )
                        VALUES
                        (@order_number, 
                         @product_code, 
                         @order_quantity, 
                         @UOM_code, 
                         @routed_cycle_time, 
                         @minutes_allowed_per_setup, 
                         @ideal, 
                         @target_percent_of_ideal, 
                         @production_status,
                         (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                         NULL, 
                         NULL, 
                         NULL,
                         (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                         NULL, 
                         1, 
                         @entered_by, 
                         @entered_on, 
                         @entered_by, 
                         @entered_on, 
                         @asset_id
                        );
                        EXEC spLocal_EY_DxH_Put_ProductionData 
                             @dxhdata_id, 
                             0, 
                             0, 
                             0, 
                             NULL, 
                             'T', 
                             'D', 
                             @start_time, 
                             0;
                END;
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND @bandera = 0
                )
                    BEGIN
                        IF EXISTS
                        (
                            SELECT *
                            FROM dbo.OrderData
                            WHERE asset_id = @asset_id
                                  AND is_current_order = 1
                                  AND @bandera = 0
                        )
                            BEGIN
                                SET @bandera = 1;
                                UPDATE dbo.OrderData
                                  SET 
                                      is_current_order = 0, 
                                      end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                                      production_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                                      last_modified_by = @entered_by, 
                                      last_modified_on = @entered_on
                                WHERE asset_id = @asset_id
                                      AND is_current_order = 1;
                        END;
                        INSERT INTO dbo.OrderData
                        (order_number, 
                         product_code, 
                         order_quantity, 
                         UOM_code, 
                         routed_cycle_time, 
                         minutes_allowed_per_setup, 
                         ideal, 
                         target_percent_of_ideal, 
                         production_status, 
                         setup_start_time, 
                         setup_end_time, 
                         production_start_time, 
                         production_end_time, 
                         start_time, 
                         end_time, 
                         is_current_order, 
                         entered_by, 
                         entered_on, 
                         last_modified_by, 
                         last_modified_on, 
                         asset_id
                        )
                        VALUES
                        (@order_number, 
                         @product_code, 
                         @order_quantity, 
                         @UOM_code, 
                         @routed_cycle_time, 
                         @minutes_allowed_per_setup, 
                         @ideal, 
                         @target_percent_of_ideal, 
                         @production_status, 
                         @setup_start_time, 
                         NULL, 
                         @production_start_time, 
                         NULL,
                         (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                         NULL, 
                         1, 
                         @entered_by, 
                         @entered_on, 
                         @entered_by, 
                         @entered_on, 
                         @asset_id
                        );
                        EXEC spLocal_EY_DxH_Put_ProductionData 
                             @dxhdata_id, 
                             0, 
                             0, 
                             0, 
                             NULL, 
                             'T', 
                             'D', 
                             @start_time, 
                             0;
                END;
                IF NOT EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                )
                    BEGIN
                        INSERT INTO dbo.OrderData
                        (order_number, 
                         product_code, 
                         order_quantity, 
                         UOM_code, 
                         routed_cycle_time, 
                         minutes_allowed_per_setup, 
                         ideal, 
                         target_percent_of_ideal, 
                         production_status, 
                         setup_start_time, 
                         setup_end_time, 
                         production_start_time, 
                         production_end_time, 
                         start_time, 
                         end_time, 
                         is_current_order, 
                         entered_by, 
                         entered_on, 
                         last_modified_by, 
                         last_modified_on, 
                         asset_id
                        )
                        VALUES
                        (@order_number, 
                         @product_code, 
                         @order_quantity, 
                         @UOM_code, 
                         @routed_cycle_time, 
                         @minutes_allowed_per_setup, 
                         @ideal, 
                         @target_percent_of_ideal, 
                         @production_status, 
                         @setup_start_time, 
                         NULL, 
                         @production_start_time, 
                         NULL,
                         (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                         NULL, 
                         1, 
                         @entered_by, 
                         @entered_on, 
                         @entered_by, 
                         @entered_on, 
                         @asset_id
                        );
                        EXEC spLocal_EY_DxH_Put_ProductionData 
                             @dxhdata_id, 
                             0, 
                             0, 
                             0, 
                             NULL, 
                             'T', 
                             'D', 
                             @start_time, 
                             0;
                END;
        END;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@DxHDataTemp].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importorders].[@product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[sp_importorders].[@DxHDataTemp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importorders].[@DxHDataTemp].[asset_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importorders].[@DxHDataTemp].[timestamp]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importorders].[@DxHDataTemp].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importorders].[@DxHDataTemp].[production_day]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importorders].[@DxHDataTemp].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importorders].[@DxHDataTemp].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@order_number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@asset_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@product_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@order_quantity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@UOM_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@routed_cycle_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@minutes_allowed_per_setup]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@ideal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@target_percent_of_ideal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@production_status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@start_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@entered_by]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importorders].[@entered_on]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="19219" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[sp_importorders]&#xD;&#xA;(@order_number AS              VARCHAR(100), &#xD;&#xA; @asset_code AS                VARCHAR(100), &#xD;&#xA; @product_code AS              VARCHAR(100), &#xD;&#xA; @order_quantity AS            FLOAT, &#xD;&#xA; @UOM_code AS                  VARCHAR(100), &#xD;&#xA; @routed_cycle_time AS         FLOAT, &#xD;&#xA; @minutes_allowed_per_setup AS FLOAT, &#xD;&#xA; @ideal AS                     FLOAT, &#xD;&#xA; @target_percent_of_ideal AS   FLOAT, &#xD;&#xA; @production_status AS         VARCHAR(100), &#xD;&#xA; @start_time AS                DATETIME, &#xD;&#xA; @entered_by AS                VARCHAR(100), &#xD;&#xA; @entered_on AS                DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_importproducts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        IF @product_description = ''
            SET @product_description = NULL;
        IF @product_family = ''
            SET @product_family = NULL;
        IF @value_stream = ''
            SET @value_stream = NULL;
        IF @grouping1 = ''
            SET @grouping1 = NULL;
        IF @grouping2 = ''
            SET @grouping2 = NULL;
        IF @grouping3 = ''
            SET @grouping3 = NULL;
        IF @grouping4 = ''
            SET @grouping4 = NULL;
        IF @grouping5 = ''
            SET @grouping5 = NULL;
        IF EXISTS
        (
            SELECT *
            FROM dbo.Product
            WHERE product_code = @product_code
        )
            BEGIN
                UPDATE dbo.Product
                  SET 
                      product_name = @product_name, 
                      product_description = @product_description, 
                      product_family = @product_family, 
                      value_stream = @value_stream, 
                      grouping1 = @grouping1, 
                      grouping2 = @grouping2, 
                      grouping3 = @grouping3, 
                      grouping4 = @grouping4, 
                      grouping5 = @grouping5, 
                      STATUS = @status, 
                      last_modified_by = @entered_by, 
                      last_modified_on = @timestamp
                WHERE product_code = @product_code;
        END;
            ELSE
            BEGIN
                INSERT INTO dbo.Product
                (product_code, 
                 product_name, 
                 product_description, 
                 product_family, 
                 value_stream, 
                 grouping1, 
                 grouping2, 
                 grouping3, 
                 grouping4, 
                 grouping5, 
                 STATUS, 
                 entered_by, 
                 entered_on, 
                 last_modified_by, 
                 last_modified_on
                )
                VALUES
                (@product_code, 
                 @product_name, 
                 @product_description, 
                 @product_family, 
                 @value_stream, 
                 @grouping1, 
                 @grouping2, 
                 @grouping3, 
                 @grouping4, 
                 @grouping5, 
                 @status, 
                 @entered_by, 
                 @timestamp, 
                 @entered_by, 
                 @timestamp
                );
        END;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@product_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@product_family]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_family]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importproducts].[@timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[entered_on]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@product_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@product_name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@product_description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@product_family]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@value_stream]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@grouping1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@grouping2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@grouping3]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@grouping4]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@grouping5]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@entered_by]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importproducts].[@timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3182" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[sp_importproducts]&#xD;&#xA;(@product_code AS        VARCHAR(100), &#xD;&#xA; @product_name AS        VARCHAR(200), &#xD;&#xA; @product_description AS VARCHAR(256), &#xD;&#xA; @product_family AS      VARCHAR(100), &#xD;&#xA; @value_stream AS        VARCHAR(256), &#xD;&#xA; @grouping1 AS           VARCHAR(256), &#xD;&#xA; @grouping2 AS           VARCHAR(256), &#xD;&#xA; @grouping3 AS           VARCHAR(256), &#xD;&#xA; @grouping4 AS           VARCHAR(256), &#xD;&#xA; @grouping5 AS           VARCHAR(256), &#xD;&#xA; @status AS              VARCHAR(50), &#xD;&#xA; @entered_by AS          VARCHAR(100), &#xD;&#xA; @timestamp AS           DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_importtagdata]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        DECLARE @TagComparation TABLE
        (tagdata_id     INT, 
         current_value  FLOAT, 
         previous_value FLOAT
        );
        DECLARE @DxHDataTemp TABLE
        (asset_id       INT, 
         timestamp      DATETIME, 
         dxhdata_id     INT, 
         production_day DATETIME, 
         shift_code     VARCHAR(100), 
         hour_interval  VARCHAR(100)
        );
        DECLARE @asset_id INT, @dxhdata_id INT, @current_value FLOAT, @previous_value FLOAT, @productiondata_id AS VARCHAR(100), @value FLOAT, @actual FLOAT, @site_code VARCHAR(100), @timezone DATETIME, @setup_scrap FLOAT, @other_scrap FLOAT, @rollover_point FLOAT, @max_change FLOAT, @order_number VARCHAR(100);
        IF @tagdata_value = ''
            BEGIN
                SELECT @tagdata_value = NULL;
        END;
        IF @tagdata_value IS NULL
           OR @tagdata_value = '0'
            BEGIN
                SELECT 'Wrong message';
        END;
            ELSE
            BEGIN
                SELECT @asset_id = asset_id, 
                       @rollover_point = rollover_point, 
                       @max_change = max_change
                FROM dbo.Tag
                WHERE tag_name = @tag_name;
                SELECT @site_code = site_code
                FROM dbo.Asset
                WHERE asset_id = @asset_id;

                SELECT @timezone = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE site_timezone)
                FROM dbo.CommonParameters where site_name = @site_code;

                INSERT INTO dbo.TagData
                (tag_name, 
                 tagdata_value, 
                 entered_by, 
                 entered_on, 
                 last_modified_by, 
                 last_modified_on, 
                 timestamp
                )
                VALUES
                (@tag_name, 
                 @tagdata_value, 
                 @entered_by, 
                 @entered_on, 
                 @entered_by, 
                 @entered_on, 
                 @timezone
                );
                BEGIN
                    INSERT INTO @DxHDataTemp
                    EXEC dbo.spLocal_EY_DxH_Get_DxHDataId
                         @asset_id, 
                         @timezone, 
                         0;
                    SELECT @dxhdata_id = dxhdata_id
                    FROM @DxHDataTemp;
                    SELECT @order_number = order_number
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND is_current_order = 1;
                    BEGIN
                        INSERT INTO @TagComparation
                               SELECT TOP 1 td.tagdata_id, 
                                            td.tagdata_value AS [Current value], 
                                            LAG(td.tagdata_value, 1, 0) OVER(
                                            ORDER BY td.tagdata_id) AS [Previous value]
                               FROM dbo.TagData td
                               WHERE tag_name = @tag_name
                               ORDER BY tagdata_id DESC;
                        SELECT *
                        FROM @TagComparation;
                        SELECT @previous_value = previous_value, 
                               @current_value = current_value
                        FROM @TagComparation;
                        SELECT @value = @current_value - @previous_value;
                        IF @value < 0
                            BEGIN
                                IF ABS(@value) > @max_change
                                    BEGIN
                                        SELECT @value = (@current_value + @rollover_point) - @previous_value;
                                END;
                                    ELSE
                                    BEGIN
                                        SELECT @value = 0;
                                END;
                                IF @value > @max_change
                                    BEGIN
                                        SELECT @value = @current_value;
                                END;
                        END;
                        IF EXISTS
                        (
                            SELECT TOP 1 productiondata_id
                            FROM dbo.ProductionData
                            WHERE dxhdata_id = @dxhdata_id
                                  AND order_number = @order_number
                            ORDER BY start_time DESC
                        )
                            BEGIN
                                SELECT TOP 1 @actual = actual, 
                                             @setup_scrap = setup_scrap, 
                                             @other_scrap = other_scrap, 
                                             @productiondata_id = productiondata_id
                                FROM dbo.ProductionData
                                WHERE dxhdata_id = @dxhdata_id
                                      AND order_number = @order_number
                                ORDER BY start_time DESC;
                                SELECT @value = @value + @actual;
                                EXEC spLocal_EY_DxH_Put_ProductionData 
                                     @dxhdata_id, 
                                     @value, 
                                     @setup_scrap, 
                                     @other_scrap, 
                                     NULL, 
                                     'T', 
                                     'D', 
                                     @timezone, 
                                     @productiondata_id;
                        END;
                            ELSE
                            BEGIN
                                EXEC spLocal_EY_DxH_Put_ProductionData 
                                     @dxhdata_id, 
                                     @value, 
                                     0, 
                                     0, 
                                     NULL, 
                                     'T', 
                                     'D', 
                                     @timezone, 
                                     0;
                        END;
        END;
        END;
        END;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importtagdata].[@tagdata_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[rollover_point]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[max_change]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[tag_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importtagdata].[@tag_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tag_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importtagdata].[@entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importtagdata].[@entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importtagdata].[@DxHDataTemp].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importtagdata].[@TagComparation].[previous_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_importtagdata].[@TagComparation].[current_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[sp_importtagdata].[@TagComparation]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@TagComparation].[tagdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@TagComparation].[current_value]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@TagComparation].[previous_value]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[sp_importtagdata].[@DxHDataTemp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@DxHDataTemp].[asset_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@DxHDataTemp].[timestamp]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@DxHDataTemp].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@DxHDataTemp].[production_day]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@DxHDataTemp].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[sp_importtagdata].[@DxHDataTemp].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importtagdata].[@tag_name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importtagdata].[@tagdata_value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importtagdata].[@entered_by]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_importtagdata].[@entered_on]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="112" />
				<Property Name="Length" Value="6794" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec sp_importtagdata 'Braider_52.PLC.FOOTAGE_COUNT', '832', 'SQL manual entry', '2020-03-30 11:50:59.813'&#xD;&#xA;CREATE PROCEDURE [dbo].[sp_importtagdata]&#xD;&#xA;(@tag_name AS      VARCHAR(200), &#xD;&#xA; @tagdata_value AS VARCHAR(256), &#xD;&#xA; @entered_by AS    VARCHAR(100), &#xD;&#xA; @entered_on AS    DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_orderassembly]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @json_out							nVarchar(max),
 @asset_id							int
 SET @asset_id = (SELECT asset_id from Asset where asset_code = @asset_code)
IF EXISTS (SELECT * FROM dbo.OrderData
WHERE
order_number = @order_number and asset_id = @asset_id and is_current_order = 1)
BEGIN
SET @json_out = (SELECT * FROM dbo.OrderData where 
order_number = @order_number and asset_id = @asset_id and is_current_order = 1 for JSON AUTO, INCLUDE_NULL_VALUES)
END

SELECT @json_out as 'GetOrderAssembly'
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_orderassembly].[@asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_orderassembly].[@order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_orderassembly].[@order_number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_orderassembly].[@asset_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="623" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE     PROCEDURE [dbo].[sp_orderassembly] (@order_number as VARCHAR(100),&#xD;&#xA;@asset_code as VARCHAR(100))&#xD;&#xA;&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_renamediagram]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		set nocount on
		declare @theId 			int
		declare @IsDbo 			int
		
		declare @UIDFound 		int
		declare @DiagId			int
		declare @DiagIdTarg		int
		declare @u_name			sysname
		if((@diagramname is null) or (@new_diagramname is null))
		begin
			RAISERROR ('Invalid value', 16, 1);
			return -1
		end
	
		EXECUTE AS CALLER;
		select @theId = DATABASE_PRINCIPAL_ID();
		select @IsDbo = IS_MEMBER(N'db_owner'); 
		if(@owner_id is null)
			select @owner_id = @theId;
		REVERT;
	
		select @u_name = USER_NAME(@owner_id)
	
		select @DiagId = diagram_id, @UIDFound = principal_id from dbo.sysdiagrams where principal_id = @owner_id and name = @diagramname 
		if(@DiagId IS NULL or (@IsDbo = 0 and @UIDFound <> @theId))
		begin
			RAISERROR ('Diagram does not exist or you do not have permission.', 16, 1)
			return -3
		end
	
		-- if((@u_name is not null) and (@new_diagramname = @diagramname))	-- nothing will change
		--	return 0;
	
		if(@u_name is null)
			select @DiagIdTarg = diagram_id from dbo.sysdiagrams where principal_id = @theId and name = @new_diagramname
		else
			select @DiagIdTarg = diagram_id from dbo.sysdiagrams where principal_id = @owner_id and name = @new_diagramname
	
		if((@DiagIdTarg is not null) and  @DiagId <> @DiagIdTarg)
		begin
			RAISERROR ('The name is already used.', 16, 1);
			return -2
		end		
	
		if(@u_name is null)
			update dbo.sysdiagrams set [name] = @new_diagramname, principal_id = @theId where diagram_id = @DiagId
		else
			update dbo.sysdiagrams set [name] = @new_diagramname where diagram_id = @DiagId
		return 0
	END]]></Value>
			</Property>
			<Property Name="IsCaller" Value="False" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_renamediagram].[@diagramname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_renamediagram].[@new_diagramname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_renamediagram].[@owner_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[diagram_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_renamediagram].[@diagramname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_renamediagram].[@owner_id]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[null]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_renamediagram].[@new_diagramname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="User">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1783" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#x9;CREATE PROCEDURE [dbo].[sp_renamediagram]&#xD;&#xA;&#x9;(&#xD;&#xA;&#x9;&#x9;@diagramname &#x9;&#x9;sysname,&#xD;&#xA;&#x9;&#x9;@owner_id&#x9;&#x9;int&#x9;= null,&#xD;&#xA;&#x9;&#x9;@new_diagramname&#x9;sysname&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;)&#xD;&#xA;&#x9;WITH EXECUTE AS 'dbo'&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_upgraddiagrams]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		IF OBJECT_ID(N'dbo.sysdiagrams') IS NOT NULL
			return 0;
	
		CREATE TABLE dbo.sysdiagrams
		(
			name sysname NOT NULL,
			principal_id int NOT NULL,	-- we may change it to varbinary(85)
			diagram_id int PRIMARY KEY IDENTITY,
			version int,
	
			definition varbinary(max)
			CONSTRAINT UK_principal_name UNIQUE
			(
				principal_id,
				name
			)
		);


		/* Add this if we need to have some form of extended properties for diagrams */
		/*
		IF OBJECT_ID(N'dbo.sysdiagram_properties') IS NULL
		BEGIN
			CREATE TABLE dbo.sysdiagram_properties
			(
				diagram_id int,
				name sysname,
				value varbinary(max) NOT NULL
			)
		END
		*/

		IF OBJECT_ID(N'dbo.dtproperties') IS NOT NULL
		begin
			insert into dbo.sysdiagrams
			(
				[name],
				[principal_id],
				[version],
				[definition]
			)
			select	 
				convert(sysname, dgnm.[uvalue]),
				DATABASE_PRINCIPAL_ID(N'dbo'),			-- will change to the sid of sa
				0,							-- zero for old format, dgdef.[version],
				dgdef.[lvalue]
			from dbo.[dtproperties] dgnm
				inner join dbo.[dtproperties] dggd on dggd.[property] = 'DtgSchemaGUID' and dggd.[objectid] = dgnm.[objectid]	
				inner join dbo.[dtproperties] dgdef on dgdef.[property] = 'DtgSchemaDATA' and dgdef.[objectid] = dgnm.[objectid]
				
			where dgnm.[property] = 'DtgSchemaNAME' and dggd.[uvalue] like N'_EA3E6268-D998-11CE-9454-00AA00A3F36E_' 
			return 2;
		end
		return 1;
	END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[diagram_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[version]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[definition]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varbinary]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UK_principal_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[principal_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[version]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sysdiagrams].[definition]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="3" />
				<Property Name="Length" Value="1523" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#x9;CREATE PROCEDURE [dbo].[sp_upgraddiagrams]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_user_id_login]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @site				INT,
 @name				VARCHAR(100),
 @timezone			VARCHAR(100),
 @timezone2			VARCHAR(100),
 @Shift_Name		VARCHAR(100),
 @Shift_Id			INT,
 @language			VARCHAR(100),
 @timeout			FLOAT,
 @summary_timeout	INT,
 @CurrentDateTime	DATETIME,
 @StartDayCurrent	DATETIME,
 @DateOfShift		DATETIME;

IF EXISTS (SELECT site FROM dbo.TFDUsers WHERE ID = @id)
BEGIN
SELECT @site = asset_id, @name = site_code
FROM [dbo].[Asset] WHERE asset_id = (SELECT site FROM dbo.TFDUsers where ID = @id);
END

SELECT 
@timezone = ui_timezone,
@timezone2 = site_timezone,
@language = language,
@timeout = inactive_timeout_minutes,
@summary_timeout = summary_timeout
FROM dbo.CommonParameters where site_id = @site;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone @timezone2;
SET @StartDayCurrent = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');

WITH CTE AS
(SELECT shift_id, shift_name, is_first_shift_of_day,
--GET INTERVAL SHIFT FOR TODAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_today,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_today,
--GET INTERVAL SHIFT FOR YESTERDAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_yesterday,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_yesterday,
--GET INTERVAL SHIFT FOR TOMORROW
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_tomorrow,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_tomorrow
FROM dbo.Shift WHERE asset_id = @Site AND STATUS = 'Active')
SELECT 
@Shift_Id = [shift_id],
@Shift_Name = [shift_name],
@DateOfShift = CASE
WHEN @CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday THEN  DATEADD(DAY, -1, @StartDayCurrent)
WHEN @CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow THEN DATEADD(DAY, 1, @StartDayCurrent)
ELSE @StartDayCurrent
END
FROM CTE WHERE 
@CurrentDateTime BETWEEN start_date_time_today AND end_date_time_today OR 
@CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday OR
@CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow;

SELECT ID as id, badge, username, first_name, last_name, role, site, @name as site_name, 
@timezone as timezone, @Shift_Id as shift_id, @Shift_Name as shift_name, FORMAT(@DateOfShift,'yyyy-MM-dd HH:mm') AS date_of_shift, 
FORMAT(@CurrentDateTime,'yyyy-MM-dd HH:mm') AS current_date_time, @language as language, @timeout as inactive_timeout_minutes, @summary_timeout as summary_timeout
FROM dbo.TFDUsers where id = @id AND Site = @site;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_user_id_login].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[summary_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[sp_user_id_login].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[shift_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[is_first_shift_of_day]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_user_id_login].[CTE1].[CTE].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_user_id_login].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="34" />
				<Property Name="Length" Value="4379" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec [sp_user_id_login] 1&#xD;&#xA;&#xD;&#xA; CREATE PROCEDURE [dbo].[sp_user_id_login] (@id as INT)&#xD;&#xA;&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[sp_usernamelogin]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @site				INT,
 @name				VARCHAR(100),
 @timezone			VARCHAR(100),
 @timezone2			VARCHAR(100),
 @Shift_Name		VARCHAR(100),
 @Shift_Id			INT,
 @language			VARCHAR(100),
 @summary_timeout	FLOAT,
 @inactive_timeout_minutes FLOAT,
 @socket_timeout		FLOAT,
 @max_regression		FLOAT,
 @token_expiration	FLOAT,
 @CurrentDateTime	DATETIME,
 @StartDayCurrent	DATETIME,
 @DateOfShift		DATETIME;

IF @machine = '0'
BEGIN

SELECT TOP 1 
@site = site 
FROM dbo.TFDUsers 
WHERE username = @username;

SELECT TOP 1 @name = asset_code 
FROM dbo.Asset 
WHERE asset_id = @site;
END
ELSE
BEGIN
SELECT @site = asset_id, 
@name = site_code
FROM DBO.Asset 
WHERE asset_code IN 
(SELECT site_code FROM DBO.Asset WHERE asset_id IN 
(SELECT asset_id FROM DBO.AssetDisplaySystem WHERE displaysystem_name like CONCAT(@machine,'%')));
END

SELECT 
@timezone = ui_timezone,
@timezone2 = site_timezone,
@language = language
FROM dbo.CommonParameters where site_id = @site;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone @timezone2;
SET @StartDayCurrent = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');

SELECT
@summary_timeout = summary_timeout,
@inactive_timeout_minutes = inactive_timeout_minutes,
@socket_timeout = socket_timeout,
@max_regression = max_regression,
@token_expiration = token_expiration
FROM dbo.GlobalParameters;

WITH CTE AS
(SELECT shift_id, shift_name, is_first_shift_of_day,
--GET INTERVAL SHIFT FOR TODAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_today,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_today,
--GET INTERVAL SHIFT FOR YESTERDAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_yesterday,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_yesterday,
--GET INTERVAL SHIFT FOR TOMORROW
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_tomorrow,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_tomorrow
FROM dbo.Shift WHERE asset_id = @Site AND STATUS = 'Active')
SELECT 
@Shift_Id = [shift_id],
@Shift_Name = [shift_name],
@DateOfShift = CASE
WHEN @CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday THEN  DATEADD(DAY, -1, @StartDayCurrent)
WHEN @CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow THEN DATEADD(DAY, 1, @StartDayCurrent)
ELSE @StartDayCurrent
END
FROM CTE WHERE 
@CurrentDateTime BETWEEN start_date_time_today AND end_date_time_today OR 
@CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday OR
@CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow;

SELECT ID as id, badge, username, first_name, last_name, role, site, @name as site_name,
 @timezone as timezone, @Shift_Id as shift_id, @Shift_Name as shift_name, FORMAT(@DateOfShift,'yyyy-MM-dd HH:mm') AS date_of_shift, 
FORMAT(@CurrentDateTime,'yyyy-MM-dd HH:mm') AS current_date_time, @language as language, @summary_timeout as summary_timeout,
@inactive_timeout_minutes as inactive_timeout_minutes, @socket_timeout as socket_timeout, @max_regression as max_regression, @token_expiration as token_expiration 
FROM dbo.TFDUsers where username = @username AND Site = @site;


END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_usernamelogin].[@machine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[sp_usernamelogin].[@username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[summary_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[socket_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[max_regression]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[token_expiration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[shift_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[is_first_shift_of_day]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[sp_usernamelogin].[CTE1].[CTE].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_usernamelogin].[@username]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[sp_usernamelogin].[@machine]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="42" />
				<Property Name="Length" Value="5076" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec sp_usernamelogin 'Ryan', '0'&#xD;&#xA;&#xD;&#xA; CREATE PROCEDURE [dbo].[sp_usernamelogin] (@username as VARCHAR(100), @machine as VARCHAR(100))&#xD;&#xA;&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Create_OrderData]">
			<Property Name="BodyScript">
				<Value><![CDATA[

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

Declare @Output table
	(
	Id							Int Identity,  
	order_number				Varchar(100), 
	asset_id					INT, 
	product_code				Varchar(100), 
	order_quantity				Float, 
	UOM_code					Varchar(100), 
	routed_cycle_time			Float, 
	minutes_allowed_per_setup	Float, 
	target_percent_of_ideal		Float, 
	production_status			Varchar(100), 
	setup_start_time			Datetime,
	production_start_time		Datetime,
	start_time					Datetime, 
	is_current_order			Bit, 
	entered_by					Varchar(100), 
	entered_on					Datetime, 
	last_modified_by			Varchar(100), 
	last_modified_on			Datetime,
	message						Varchar(100)
	)

Declare
	@First						Varchar(50),
	@Last						Varchar(50),
	@Initials					Varchar(50),	
	@Order_Id					Int,
	@Existing_Order_Id			Int,
	@Existing_Production_Status	Varchar(100),
	@ReturnStatus				Int,
	@ReturnMessage				Varchar(1000),
	@Site_Timezone				Varchar(100),
	@Timestamp					Datetime,
	@Timestamp_UTC				Datetime,
	@Setup_Start_Time			Datetime,		
	@Production_Start_Time		Datetime,
	@Order_Number				Varchar(100),
	@site_code					Varchar(100),
	@Site_Id					Int

SET @site_code = (SELECT site_code
				FROM dbo.Asset		
				WHERE asset_id = @asset_id)
SET @site_id = (SELECT site_id 
				FROM dbo.CommonParameters
				WHERE site_name = @site_code
				AND status = 'Active')

Select @Site_Timezone = site_timezone
From dbo.CommonParameters cp with (nolock)
Where site_id = @site_id
	And cp.status = 'Active'

Select @Timestamp = getutcdate() at time zone 'UTC' at time zone @Site_Timezone
Select @Timestamp_UTC = @Timestamp at time zone @Site_Timezone at time zone 'UTC'

If not exists (Select asset_id From dbo.Asset with (nolock) Where asset_id = IsNull(@Asset_Id,''))
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Asset Id ' + convert(varchar,IsNull(@Asset_Id,''))
	Goto ErrExit
End

If not exists (Select product_id From dbo.Product with (nolock) Where product_code = IsNull(@Product_Code,''))
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Product Code ' + convert(varchar,IsNull(@Product_Code,''))
	Goto ErrExit
End

If IsNull(@Order_Quantity,0) <= 0
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Order Quantity ' + convert(varchar,IsNull(@Order_Quantity,''))
	Goto ErrExit
End

If not exists (Select UOM_id From dbo.UOM with (nolock) Where UOM_code = IsNull(@UOM_Code,''))
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid UOM Code ' + convert(varchar,IsNull(@UOM_Code,''))
	Goto ErrExit
End

If IsNull(@Routed_Cycle_Time,0) <= 0
Begin
	Select @Routed_Cycle_Time = convert(float, default_routed_cycle_time)
	From dbo.CommonParameters cp with (nolock)
	Where cp.site_id = @site_id
		And status = 'Active'
End

If IsNull(@Minutes_Allowed_Per_Setup,0) <= 0
Begin
	Select @Minutes_Allowed_Per_Setup = convert(float, default_setup_minutes)
	From dbo.CommonParameters cp with (nolock)
	Where cp.site_id = @site_id
		And status = 'Active'
End

If IsNull(@Target_Percent_Of_Ideal,0) <= 0
Begin
	Select @Target_Percent_Of_Ideal = convert(float, default_target_percent_of_ideal)
	From dbo.CommonParameters cp with (nolock)
	Where cp.site_id = @site_id
		And status = 'Active'
End

If IsNull(@Production_Status,'') not in ( 'Setup','Production')
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Production Status ' + convert(varchar,IsNull(@Production_Status,''))
		Goto ErrExit
End

If exists (Select Badge From dbo.TFDUsers with (nolock) Where Badge = IsNull(@Clock_Number,-1))
Begin
	Select @First = First_Name,
		@Last = Last_Name
	From dbo.TFDUsers with (nolock) 
	Where Badge = @Clock_Number

	If IsNull(@First_Name,'') = ''
	Begin
		Set @First_Name = @First
	End

	If IsNull(@Last_Name,'') = ''
	Begin
		Set @Last_Name = @Last
	End
End

If IsNull(@First_Name,'') = ''
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid First Name ' + convert(varchar,IsNull(@First_Name,''))
		Goto ErrExit
End

If IsNull(@Last_Name,'') = ''
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Last Name ' + convert(varchar,IsNull(@Last_Name,''))
		Goto ErrExit

End

Select @Initials = convert(varchar,left(@First_Name,1)) +  convert(varchar,left(@last_Name,1))

If IsDate(@Timestamp)  <> 1 
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Timestamp ' + convert(varchar,IsNull(@Timestamp,''))
		Goto ErrExit
End

-- Find the current active order on this asset 
-- 
If exists (Select Order_Id From dbo.OrderData with (nolock) Where asset_id = @Asset_Id And is_current_order = 1)
Begin
	Select top 1
		@Existing_Order_Id = Order_Id,
		@Existing_Production_Status = production_status 
	From dbo.OrderData with (nolock)
	Where asset_id = @Asset_Id 
		And is_current_order = 1
	Order By
		entered_on desc 
End

Select @Order_Number = CONVERT(VARCHAR,@Asset_Id) 
	+ '_' 
	+ replace(replace(replace(replace(convert(varchar,@Timestamp,121),' ',''),'-',''),':',''),',','')

If exists 
	(
	Select order_Id 
	From dbo.OrderData with (nolock) 
	Where asset_id = @Asset_Id 
		And order_number = @Order_Number
	)
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Order number exists ' + convert(varchar,IsNull(@Order_Number,''))
		Goto ErrExit
End

Insert @Output
	(
	order_number, 
	asset_id, 
	product_code, 
	order_quantity, 
	UOM_code, 
	routed_cycle_time, 
	minutes_allowed_per_setup, 
	target_percent_of_ideal, 
	production_status, 
	setup_start_time,
	production_start_time,
	start_time, 
	is_current_order, 
	entered_by, 
	entered_on, 
	last_modified_by, 
	last_modified_on,
	message
	)
	Select 
		@Order_Number,
		@Asset_Id,
		@Product_Code,
		@Order_Quantity,
		@UOM_Code,
		@Routed_Cycle_Time,
		@Minutes_Allowed_Per_Setup,
		@Target_Percent_Of_Ideal,
		@Production_Status,
		Null		as 'setup_start_time',
		Null		as 'production_start_time',
		@Timestamp	as 'start_time',
		0			as 'is_current_order',	--Need to Update after insert and after updating existing
		@Initials,
		@Timestamp_UTC,
		@Initials,
		@Timestamp_UTC,
		Null

If @Production_Status = 'Setup'
Begin
	Update @Output
	Set setup_start_time = @Timestamp
End
Else
Begin
	Update @Output
	Set production_start_time = @Timestamp
End

	Insert dbo.OrderData
		(
		order_number, 
		asset_id, 
		product_code, 
		order_quantity, 
		UOM_code, 
		routed_cycle_time, 
		minutes_allowed_per_setup, 
		target_percent_of_ideal, 
		production_status, 
		setup_start_time,
		production_start_time,
		start_time, 
		is_current_order, 
		entered_by, 
		entered_on, 
		last_modified_by, 
		last_modified_on
		)
		Select 
			order_number, 
			asset_id, 
			product_code, 
			order_quantity, 
			UOM_code, 
			routed_cycle_time, 
			minutes_allowed_per_setup, 
			target_percent_of_ideal, 
			production_status, 
			setup_start_time,
			production_start_time,
			start_time, 
			is_current_order, 
			entered_by, 
			entered_on, 
			last_modified_by, 
			last_modified_on		
		From @Output			

		Set @Order_Id =  SCOPE_IDENTITY()

--
If IsNull(@Order_Id,1) > 1 -- the insert into @Output is 1 
Begin
	If IsNull(@Existing_Order_Id,0) > 0
	Begin
		If IsNull(@Existing_Production_Status,'') = 'Setup'
		Begin
			Update OrderData
			Set is_current_order = 0,
				setup_end_time = @Timestamp,
				end_time = @Timestamp,
				last_modified_by = @Initials,
				last_modified_on = @Timestamp_UTC
			Where order_id = @Existing_Order_Id
				And is_current_order = 1 
		End
		Else
		Begin
			Update OrderData
			Set is_current_order = 0,
				production_end_time = @Timestamp,
				end_time = @Timestamp,
				last_modified_by = @Initials,
				last_modified_on = @Timestamp_UTC
			Where order_id = @Existing_Order_Id
				And is_current_order = 1 
		End
	End

	Update OrderData
	Set is_current_order = 1
	Where order_id = @Order_Id

	Select 
		@ReturnStatus = 0,
		@ReturnMessage = 'Inserted ' + convert(varchar,@Order_Id)
End

ErrExit:

	If @ReturnStatus is Null
	Begin
		Select 
			@ReturnStatus = -1,
			@ReturnMessage = 'Unknown Error'
	End 

	Select 
		@ReturnStatus as ReturnStatus,
		@ReturnMessage as ReturnMessage

Return

END


/****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Edit_ProductionData]    Script Date: 4/12/2019 15:14:15 ******/
SET ANSI_NULLS ON]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Product_Code]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Order_Quantity]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@UOM_Code]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Routed_Cycle_Time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Minutes_Allowed_Per_Setup]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Target_Percent_Of_Ideal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Production_Status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_on]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[production_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_end_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[order_number]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[asset_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[product_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[order_quantity]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[UOM_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[routed_cycle_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[minutes_allowed_per_setup]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[target_percent_of_ideal]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[production_status]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[setup_start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[production_start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[is_current_order]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[bit]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[entered_by]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[entered_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[last_modified_by]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[last_modified_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Output].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Product_Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Order_Quantity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@UOM_Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Routed_Cycle_Time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Minutes_Allowed_Per_Setup]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Target_Percent_Of_Ideal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Production_Status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Create_OrderData].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1416" />
				<Property Name="Length" Value="10879" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Create_OrderData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given all the order info like asset, product, qty, UOM, routed_cycle_time, etc, create a new  OrderData row&#xD;&#xA;--&#xD;&#xA;--&#x9;The expectation is that this is to be used by supervisors, but rarely. If there is a situation where order &#xD;&#xA;--&#x9;information is not normally passed in, this is allows for manual creation.&#xD;&#xA;--&#xD;&#xA;--&#x9;An asset can have only one active order. When this is called, it will close whatever is currently active&#xD;&#xA;--&#x9;and make the newly created order active&#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;OrderData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190828&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20190907&#x9;&#x9;C00V01 - Set quoted_identifier on because filtered indexed added&#x9;&#x9;&#xD;&#xA;--&#x9;20191203&#x9;&#x9;C00V02 - Change Asset_Code for Asset_Id&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Create_OrderData 40, '1 1/4 FF-SS PS',25,'PCS', 325, 18, 0.75,'setup','821795000101', Null, Null&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Create_OrderData]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@Asset_Id&#x9;&#x9;&#x9;&#x9;&#x9;INT,&#x9;&#x9;&#x9;-- required and must be in Asset table&#xD;&#xA;&#x9;@Product_Code&#x9;&#x9;&#x9;&#x9;Varchar(100),&#x9;-- required and must be in Product table&#xD;&#xA;&#x9;@Order_Quantity&#x9;&#x9;&#x9;&#x9;Float,&#x9;&#x9;&#x9;-- should be greater than 0&#xD;&#xA;&#x9;@UOM_Code&#x9;&#x9;&#x9;&#x9;&#x9;Varchar(100),&#x9;-- required and must be in UOM table&#xD;&#xA;&#x9;@Routed_Cycle_Time&#x9;&#x9;&#x9;Float,&#x9;&#x9;&#x9;-- seconds to create one part, can use default common parameter&#xD;&#xA;&#x9;@Minutes_Allowed_Per_Setup&#x9;Float,&#x9;&#x9;&#x9;-- Not required &#xD;&#xA;&#x9;@Target_Percent_Of_Ideal&#x9;Float,&#x9;&#x9;&#x9;-- can use default common parameter&#xD;&#xA;&#x9;@Production_Status&#x9;&#x9;&#x9;Varchar(100),&#x9;-- setup or production&#xD;&#xA;&#x9;@Clock_Number&#x9;&#x9;&#x9;&#x9;Varchar(100),&#x9;-- used to look up First and Last, leave Null if you have first and last&#xD;&#xA;&#x9;@First_Name&#x9;&#x9;&#x9;&#x9;&#x9;Varchar(100),&#x9;-- Leave Null if you send Clock Number&#xD;&#xA;&#x9;@Last_Name&#x9;&#x9;&#x9;&#x9;&#x9;Varchar(100)&#x9;-- Leave Null if you send Clock Number&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

--Select 
--	@DxHData_Id	= 3,
--	@ProductionData_Id = 3,
--	@Product_Code = '1 1/2L4MNS PS',
--	@Ideal = 18,
--	@Target = 14,
--	@Actual = 11,
--	@Order_Number = '23456',
----	@Routed_Cycle_Time = '240',
--	@Clock_Number = '2477',
----	@First_Name = '',
----	@Last_Name = '',
--	@Timestamp = '2019-08-28 16:10'


BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

Declare @Output table
	(
	Id							Int Identity,
	productiondata_id			Int, 
	dxhdata_id					Int, 
	product_code				Varchar(100), 
	ideal						Float,
	target						Float,
	actual						Float, 
	UOM_code					Varchar(100), 
	order_id					Int,
	order_number				Varchar(100), 
	start_time					Datetime, 
	end_time					Datetime, 
	entered_by					Varchar(100), 
	entered_on					Datetime, 
	last_modified_by			Varchar(100), 
	last_modified_on			Datetime,
	message						Varchar(100)
	)

Declare @Shift_Hours table
	(
	Id					Int Identity,
	shift_code			Varchar(100),
	shift_name			Varchar(100),
	hour_interval		Varchar(100),
	hour_interval_start	Datetime,
	hour_interval_end	Datetime,
	message				Varchar(256)
	)

Declare @BreakLunch_Details table
	(
	Id							Int Identity,
	dxhdata_id					Int,
	shift_code					Varchar(100),
	hour_interval				Varchar(100),
	hour_interval_start			Datetime,
	hour_interval_end			Datetime,
	breaklunch_start_time		Datetime,
	breaklunch_end_time			Datetime,
	breaklunch_minutes			Float,
	mod_breaklunch_start_time	Datetime,
	mod_breaklunch_end_time		Datetime,
	mod_breaklunch_minutes		Float,
	message						Varchar(256)
	)

Declare
	@First							Varchar(50),
	@Last							Varchar(50),
	@Initials						Varchar(50),	
--	@ProductionData_Id				Int,
	@Existing_Actual				Float,
	@ReturnStatus					Int,
	@ReturnMessage					Varchar(1000),
	@Asset_id						INT,
	@OrderNumber					Varchar(100),
	@Existing_OrderNumber			Varchar(100),
	@Order_Id						Int,
--	@Product_Code					Varchar(100),
	@Existing_Product_Code			Varchar(100),
	@UOM_Code						Varchar(100),
--	@Routed_Cycle_Time				Float,
	@Target_Percent_Of_Ideal		Float,
	@Order_Quantity					Float,
	@Produced_Quantity				Float,
	@Remaining_Quantity				Float,
	@Remaining_BreakMinutes			Float,
	@Remaining_Minutes				Float,
	@TotalRemaining_Minutes			Float,
	@Setup_Lookback_Minutes			Float,
	@Shift_Code						Varchar(100),
	@Production_Day					Datetime,
	@Loop							Int,
	@Hours							Int,
	@FirstInt						Int,
	@Production_Day_Offset_Minutes	Int,	
	@IsFirst						Bit,
	@Calendar_Day_Start				Datetime,
	@Shift_Sequence					Int,
	@Site_Id						Int

If not exists (Select dxhdata_id From dbo.DxHData with (nolock) Where dxhdata_id = IsNull(@DxHData_Id,-1))
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid DxHData_Id ' + convert(varchar,IsNull(@DxHData_Id,''))
	Goto ErrExit
End

Select @Shift_Code = shift_code,
	@Production_Day = production_day,
	@Asset_Id = asset_id
From dbo.DxHData dxh with (nolock)
Where dxhdata_id = @DxHData_Id

If not exists (Select productiondata_id From dbo.ProductionData with (nolock) Where productiondata_id = IsNull(@ProductionData_Id,-1))
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid ProductionData_Id ' + convert(varchar,IsNull(@ProductionData_Id,''))
	Goto ErrExit
End

If not exists (Select product_id From dbo.Product with (nolock) Where product_code = IsNull(@Product_Code,''))
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Product Code ' + convert(varchar,IsNull(@Product_Code,''))
	Goto ErrExit
End

If IsNull(@Ideal,0) < 0
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Ideal ' + convert(varchar,IsNull(@Ideal,''))
	Goto ErrExit
End

If IsNull(@Target,0) < 0
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Target ' + convert(varchar,IsNull(@Target,''))
	Goto ErrExit
End

If IsNull(@Actual,0) < 0
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Actual ' + convert(varchar,IsNull(@Actual,''))
	Goto ErrExit
End

If not exists 
	(
	Select order_id 
	From dbo.OrderData with (nolock) 
	Where order_number = IsNull(@Order_Number,'')
		And product_code = IsNull(@Product_Code,'')
		And asset_id = @Asset_Id
	)
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Order Number ' + convert(varchar,IsNull(@Order_Number,''))
	Goto ErrExit
End

Select @Existing_OrderNumber = pd.order_number,
	@Existing_Product_Code = pd.product_code
From dbo.ProductionData pd with (nolock)
Where pd.productiondata_id = @ProductionData_Id

If IsNull(@Routed_Cycle_Time,0) < 0
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Routed Cycle Time ' + convert(varchar,IsNull(@Routed_Cycle_Time,-1))
		Goto ErrExit
End

If 
	(
	IsNull(@Routed_Cycle_Time,0) > 0
	And 
		(
		IsNull(@Ideal,0) > 0
		Or
		IsNull(@Target,0) > 0
		)
	)
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Unexpected combination of values ' + convert(varchar,IsNull(@Routed_Cycle_Time,-1))
		Goto ErrExit
End

If exists (Select Badge From dbo.TFDUsers with (nolock) Where Badge = IsNull(@Clock_Number,-1))
Begin
	Select @First = First_Name,
		@Last = Last_Name
	From dbo.TFDUsers with (nolock) 
	Where Badge = @Clock_Number

	If IsNull(@First_Name,'') = ''
	Begin
		Set @First_Name = @First
	End

	If IsNull(@Last_Name,'') = ''
	Begin
		Set @Last_Name = @Last
	End
End

If IsNull(@First_Name,'') = ''
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid First Name ' + convert(varchar,IsNull(@First_Name,''))
		Goto ErrExit
End

If IsNull(@Last_Name,'') = ''
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Last Name ' + convert(varchar,IsNull(@Last_Name,''))
		Goto ErrExit

End

Select @Initials = convert(varchar,left(@First_Name,1)) +  convert(varchar,left(@last_Name,1))

If IsDate(@Timestamp) <> 1 
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Timestamp ' + convert(varchar,IsNull(@Timestamp,''))
		Goto ErrExit
End

-- Find the Order for this asset at this time 
Select top 1
	@Order_Id = o.order_id,
--	@OrderNumber = o.order_number,	--Different variable name
--	@Product_Code = o.product_code,	--passed in
	@UOM_Code = o.UOM_code,
	@Order_Quantity = o.order_quantity,
--	@Routed_Cycle_Time = o.routed_cycle_time,	--passed in
	@Target_Percent_Of_Ideal = o.target_percent_of_ideal
From dbo.OrderData o with (nolock),
	dbo.DxHData dxh with (nolock)
Where dxh.dxhdata_id = @DxHData_Id
	And o.asset_id = dxh.asset_id	
--	And o.is_current_order = 1	--maybe not active
	And o.order_number = @Order_Number
Order By
	o.start_time desc

-- Now to decide if it is an insert or some kind of update
-- If there is a productiondata row for this hour and order, then it is an update (increment or override)
-- If not, it is an insert

--************* for the Edit this is always an update/override but sometimes the Ideal/Target get recalculated 
--************* based on a new routed cycle time which is in the "insert" section of the Put code

Select --@ProductionData_Id = pd.productiondata_id,
	@Existing_Actual = pd.actual
From dbo.ProductionData pd with (nolock)
Where pd.dxhdata_id = @DxHData_Id
	And pd.order_id = @Order_Id

If IsNull(@Routed_Cycle_Time,0) <= 0 
--The values for Ideal and Target that are passed in should be Null if there is a value for Routed Cycle Time
--And if there is no Routed Cycle Time then there should be values for Ideal and Target 
Begin

	Update dbo.ProductionData
	Set product_code = @Product_Code,
		ideal = @Ideal,
		target = @Target,
		actual = @Actual,
		order_id = @Order_Id,
		order_number = @Order_Number,
		last_modified_by = @Initials,
		last_modified_on =  GETDATE()
	From dbo.ProductionData pd
	Where pd.productiondata_id = @ProductionData_Id

	Select 
		@ReturnStatus = 0,
		@ReturnMessage = 'Edited ' + convert(varchar,@ProductionData_Id)

End --if Routed Cycle Time <= 0
Else
--still do an update but recalc Ideal and Target
Begin

	--Compute Ideal and target	
	-- 

	SELECT @Site_Id = asset_id FROM [dbo].[Asset] WHERE asset_level = 'Site' AND site_code = (SELECT site_code FROM [dbo].[Asset] WHERE asset_id=@Asset_Id);

	If IsNull(@Routed_Cycle_Time,-1) < 0
	Begin
		Select @Routed_Cycle_Time = convert(float,default_routed_cycle_time)
		From dbo.CommonParameters cpt with (nolock)
		Where site_id = @Site_Id AND status = 'Active';
	End

	If IsNull(@Target_Percent_Of_Ideal,-1) < 0
	Begin
		Select @Target_Percent_Of_Ideal = convert(float,default_target_percent_of_ideal)
		From dbo.CommonParameters cpt with (nolock)
		Where site_id = @Site_Id AND status = 'Active';
	End

	-- Remaining Quantity is Order Quantity - Produced
	-- Don't look back to the beginning of time, but this needs to cover the longest time an order can run
	Select @Setup_Lookback_Minutes = convert(float,setup_lookback_minutes)
	From dbo.CommonParameters cpt with (nolock)
		Where site_id = @Site_Id AND status = 'Active';

	Select @Produced_Quantity = sum(Actual)
	From dbo.ProductionData pd with (nolock)
	Where pd.order_id = @Order_Id
		And start_time >= dateadd(minute,-@Setup_Lookback_Minutes,@Timestamp)		
	Group by
		pd.order_id

	Select @Remaining_Quantity = IsNull(@Order_Quantity,0) - IsNull(@Produced_Quantity,0)

	If IsNull(@Remaining_Quantity,0) < 0
	Begin
		Set @Remaining_Quantity = 0
	End
			
	--Remaining time (minus breaks) is from @Timestamp to the end of the hour 

	Select 
		@Loop = 1,
		@Hours = duration_in_minutes/60,
		@IsFirst = is_first_shift_of_day 
	From dbo.Shift with (nolock)
	Where shift_code = @Shift_Code
		And status = 'Active'

	Select @Production_Day_Offset_Minutes = convert(Int, production_day_offset_minutes)
	From dbo.CommonParameters cpt with (nolock)
		Where site_id = @Site_Id AND status = 'Active';

	--Select @Production_Day_Offset_Minutes = 420, @IsFirst = 1

	Select @Calendar_Day_Start = dateadd(minute,@Production_Day_Offset_Minutes,@Production_Day)

	Select 
		@FirstInt = convert(Int,datepart(hour,start_time)),
		@Shift_Sequence = shift_sequence
	From dbo.Shift with (nolock)
	Where shift_code = @Shift_Code
		And status = 'Active'

	While @Loop - 1 < IsNull(@Hours,0)
	Begin

		Insert @Shift_Hours
			Select 
				shift_code,
				shift_name,
				Null as 'hour_interval',
				case 
					when @IsFirst = 1 then dateadd(hour,@Loop - 1, @Calendar_Day_Start)
					when @IsFirst = 0 then dateadd(hour,@Loop - 1 + @FirstInt,@Production_Day)
					else 0 
				end as 'hour_interval_start',
				Null as 'hour_interval_end',
				Null as 'message'
			From dbo.Shift with (nolock)
			Where shift_code = @Shift_Code
				And status = 'Active'
				
		Set @Loop = @Loop + 1

	End

	Update @Shift_Hours
	Set hour_interval_end =  dateadd(hour,1,hour_interval_start) 

	Update @Shift_Hours
	Set hour_interval = 
		lower
		(
			replace(
				convert
					(varchar(15),cast(hour_interval_start as time),100) 
					+ ' - ' 
					+ convert(varchar(15),cast(hour_interval_end as time),100
					), 
			':00', ''
			)
		)

--Select * From @Shift_Hours

	Insert @BreakLunch_Details
		(
		shift_code,
		hour_interval,
		hour_interval_start,
		hour_interval_end,
		breaklunch_start_time,
		breaklunch_end_time,
		breaklunch_minutes
		)
		Select
			dxh.shift_code,
			dxh.hour_interval,
			hour_interval_start,
			hour_interval_end,
			cast(cast(hour_interval_start as date) as datetime) + cast(u.start_time as datetime) as 'breaklunch_start_time',
			cast(cast(hour_interval_start as date) as datetime) + cast(u.end_time as datetime) as 'breaklunch_end_time',
			Null as 'breaklunch_minutes'
		From dbo.DxHData dxh with (nolock),
			dbo.Unavailable u with (nolock),
			@Shift_Hours sh
		Where dxh.asset_id = u.asset_id
			And dxh.dxhdata_id = @DxHData_Id
			And dxh.shift_code = sh.shift_code
			And dxh.hour_interval = sh.hour_interval
			And cast(sh.hour_interval_start as time) <= u.start_time
			And (cast(sh.hour_interval_end as time) > u.start_time or cast(sh.hour_interval_end as time) = '00:00:00')
			And (cast(sh.hour_interval_end as time) > u.end_time or cast(sh.hour_interval_end as time) = '00:00:00')
			And u.status = 'Active'

	Update @BreakLunch_Details
	Set breaklunch_minutes = datediff(minute,breaklunch_start_time,breaklunch_end_time)

	-- Modify the breaklunch times to bound them by the edges of the hour
	-- In this case @Timestamp is the start of the hour
	Update @BreakLunch_Details
	Set mod_breaklunch_start_time = @Timestamp
	Where breaklunch_start_time < @Timestamp
		And mod_breaklunch_start_time is Null

	Update @BreakLunch_Details
	Set mod_breakLunch_start_time = breaklunch_start_time
	Where breaklunch_start_time >= @Timestamp
		And mod_breaklunch_start_time is Null

	Update @BreakLunch_Details
	Set mod_breaklunch_end_time = hour_interval_end
	Where breaklunch_end_time > hour_interval_end
		And mod_breaklunch_end_time is Null

	Update @Breaklunch_Details
	Set mod_breaklunch_end_time = breaklunch_end_time
	Where breaklunch_end_time < hour_interval_end
		And mod_breaklunch_end_time is Null
	  
	Update @BreakLunch_Details
	Set mod_breaklunch_end_time = hour_interval_end
	Where breaklunch_end_time is Null
		And mod_breaklunch_end_time is Null

	Update @BreakLunch_Details
	Set mod_breaklunch_minutes = datediff(minute,mod_breaklunch_start_time,mod_breaklunch_end_time)

	Select @Remaining_BreakMinutes = mod_breaklunch_minutes
	From @BreakLunch_Details

	If IsNull(@Remaining_BreakMinutes,-1) > 60
	Begin
		Set @Remaining_BreakMinutes = 60
	End

	If IsNull(@Remaining_BreakMinutes,-1) < 0
	Begin
		Set @Remaining_BreakMinutes = 0
	End


	Select @Remaining_Minutes = (60 - @Remaining_BreakMinutes) - datepart(minute,@Timestamp)

	If IsNull(@Remaining_Minutes,-1) > 60
	Begin
		Select @Remaining_Minutes = 60
	End

	If IsNull(@Remaining_Minutes,-1) < 0
	Begin
		Select @Remaining_Minutes = 0
	End

	
	Select @TotalRemaining_Minutes = 60 - datepart(minute,@Timestamp)

	If IsNull(@TotalRemaining_Minutes,-1) > 60
	Begin
		Select @TotalRemaining_Minutes = 60
	End

	If IsNull(@TotalRemaining_Minutes,-1) < 0
	Begin
		Select @TotalRemaining_Minutes = 0
	End

	--Ideal
	--If (Remaining Seconds in an hour / Routed Cycle Time) > Remaining Quantity
	--then Ideal = Remaining Quantity 
	--Else Remaining Seconds in an hour / Routed Cycle Time

	If (convert(Int,(@TotalRemaining_Minutes * 60.0) / @Routed_Cycle_Time)) > @Remaining_Quantity
	Begin
		Update @Output
		Set Ideal = convert(Int,@Remaining_Quantity)
	End
	Else
	Begin
		Update @Output
		Set Ideal = convert(Int,(@TotalRemaining_Minutes * 60.0) / @Routed_Cycle_Time)
	End

	--Target
	If (convert(Int,((@Remaining_Minutes * 60.0) / @Routed_Cycle_Time) * @Target_Percent_Of_Ideal)) > @Remaining_Quantity
	Begin
		Update @Output
		Set Target = convert(Int,@Remaining_Quantity)
	End
	Else
	Begin
		Update @Output
		Set Target = convert(Int,((@Remaining_Minutes * 60.0) / @Routed_Cycle_Time) * @Target_Percent_Of_Ideal)
	End

	If (IsNull(@Ideal,-1) >= 0 And IsNull(@Target,-1) >= 0)
	Begin
		Update dbo.ProductionData
		Set product_code = @Product_Code,
			ideal = @Ideal,
			target = @Target,
			actual = @Actual,
			order_id = @Order_Id,
			order_number = @Order_Number,
			last_modified_by = @Initials,
			last_modified_on =  GETDATE()
		From dbo.ProductionData pd
		Where pd.productiondata_id = @ProductionData_Id

		Select 
			@ReturnStatus = 0,
			@ReturnMessage = 'Updated after calc ' + convert(varchar,@ProductionData_Id)
	End
	Else
	Begin
		Select 
			@ReturnStatus = -1,
			@ReturnMessage = 'Problem with calc of Ideal or Target ' + convert(varchar,@ProductionData_Id)

	End
End

ErrExit:

	If @ReturnStatus is Null
	Begin
		Select 
			@ReturnStatus = -1,
			@ReturnMessage = 'Unknown Error'
	End 

	Select 
		@ReturnStatus as 'Return.Status',
		@ReturnMessage as 'Return.Message'
	For Json path, INCLUDE_NULL_VALUES 

--Select * From @BreakLunch_Details
--Select * From @Output
--Select * From @Shift_Hours

Return

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@ProductionData_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Product_Code]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Ideal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Target]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Actual]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Order_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Routed_Cycle_Time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Timestamp]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[setup_lookback_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[production_day_offset_minutes]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[breaklunch_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[breaklunch_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[breaklunch_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[start_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[mod_breaklunch_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[mod_breaklunch_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[mod_breaklunch_minutes]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[ideal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[target]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[productiondata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[product_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[ideal]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[target]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[actual]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[UOM_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[order_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[order_number]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[entered_by]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[entered_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[last_modified_by]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[last_modified_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Output].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[shift_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval_start]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[hour_interval_end]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Shift_Hours].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[hour_interval_start]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[hour_interval_end]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[breaklunch_start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[breaklunch_end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[breaklunch_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[mod_breaklunch_start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[mod_breaklunch_end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[mod_breaklunch_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@BreakLunch_Details].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@ProductionData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Product_Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Ideal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Target]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Actual]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Order_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Routed_Cycle_Time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Edit_ProductionData].[@Timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1339" />
				<Property Name="Length" Value="18610" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Edit_ProductionData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given a dxhdata_id and needed production info, store the production data&#xD;&#xA;--&#xD;&#xA;--&#x9;&#x9;Note this is intended to be called by supervisor level people but the enforcement of&#xD;&#xA;--&#x9;&#x9;that is to be handled by the user interface&#xD;&#xA;--&#xD;&#xA;--&#x9;The passed in @Product_Code, @Order_Number, and the Asset_Code associated with the &#xD;&#xA;--&#x9;dxhdata_id must be aligned. If they are not, notthing will be edited.&#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;ProductionData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190828&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20191203&#x9;&#x9;C00V01 - Change Asset_Code for Asset_Id&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V02 - Change CommonParameters to CommonParametersTest&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Edit_ProductionData 3, 3, '1 1/2L4MNS PS', 18,14,11, '23456', Null,'2477', Null, Null, '2019-07-25 01:02:03'&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Edit_ProductionData]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@DxHData_Id&#x9;&#x9;&#x9;&#x9;Int,&#x9;&#x9;&#x9;-- the hour Id&#xD;&#xA;&#x9;@ProductionData_Id&#x9;&#x9;Int,&#xD;&#xA;&#x9;@Product_Code&#x9;&#x9;&#x9;Varchar(100),&#x9;-- This can only be different if the order number also changes&#xD;&#xA;&#x9;@Ideal&#x9;&#x9;&#x9;&#x9;&#x9;Float,&#x9;&#x9;&#x9;-- Calculated in SP if routed cycle time is provided &#xD;&#xA;&#x9;@Target&#x9;&#x9;&#x9;&#x9;&#x9;Float,&#x9;&#x9;&#x9;-- Calculated in SP if routed cycle time is provided&#xD;&#xA;&#x9;@Actual&#x9;&#x9;&#x9;&#x9;&#x9;Float,&#x9;&#x9;&#x9;-- must be non-negative&#xD;&#xA;&#x9;@Order_Number&#x9;&#x9;&#x9;Varchar(100),&#x9;-- must align with product code&#x9;and asset&#xD;&#xA;&#x9;@Routed_Cycle_Time&#x9;&#x9;Float,&#x9;&#x9;&#x9;-- Leave Null if you want to pass in Ideal and Target&#xD;&#xA;&#x9;@Clock_Number&#x9;&#x9;&#x9;Varchar(100),&#x9;-- used to look up First and Last, leave Null if you have first and last&#xD;&#xA;&#x9;@First_Name&#x9;&#x9;&#x9;&#x9;Varchar(100),&#x9;-- leave Null if you send clock number&#xD;&#xA;&#x9;@Last_Name&#x9;&#x9;&#x9;&#x9;Varchar(100),&#x9;-- leave Null if you send clock number&#xD;&#xA;&#x9;@Timestamp&#x9;&#x9;&#x9;&#x9;Datetime&#x9;&#x9;-- generally current time but note it is used to find break and lunch time&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        WITH CTE1
             AS (SELECT CP.site_id, 
                        CP.site_name,
						SYSDATETIME() AT TIME ZONE 'UTC' AT TIME ZONE CP.site_timezone AS current_site_time,
						CONVERT(DATETIME, FORMAT(SYSDATETIME() AT TIME ZONE 'UTC' AT TIME ZONE CP.site_timezone, 'yyyy-MM-dd HH')+':00') AS site_round_time,
						CONVERT(DATETIME, FORMAT(SYSDATETIME() AT TIME ZONE 'UTC' AT TIME ZONE CP.site_timezone, 'yyyy-MM-dd')) AS start_day_current
                 FROM dbo.CommonParameters CP
                 WHERE CP.STATUS = 'Active'),
             CTE2
             AS (SELECT CTE1.site_id, 
                        CTE1.site_name, 
                        CTE1.current_site_time, 
                        CTE1.site_round_time,
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 1
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), CTE1.start_day_current), 'yyyy-MM-dd HH'), ':00')
                        END AS start_date_time_today,
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 0
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), CTE1.start_day_current), 'yyyy-MM-dd HH'), ':00')
                        END AS end_date_time_today,
                        --GET INTERVAL SHIFT FOR YESTERDAY
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 1
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, CTE1.start_day_current))), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                        END AS start_date_time_yesterday,
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 0
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, CTE1.start_day_current))), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                        END AS end_date_time_yesterday,
                        --GET INTERVAL SHIFT FOR TOMORROW
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 1
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, CTE1.start_day_current))), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                        END AS start_date_time_tomorrow,
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 0
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, CTE1.start_day_current))), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                        END AS end_date_time_tomorrow
                 FROM CTE1
                      INNER JOIN dbo.Shift S ON S.asset_id = CTE1.site_id
                                                AND S.STATUS = 'Active')
				SELECT CTE2.site_id, 
                        CTE2.site_name, 
                        CTE2.current_site_time, 
                        CTE2.site_round_time,
                        CONVERT(DATETIME, CASE
                            WHEN CTE2.site_round_time > CTE2.start_date_time_today
                                 AND CTE2.site_round_time <= CTE2.end_date_time_today
                            THEN CTE2.start_date_time_today
                            WHEN CTE2.site_round_time > CTE2.start_date_time_yesterday
                                 AND CTE2.site_round_time <= CTE2.end_date_time_yesterday
                            THEN CTE2.start_date_time_yesterday
                            ELSE CTE2.start_date_time_tomorrow
                        END) AS start_shift,
                        CONVERT(DATETIME, CASE
                            WHEN CTE2.site_round_time > CTE2.start_date_time_today
                                 AND CTE2.site_round_time <= CTE2.end_date_time_today
                            THEN CTE2.end_date_time_today
                            WHEN CTE2.site_round_time > CTE2.start_date_time_yesterday
                                 AND CTE2.site_round_time <= CTE2.end_date_time_yesterday
                            THEN CTE2.end_date_time_yesterday
                            ELSE CTE2.end_date_time_tomorrow
                        END) AS end_shift
                 FROM CTE2
                 WHERE(CTE2.site_round_time > CTE2.start_date_time_today
                       AND CTE2.site_round_time <= CTE2.end_date_time_today)
                      OR (CTE2.site_round_time > CTE2.start_date_time_yesterday
                          AND CTE2.site_round_time <= CTE2.end_date_time_yesterday)
                      OR (CTE2.site_round_time > CTE2.start_date_time_tomorrow
                          AND CTE2.site_round_time <= CTE2.end_date_time_tomorrow);
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE1]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE1].[site_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE1].[site_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE1].[current_site_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE1].[site_round_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE1].[start_day_current]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[site_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[site_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[current_site_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[site_round_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites].[CTE1].[CTE2].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="738" />
				<Property Name="Length" Value="7098" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2020 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Fill_Get_Active_Sites&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Get the active sites and the current shift to fill production table&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200416&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec dbo.spLocal_EY_DxH_Fill_Get_Active_Sites&#xD;&#xA;--&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Fill_Get_Active_Sites]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        WITH CTE1
             AS (SELECT BD.id_chun, 
                        BD.started_on_chunck, 
                        BD.ended_on_chunck, 
                        OD.order_id, 
                        OD.order_number, 
                        OD.product_code, 
                        OD.start_time, 
                        OD.end_time, 
                        PD.productiondata_id, 
                        --DHD.dxhdata_id, 
                        SUM(PD.actual - PD.setup_scrap - PD.other_scrap) OVER(PARTITION BY OD.product_code) AS production,
                        CASE
                            WHEN OD.end_time IS NOT NULL
                                 AND OD.end_time >= BD.started_on_chunck
                                 AND OD.end_time < BD.ended_on_chunck
                            THEN 1
                            ELSE 0
                        END AS finish_order_hour
                 FROM [dbo].[GetRangesBetweenDates](@start_time, @end_time, 60, 1) AS BD
                      LEFT JOIN OrderData OD ON asset_id = @Asset_Id
                                                AND ((OD.end_time >= BD.started_on_chunck
                                                      AND OD.end_time < BD.ended_on_chunck)
                                                     OR (OD.start_time >= BD.started_on_chunck
                                                         AND OD.start_time < BD.ended_on_chunck)
                                                     OR (OD.end_time IS NULL
                                                         AND OD.start_time < BD.started_on_chunck)
                                                     OR (OD.start_time < BD.started_on_chunck
                                                         AND OD.end_time > BD.ended_on_chunck))
                      LEFT JOIN dbo.ProductionData PD ON PD.order_id = OD.order_id
                                                         AND PD.start_time >= BD.started_on_chunck
                                                         AND PD.start_time < BD.ended_on_chunck
                      --LEFT JOIN dbo.DxHData DHD ON DHD.asset_id = @Asset_Id
                      --                             AND CONCAT(FORMAT(BD.started_on_chunck, 'htt'), ' - ', FORMAT(BD.ended_on_chunck, 'htt')) = UPPER(DHD.hour_interval)
                      --                             AND (DATEADD(HOUR, DATEPART(HOUR, BD.started_on_chunck), production_day) >= BD.started_on_chunck
                      --                                  AND DATEADD(HOUR, DATEPART(HOUR, BD.started_on_chunck), production_day) < BD.ended_on_chunck)
														)
             SELECT CTE1.started_on_chunck, 
                    CTE1.ended_on_chunck, 
                    CTE1.order_id, 
                    CTE1.order_number, 
                    CTE1.product_code, 
                    CTE1.start_time, 
                    CTE1.end_time, 
                    CTE1.productiondata_id, 
                    NULL AS dxhdata_id, 
                    CTE1.production, 
                    CTE1.finish_order_hour
             FROM CTE1
             WHERE(CTE1.finish_order_hour = 1
                   AND CTE1.productiondata_id IS NULL)
                  OR (ISNULL(CTE1.production, 0) > 0
                      AND CTE1.productiondata_id IS NULL)
             ORDER BY id_chun, 
                      start_time;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[@start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[@end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[id_chun]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[id_chun]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[id_chun]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetRangesBetweenDates].[id_chun]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[started_on_chunck]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[ended_on_chunck]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[order_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[order_number]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_number]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[product_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[product_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[start_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[start_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[end_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[end_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[productiondata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[productiondata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[production]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[CTE1].[CTE1].[finish_order_hour]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[@start_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval].[@end_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="866" />
				<Property Name="Length" Value="4791" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given an asset and a Production_Day, get the data for a full production day and pass it to the dashboard display&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200403&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec dbo.spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval 6, '2020-03-28 14:00:00','2020-03-28 21:00:00'&#xD;&#xA;--&#xD;&#xA;CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Fill_Get_Production_By_Asset_And_Interval] @Asset_Id   INT, &#xD;&#xA;                                                                                 @start_time DATETIME, &#xD;&#xA;                                                                                 @end_time   DATETIME&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        WITH CTE1
             AS (SELECT CP.site_id, 
                        CP.site_name,
						SYSDATETIME() AT TIME ZONE 'UTC' AT TIME ZONE CP.site_timezone AS current_site_time,
						CONVERT(DATETIME, FORMAT(SYSDATETIME() AT TIME ZONE 'UTC' AT TIME ZONE CP.site_timezone, 'yyyy-MM-dd HH')+':00') AS site_round_time,
						CONVERT(DATETIME, FORMAT(SYSDATETIME() AT TIME ZONE 'UTC' AT TIME ZONE CP.site_timezone, 'yyyy-MM-dd')) AS start_day_current
                 FROM dbo.CommonParameters CP
                 WHERE CP.STATUS = 'Active'),
             CTE2
             AS (SELECT CTE1.site_id, 
                        CTE1.site_name, 
                        CTE1.current_site_time, 
                        CTE1.site_round_time,
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 1
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), CTE1.start_day_current), 'yyyy-MM-dd HH'), ':00')
                        END AS start_date_time_today,
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 0
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), CTE1.start_day_current), 'yyyy-MM-dd HH'), ':00')
                        END AS end_date_time_today,
                        --GET INTERVAL SHIFT FOR YESTERDAY
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 1
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, CTE1.start_day_current))), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                        END AS start_date_time_yesterday,
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 0
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, CTE1.start_day_current))), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                        END AS end_date_time_yesterday,
                        --GET INTERVAL SHIFT FOR TOMORROW
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 1
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, CTE1.start_day_current))), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                        END AS start_date_time_tomorrow,
                        CASE
                            WHEN end_time < start_time
                                 AND is_first_shift_of_day = 0
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, CTE1.start_day_current))), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, CTE1.start_day_current)), 'yyyy-MM-dd HH'), ':00')
                        END AS end_date_time_tomorrow
                 FROM CTE1
                      INNER JOIN dbo.Shift S ON S.asset_id = CTE1.site_id
                                                AND S.STATUS = 'Active'),
             CTE3
             AS (SELECT CTE2.site_id, 
                        CTE2.site_name, 
                        CTE2.current_site_time, 
                        CTE2.site_round_time,
                        CASE
                            WHEN CTE2.site_round_time > CTE2.start_date_time_today
                                 AND CTE2.site_round_time <= CTE2.end_date_time_today
                            THEN CTE2.start_date_time_today
                            WHEN CTE2.site_round_time > CTE2.start_date_time_yesterday
                                 AND CTE2.site_round_time <= CTE2.end_date_time_yesterday
                            THEN CTE2.start_date_time_yesterday
                            ELSE CTE2.start_date_time_tomorrow
                        END AS start_shift,
                        CASE
                            WHEN CTE2.site_round_time > CTE2.start_date_time_today
                                 AND CTE2.site_round_time <= CTE2.end_date_time_today
                            THEN CTE2.end_date_time_today
                            WHEN CTE2.site_round_time > CTE2.start_date_time_yesterday
                                 AND CTE2.site_round_time <= CTE2.end_date_time_yesterday
                            THEN CTE2.end_date_time_yesterday
                            ELSE CTE2.end_date_time_tomorrow
                        END AS end_shift
                 FROM CTE2
                 WHERE(CTE2.site_round_time > CTE2.start_date_time_today
                       AND CTE2.site_round_time <= CTE2.end_date_time_today)
                      OR (CTE2.site_round_time > CTE2.start_date_time_yesterday
                          AND CTE2.site_round_time <= CTE2.end_date_time_yesterday)
                      OR (CTE2.site_round_time > CTE2.start_date_time_tomorrow
                          AND CTE2.site_round_time <= CTE2.end_date_time_tomorrow))
             SELECT DISTINCT 
                    CTE3.site_id, 
                    CTE3.site_name, 
                    CTE3.current_site_time, 
                    CTE3.site_round_time, 
                    CONVERT(DATETIME, CTE3.start_shift) AS start_shift, 
                    CONVERT(DATETIME, CTE3.end_shift) AS end_shift, 
                    A.asset_id, 
                    A.asset_code, 
                    A.asset_name
             FROM CTE3
                  JOIN dbo.Asset A ON A.site_code = CTE3.site_name
                                      AND A.STATUS = 'Active'
                                      AND A.asset_level = 'Cell'
                  JOIN dbo.OrderData OD ON OD.asset_id = A.asset_id
                                           AND (
										   --ORDER THATS ENDS IN THE INTERVAL OF HOURS
										   (OD.end_time >= CTE3.start_shift AND OD.end_time < CTE3.site_round_time)
                                           OR
										   --ACTIVE ORDER
										   (OD.end_time IS NULL)
										   )
             ORDER BY CTE3.site_id, 
                      A.asset_id;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE1]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE1].[site_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE1].[site_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE1].[current_site_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE1].[site_round_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE1].[start_day_current]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[site_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[site_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[current_site_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[site_round_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE2].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE3]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE3].[site_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE3].[site_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE3].[current_site_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE3].[site_round_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE3].[start_shift]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets].[CTE1].[CTE3].[end_shift]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="738" />
				<Property Name="Length" Value="8227" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2020 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Fill_Row_Get_Active_Assets&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given an orders of the last hour to fill production table&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200405&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec dbo.spLocal_EY_DxH_Fill_Row_Get_Active_Assets&#xD;&#xA;--&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;

        DECLARE @site_code NVARCHAR(100);

        SELECT @site_code = asset_code
        FROM dbo.Asset
        WHERE asset_id = @site_id;

        WITH CTE1
             AS (SELECT DISTINCT 
                        asset_id
                 FROM dbo.OrderData OD
                 WHERE(OD.end_time >= @start_shift
                       AND OD.end_time < @site_round_time)
                      OR (OD.end_time IS NULL))
             SELECT A.asset_id, 
                    A.asset_code, 
                    A.asset_name
             FROM CTE1
                  JOIN dbo.Asset A ON A.asset_id = CTE1.asset_id
                                      AND site_code = @site_code;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site].[@site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site].[@start_shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site].[@site_round_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site].[CTE1].[CTE1]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site].[CTE1].[CTE1].[asset_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[asset_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site].[@start_shift]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site].[@site_round_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site].[@site_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="803" />
				<Property Name="Length" Value="1970" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2020 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given an orders of the last hour to fill production table&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200416&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec dbo.spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site '2020-04-17 07:00', '2020-04-17 11:00:00.000', 1&#xD;&#xA;--&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Fill_Row_Get_Active_Assets_By_Site] @start_shift     DATETIME, &#xD;&#xA;                                                                           @site_round_time DATETIME, &#xD;&#xA;                                                                           @site_id         INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_Asset]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE @site_code VARCHAR(100);
        SET @site_code =
        (
            SELECT site_code
            FROM dbo.Asset
            WHERE asset_id = @Site
        );
        IF ISNULL(@Level, 'All') = 'All'
            BEGIN
                SET @Level = NULL;
        END;
        IF ISNULL(@Automation_Level, 'All') = 'All'
            BEGIN
                SET @Automation_Level = NULL;
        END;
        SELECT asset_id, 
               asset_code, 
               asset_name, 
               asset_description, 
               asset_level, 
               site_code, 
               parent_asset_code, 
               value_stream, 
               automation_level, 
               include_in_escalation, 
               grouping1, 
               grouping2, 
               grouping3, 
               grouping4, 
               grouping5
        FROM dbo.Asset WITH(NOLOCK)
        WHERE STATUS = 'Active'
              AND site_code = @site_code
              AND ISNULL(asset_level, '') = ISNULL(@Level, ISNULL(asset_level, ''))
              AND ISNULL(automation_level, '') = ISNULL(@Automation_Level, ISNULL(automation_level, ''))
        ORDER BY asset_name;

        RETURN;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Asset].[@Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Asset].[@Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Asset].[@Automation_Level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[automation_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[include_in_escalation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Asset].[@Level]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Asset].[@Automation_Level]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Asset].[@Site]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="817" />
				<Property Name="Length" Value="2507" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_Asset&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Provide Asset info for displays&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190903&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--  20191203&#x9;&#x9;C00V01 - Change Asset_Code for Asset_Id&#xD;&#xA;--  20200225&#x9;&#x9;C00V02 - Remove JSON format of response&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_Asset 'Cell','Partially_Manual_Scan_Order', 1&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_Asset]&#xD;&#xA;--Declare&#xD;&#xA;@Level            VARCHAR(100), --All, Site, Area, or Cell. Most of the time send Cell &#xD;&#xA;@Automation_Level VARCHAR(100), --All, Automated, Partially_Manual_Scan_Order, Manual&#xD;&#xA;@Site             INT&#x9;&#x9;&#x9;&#x9;--Asset_id of the Site&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_Asset_By_Code]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

	SELECT 
		asset_id,
		asset_code,
		asset_name,
		asset_description,
		asset_level,
		site_code,
		parent_asset_code,
		value_stream,
		automation_level,
		include_in_escalation,
		grouping1,
		grouping2,
		grouping3,
		grouping4,
		grouping5
	FROM dbo.Asset WITH (nolock)
	WHERE status = 'Active'
		AND asset_code = @Asset_Code
		ORDER BY asset_name


END


/****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Get_AssetDisplaySystem]    Script Date: 4/12/2019 15:15:23 ******/
SET ANSI_NULLS ON]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[automation_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[include_in_escalation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Asset_By_Code].[@Asset_Code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Asset_By_Code].[@Asset_Code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="703" />
				<Property Name="Length" Value="1488" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_Asset_By_Code&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Provide Specifc Asset info to display&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20191202&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_Asset_By_Code '34002'&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_Asset_By_Code]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@Asset_Code&#x9;&#x9;&#x9;&#x9;VARCHAR(100)&#x9;&#x9;&#x9;&#x9;--Asset_Code of the Site&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_AssetDisplaySystem]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;


	Select
		ads.displaysystem_name,
		a.asset_id, 
		a.asset_code,
		a.asset_name,
		a.asset_description,
		a.asset_level,
		a.site_code,
		a.parent_asset_code,
		a.value_stream,
		a.automation_level,
		a.include_in_escalation,
		a.grouping1,
		a.grouping2,
		a.grouping3,
		a.grouping4,
		a.grouping5,
		Null
	From dbo.Asset a with (nolock),
		dbo.AssetDisplaySystem ads with (nolock)
	Where a.asset_id = ads.asset_id
		And a.status = 'Active'
		And ads.status = 'Active'
		And ads.displaysystem_name like CONCAT(IsNull(@DisplaySystem_Name,''),'%')
		ORDER BY a.asset_name

Return

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[automation_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[include_in_escalation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_AssetDisplaySystem].[@DisplaySystem_Name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_AssetDisplaySystem].[@DisplaySystem_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="761" />
				<Property Name="Length" Value="1672" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_AssetDisplaySystem&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given a display system name, provide the associated sset_code info for displays&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190910&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_AssetDisplaySystem 'CR2080435W1'&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_AssetDisplaySystem]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@DisplaySystem_Name&#x9;Varchar(100)&#x9;-- the name of the computer system or other identifier&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_CommentData_By_DxHData_Id]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

SELECT
		CD.commentdata_id,
		CD.dxhdata_id,
		CD.comment,
		CD.first_name,
		CD.last_name,
		CD.last_modified_on
	FROM dbo.CommentData CD WHERE CD.dxhdata_id = @DxHData_id;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CommentData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[commentdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommentData_By_DxHData_Id].[@DxHData_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_CommentData_By_DxHData_Id].[@DxHData_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="742" />
				<Property Name="Length" Value="1163" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2020 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_DTData_By_DxHData_Id&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given an dxhdata_id, provide the info for displaying CommentData&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200114&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_CommentData_By_DxHData_Id 324042&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_CommentData_By_DxHData_Id]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@DxHData_id&#x9;&#x9;&#x9;INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[


BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

Declare @Output table
	(
	Id								Int Identity,
	parameter_id					Int, 
	site_id							Int,
	site_name						NVARCHAR(100),
	production_day_offset_minutes	FLOAT,
	site_timezone					NVARCHAR(100),
	ui_timezone						NVARCHAR(100),
	escalation_level1_minutes		FLOAT,
	escalation_level2_minutes		FLOAT,
	default_target_percent_of_ideal FLOAT,
	default_setup_minutes			FLOAT,
	default_routed_cycle_time		FLOAT,
	setup_lookback_minutes			FLOAT,
	inactive_timeout_minutes		FLOAT,
	language						NVARCHAR(100),
	message							Varchar(100)
	)

Declare
	@ReturnMessage				Varchar(100),
	@json_out					nVarchar(max)

If 
	(
	IsNull(@Site_Id,'') <> ''
	And
	not exists (Select site_id From dbo.CommonParameters with (nolock) Where site_id = IsNull(@Site_Id,0) AND status = 'Active')
	)
Begin
	Select 
		@ReturnMessage = 'Invalid Site Id ' + convert(varchar,IsNull(@Site_Id,''))
	Goto ErrExit
End

	Insert @Output
		Select 
			parameter_id,
			site_id,
			site_name,
			production_day_offset_minutes,
			site_timezone,
			ui_timezone,
			escalation_level1_minutes,
			escalation_level2_minutes,
			default_target_percent_of_ideal,
			default_setup_minutes,
			default_routed_cycle_time,
			setup_lookback_minutes,
			inactive_timeout_minutes,
			language,
			Null
		From dbo.CommonParameters with (nolock)
		Where site_id = IsNull(@Site_Id,site_id) AND status = 'Active'

ErrExit:

If not exists (Select Id From @Output)
Begin
	If IsNull(@ReturnMessage,'') <> ''
	Begin
		Insert @Output (site_id,message)
			Select
				@Site_Id,
				@ReturnMessage 
	End
	Else
	Begin
		Insert @Output (site_id,message)
			Select
				@Site_Id,
				'No Data' 
	End
End	

Select @json_out = 
	(
	Select 
		parameter_id						as 'CommonParameters.parameter_id',
		site_id								as 'CommonParameters.site_id',
		site_name							as 'CommonParameters.site_name',
		production_day_offset_minutes		as 'CommonParameters.production_day_offset_minutes',
		site_timezone						as 'CommonParameters.site_timezone',
		ui_timezone							as 'CommonParameters.ui_timezone',
		escalation_level1_minutes			as 'CommonParameters.escalation_level1_minutes',
		escalation_level2_minutes			as 'CommonParameters.escalation_level2_minutes',
		default_target_percent_of_ideal		as 'CommonParameters.default_target_percent_of_ideal',
		default_setup_minutes				as 'CommonParameters.default_setup_minutes',
		default_routed_cycle_time			as 'CommonParameters.default_routed_cycle_time',
		setup_lookback_minutes				as 'CommonParameters.setup_lookback_minutes',
		inactive_timeout_minutes			as 'CommonParameters.inactive_timeout_minutes',
		language							as 'CommonParameters.language',
		message								as 'CommonParameters.message'	
	From @Output o 
	Order By 
		o.parameter_id
	For Json path, INCLUDE_NULL_VALUES
	)

Select @json_out as 'CommonParameters'

--Select * From @Output

Return

END


/****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Get_DTReason]    Script Date: 4/12/2019 15:16:22 ******/
SET ANSI_NULLS ON]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Site_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[parameter_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[production_day_offset_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[escalation_level1_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[escalation_level2_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[setup_lookback_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[parameter_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[production_day_offset_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[escalation_level1_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[escalation_level2_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[default_setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[setup_lookback_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[parameter_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[parameter_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[site_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[site_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[production_day_offset_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[site_timezone]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[ui_timezone]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[escalation_level1_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[escalation_level2_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[default_target_percent_of_ideal]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[default_setup_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[default_routed_cycle_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[setup_lookback_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[inactive_timeout_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[language]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Output].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_CommonParameters].[@Site_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="924" />
				<Property Name="Length" Value="4224" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_CommonParameters&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Provide the CommonParameter info&#xD;&#xA;--&#xD;&#xA;--&#x9;If no input value given for parameter, all CommonParameters are returned&#xD;&#xA;--&#x9;If a specific parameter is given as input, only that parameter is returned&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190906&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20191129&#x9;&#x9;C00V01 - Change to CommonParametersTest new requirement&#xD;&#xA;--&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_CommonParameters 1&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_CommonParameters]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@Site_Id&#x9;&#x9;&#x9;INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[


BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

Declare @Output table
	(
	Id								Int Identity,
	parameter_id					Int, 
	site_id							Int,
	site_name						NVARCHAR(100),
	production_day_offset_minutes	FLOAT,
	site_timezone					NVARCHAR(100),
	ui_timezone						NVARCHAR(100),
	escalation_level1_minutes		FLOAT,
	escalation_level2_minutes		FLOAT,
	default_target_percent_of_ideal FLOAT,
	default_setup_minutes			FLOAT,
	default_routed_cycle_time		FLOAT,
	setup_lookback_minutes			FLOAT,
	inactive_timeout_minutes		FLOAT,
	language						NVARCHAR(100),
	message							Varchar(100)
	)

Declare
	@ReturnMessage				Varchar(100),
	@json_out					nVarchar(max)

If 
	(
	IsNull(@Site_Id,'') <> ''
	And
	not exists (Select site_id From dbo.CommonParametersTest with (nolock) Where site_id = IsNull(@Site_Id,0) AND status = 'Active')
	)
Begin
	Select 
		@ReturnMessage = 'Invalid Site Id ' + convert(varchar,IsNull(@Site_Id,''))
	Goto ErrExit
End

	Insert @Output
		Select 
			parameter_id,
			site_id,
			site_name,
			production_day_offset_minutes,
			site_timezone,
			ui_timezone,
			escalation_level1_minutes,
			escalation_level2_minutes,
			default_target_percent_of_ideal,
			default_setup_minutes,
			default_routed_cycle_time,
			setup_lookback_minutes,
			inactive_timeout_minutes,
			language,
			Null
		From dbo.CommonParametersTest with (nolock)
		Where site_id = IsNull(@Site_Id,site_id) AND status = 'Active'

ErrExit:

If not exists (Select Id From @Output)
Begin
	If IsNull(@ReturnMessage,'') <> ''
	Begin
		Insert @Output (site_id,message)
			Select
				@Site_Id,
				@ReturnMessage 
	End
	Else
	Begin
		Insert @Output (site_id,message)
			Select
				@Site_Id,
				'No Data' 
	End
End	

Select @json_out = 
	(
	Select 
		parameter_id						as 'CommonParametersTest.parameter_id',
		site_id								as 'CommonParametersTest.site_id',
		site_name							as 'CommonParametersTest.site_name',
		production_day_offset_minutes		as 'CommonParametersTest.production_day_offset_minutes',
		site_timezone						as 'CommonParametersTest.site_timezone',
		ui_timezone							as 'CommonParametersTest.ui_timezone',
		escalation_level1_minutes			as 'CommonParametersTest.escalation_level1_minutes',
		escalation_level2_minutes			as 'CommonParametersTest.escalation_level2_minutes',
		default_target_percent_of_ideal		as 'CommonParametersTest.default_target_percent_of_ideal',
		default_setup_minutes				as 'CommonParametersTest.default_setup_minutes',
		default_routed_cycle_time			as 'CommonParametersTest.default_routed_cycle_time',
		setup_lookback_minutes				as 'CommonParametersTest.setup_lookback_minutes',
		inactive_timeout_minutes			as 'CommonParametersTest.inactive_timeout_minutes',
		language							as 'CommonParametersTest.language',
		message								as 'CommonParametersTest.message'	
	From @Output o 
	Order By 
		o.parameter_id
	For Json path, INCLUDE_NULL_VALUES
	)

Select @json_out as 'CommonParametersTest'

--Select * From @Output

Return

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Site_Id]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[parameter_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[production_day_offset_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[escalation_level1_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[escalation_level2_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[default_setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[setup_lookback_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[parameter_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[parameter_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[site_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[site_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[production_day_offset_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[site_timezone]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[ui_timezone]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[escalation_level1_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[escalation_level2_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[default_target_percent_of_ideal]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[default_setup_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[default_routed_cycle_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[setup_lookback_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[inactive_timeout_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[language]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[nvarchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Output].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_CommonParametersTest].[@Site_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="940" />
				<Property Name="Length" Value="4180" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_CommonParametersTest&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Provide the CommonParameter info&#xD;&#xA;--&#xD;&#xA;--&#x9;If no input value given for parameter, all CommonParametersTest are returned&#xD;&#xA;--&#x9;If a specific parameter is given as input, only that parameter is returned&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190906&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20191129&#x9;&#x9;C00V01 - Change to CommonParametersTestTest new requirement&#xD;&#xA;--&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_CommonParametersTest 1&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_CommonParametersTest]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@Site_Id&#x9;&#x9;&#x9;INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_DTData_By_DxHData_Id]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

SELECT
		DT.dtdata_id,
		DT.dxhdata_id,
		DT.dtreason_id,
		DT.dtminutes,
		DTR.dtreason_code,
		DTR.dtreason_name
	FROM dbo.DTData DT INNER JOIN DTReason DTR ON 
	DT.dtreason_id = DTR.dtreason_id AND DT.dxhdata_id = @DxHData_id;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DTData_By_DxHData_Id].[@DxHData_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_name]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_DTData_By_DxHData_Id].[@DxHData_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="732" />
				<Property Name="Length" Value="1205" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2020 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_DTData_By_DxHData_Id&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given an dxhdata_id, provide the info for displaying DTData&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200114&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_DTData_By_DxHData_Id 324476&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_DTData_By_DxHData_Id]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@DxHData_id&#x9;&#x9;&#x9;INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_DTReason]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

--Select @Asset_Id = 25

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;
	SELECT 
		dt.dtreason_id as 'dtreason_id',
		dt.dtreason_code as 'dtreason_code',
		dt.dtreason_name as 'dtreason_name',
		dt.dtreason_category as 'dtreason_category',
		a.site_code as 'site_code'
	FROM dbo.DTReason dt with (nolock)
	INNER JOIN dbo.Asset a ON a.asset_id = @Asset_id
		WHERE dt.asset_id = @Asset_Id
			AND dt.status = 'Active' 
	Order By 
		dt.dtreason_category,
		CASE WHEN a.site_code in ('Eaton', 'Veniano_HA', 'Veniano_Hose') THEN len(dt.dtreason_code) END,	--trying to sort alpha numeric values as numbers
		dt.dtreason_code;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[DTReason]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DTReason].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_category]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_DTReason].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="830" />
				<Property Name="Length" Value="1637" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_DTReason&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given an asset_code, provide the info for displaying DTReason&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190814&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--  20191203&#x9;&#x9;C00V01 - Change Asset_Code for Asset_Id&#xD;&#xA;--  20200203&#x9;&#x9;C00V03 - Change result result to normal table result&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_DTReason 453&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_DTReason]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@Asset_Id&#x9;&#x9;&#x9;INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

Declare 
	@DxHData_Id							Int,
	@Shift_Code							Varchar(100),
	@Production_Day						Datetime,
	@Timestamp_Hour						Int,
	@Hour_Interval						Varchar(100),
	@TSHourStart						Datetime,
	@TSHourEnd							Datetime,
	@Site_id							Int;

SELECT @Site_Id = asset_id
FROM [dbo].[Asset] WHERE asset_level = 'Site' AND site_code = (SELECT site_code FROM [dbo].[Asset] WHERE asset_id = @Asset_Id);


Set @Timestamp_Hour = datepart(hour, @Timestamp)

-- New Logic to get production day and shift code
	SELECT
		@Production_Day = ProductionDay,
		@Shift_Code = ShiftCode
	FROM [dbo].[GetShiftProductionDayFromSiteAndDate](@Site_id,@Timestamp);

Set @TSHourStart = convert(datetime,convert(varchar(11),@Timestamp),121)
Set @TSHourStart = dateadd(hour,@Timestamp_Hour,@TSHourStart)
Set @TSHourEnd = dateadd(hour,1,@TSHourStart)

Select @Hour_Interval = 
	lower
	(
		replace(
			convert
				(varchar(15),cast(@TSHourStart as time),100) 
				+ ' - ' 
				+ convert(varchar(15),cast(@TSHourEnd as time),100
				), 
		':00', ''
		)
	)

--Select @Shift_Code, @Production_Day, @Hour_Interval, @TSHourStart
--return

	IF ISNULL(@RequireOrderToCreate,0) < 1
	BEGIN
		MERGE
			dbo.DxHData AS target
			USING (SELECT @Asset_Id, @Production_Day, @Hour_Interval, @Shift_Code, 'spLocal_EY_DxH_Get_DxHDataId', getdate(), 'spLocal_EY_DxH_Get_DxHDataId',getdate()) AS source
			(asset_id, production_day, hour_interval, shift_code, entered_by, entered_on, last_modified_by, last_modified_on)
		ON (target.asset_id = source.asset_id AND target.production_day = source.production_day AND 
			target.hour_interval = source.hour_interval AND target.shift_code = source.shift_code)
				WHEN NOT MATCHED
					THEN INSERT (asset_id, production_day, hour_interval, shift_code, entered_by, entered_on, last_modified_by, last_modified_on)
						VALUES (source.asset_id, source.production_day, source.hour_interval, source.shift_code, source.entered_by, source.entered_on, 
							source.last_modified_by, source.last_modified_on);
	END;
	SELECT 
		asset_id,
		@Timestamp AS timestamp,
		dxhdata_id,
		production_day,
		shift_code,
		hour_interval
	FROM dbo.DxHData dxh with (nolock)
			WHERE dxh.asset_id = @Asset_Id
				AND dxh.production_day = @Production_Day
				AND dxh.shift_code = @Shift_Code
				AND dxh.hour_interval = @Hour_Interval

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId].[@Timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ProductionDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ShiftCode]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId].[@RequireOrderToCreate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId].[@Timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId].[@RequireOrderToCreate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1664" />
				<Property Name="Length" Value="4316" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_DxHDataId&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given an asset and a timestamp, return the existing dxhdata_id, production_day, hour_interval, and shift_code &#xD;&#xA;--&#x9;or create a new one and return that same info.&#xD;&#xA;--&#xD;&#xA;--&#x9;This code could be used as part of the start of the new hour process but ... it would need to have an open order &#xD;&#xA;--&#x9;to allow creating a row. So... using RequireAnOrderToCreate&#xD;&#xA;--&#x9;&#x9;&#x9;Send 1 if this is called as as part of the start of the new hour process&#xD;&#xA;--&#x9;&#x9;&#x9;Send 0 if you have some data like productiondata, comment, or possibly timelost&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;Possibly DxHData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190807&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20190822&#x9;&#x9;C00V01 - Tweaked Hour_Interval via TSHourStart and End fix&#xD;&#xA;--  20191203&#x9;&#x9;C00V02 - Change Asset_Code for Asset_Id&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V03 - Change CommonParameters to CommonParameters&#xD;&#xA;--&#x9;20201111&#x9;&#x9;C00V04 - Change Insert sentence for merge and add site id and status to the max sequence shift logic&#xD;&#xA;--&#x9;20210106&#x9;&#x9;C00V05 - Add new logic to get the production day and the shift code using GetShiftProductionDayFromSiteAndDate Function&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- Exec dbo.spLocal_EY_DxH_Get_DxHDataId 69, '2020-01-07 10:23', 0&#xD;&#xA;--&#xD;&#xA;&#xD;&#xA;CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Get_DxHDataId]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@Asset_Id&#x9;&#x9;&#x9;&#x9;INT,&#xD;&#xA;&#x9;@Timestamp&#x9;&#x9;&#x9;&#x9;Datetime,&#xD;&#xA;&#x9;@RequireOrderToCreate&#x9;Bit&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE 
		@Previous_Shifts_To_Include INT= 2;

        WITH CTE1
             AS (SELECT CASE
                            WHEN S.end_time < S.start_time
                                 AND S.is_first_shift_of_day = 0
                            THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.end_time), DATEADD(DAY, 1, @Production_Day)), 'yyyy-MM-dd HH'), ':00')
                            ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.end_time), @Production_Day), 'yyyy-MM-dd HH'), ':00')
                        END AS end_date_time, 
                        S.duration_in_minutes * (@Previous_Shifts_To_Include + 1) AS minutes_to_go_back,
						CP.site_timezone
                 FROM dbo.Shift S JOIN CommonParameters CP ON S.asset_id = CP.site_id 
                 WHERE S.shift_id = @Shift_Id)
             SELECT ISH.intershift_id, 
                    ISH.asset_id, 
                    ISH.production_day, 
                    ISH.shift_code, 
                    ISH.comment, 
                    ISH.entered_by, 
                    CONVERT(DATETIME, ISH.entered_on AT TIME ZONE 'UTC' AT TIME ZONE CTE1.site_timezone) AS entered_on, 
                    ISH.first_name, 
                    ISH.last_name
             FROM dbo.InterShiftData ISH
                  JOIN CTE1 ON ISH.asset_id = @Asset_Id
                               AND (CONVERT(DATETIME, ISH.entered_on AT TIME ZONE 'UTC' AT TIME ZONE CTE1.site_timezone) >= DATEADD(MINUTE, -CTE1.minutes_to_go_back,CTE1.end_date_time))
                               AND (CONVERT(DATETIME, ISH.entered_on AT TIME ZONE 'UTC' AT TIME ZONE CTE1.site_timezone) <= CTE1.end_date_time)
							   ORDER BY ISH.entered_on;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[@Production_Day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[@Shift_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[intershift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[entered_by]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[last_name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[CTE1].[CTE1]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[CTE1].[CTE1].[end_date_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[CTE1].[CTE1].[minutes_to_go_back]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[CTE1].[CTE1].[site_timezone]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_timezone]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[@Production_Day]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_InterShiftData].[@Shift_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1383" />
				<Property Name="Length" Value="3412" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_InterShiftData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given an asset, a Production_Day, and a shift code, get the intershift data for the current shift and &#xD;&#xA;--&#x9;&#x9;the 2 (note the number of shifts could change) previous shifts and pass it to the dashboard display&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--&#x9;&#x9;Assumes that 3 days plus the current sift and the shifts in the current day &#xD;&#xA;--&#x9;&#x9;are enough to get all desired InterShiftData&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190731&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20190822&#x9;&#x9;C00V01 - Adjusted output of datetimes to site_timezone&#xD;&#xA;--  20191203&#x9;&#x9;C00V02 - Change Asset_Code for Asset_Id&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V03 - Change CommonParameters to CommonParameters&#xD;&#xA;--&#x9;20191210&#x9;&#x9;C00V04 - Change Shift_Code to Shift_Id because this information is from the database&#xD;&#xA;--&#x9;20200415&#x9;&#x9;C00V05 - Change logic to create new way to get the information&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_InterShiftData 35,'2020-04-15',3&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_InterShiftData]&#xD;&#xA;--Declare&#xD;&#xA;@Asset_Id       INT, &#xD;&#xA;@Production_Day DATETIME, &#xD;&#xA;@Shift_Id       INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_OrderData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

    --Select @Asset_Id = 1,
    --	@Order_Number = '12345',
    --	@Is_Current_Order = 0

    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;

        -- If no order number, get it via is current order 
        IF(ISNULL(@Order_Number, '') = ''
           AND ISNULL(@Is_Current_Order, 0) = 1
           AND EXISTS
        (
            SELECT order_id
            FROM dbo.OrderData WITH(NOLOCK)
            WHERE is_current_order = 1
                  AND asset_id = ISNULL(@Asset_Id, '')
                  AND is_current_order = 1
        ))
            BEGIN
                SELECT TOP 1 @Order_Number = order_number
                FROM dbo.OrderData WITH(NOLOCK)
                WHERE is_current_order = 1
                      AND asset_id = ISNULL(@Asset_Id, '')
                      AND is_current_order = 1;
        END;
        SELECT order_id, 
               order_number, 
               asset_id, 
               product_code, 
               order_quantity, 
               UOM_Code, 
               routed_cycle_time, 
               minutes_allowed_per_setup,
               --	ideal,
               target_percent_of_ideal, 
               production_status, 
               setup_start_time, 
               setup_end_time, 
               production_start_time, 
               production_end_time, 
               start_time, 
               end_time, 
               is_current_order
        FROM dbo.OrderData WITH(NOLOCK)
        WHERE asset_id = @Asset_Id
              AND order_number = @Order_Number;
    END;

        /****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Get_Product]    Script Date: 4/12/2019 15:17:53 ******/

        SET ANSI_NULLS ON;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_OrderData].[@Order_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_OrderData].[@Is_Current_Order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_OrderData].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_OrderData].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_OrderData].[@Order_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_OrderData].[@Is_Current_Order]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="825" />
				<Property Name="Length" Value="2908" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_OrderData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given an asset_code, and either the order_number or &quot;current&quot; flag, provide the info for displaying OrderData&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190827&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--  20191203&#x9;&#x9;C00V01 - Change Asset_Code for Asset_Id&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_OrderData 65, '14I084', Null&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_OrderData]&#xD;&#xA;--Declare&#xD;&#xA;@Asset_Id         INT, &#xD;&#xA;@Order_Number     VARCHAR(100), --leave Null if you send Is Current Order = 1&#xD;&#xA;@Is_Current_Order BIT&#x9;&#x9;&#x9;&#x9;--leave Null or 0 if you send the order number&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;

WITH CTE1
     AS (SELECT CP.site_id,
                CP.site_timezone,
                CP.default_routed_cycle_time, 
                CP.default_target_percent_of_ideal,
                A.asset_code AS site_code,
                SYSDATETIME() at time zone 'UTC' at time zone CP.site_timezone AS actual_time,
                CONVERT(DATETIME, CONCAT(FORMAT(SYSDATETIME() at time zone 'UTC' at time zone CP.site_timezone,'yyyy-MM-dd HH'),':00')) AS actual_hour,
                DATEADD(HOUR, -1, CONVERT(DATETIME, CONCAT(FORMAT(SYSDATETIME() at time zone 'UTC' at time zone CP.site_timezone,'yyyy-MM-dd HH'),':00'))) AS before_hour
         FROM dbo.CommonParameters AS CP
              INNER JOIN dbo.Asset A ON A.asset_id = CP.site_id),
     CTE2
     AS (SELECT CTE1.site_id, 
                CTE1.site_code,
                CTE1.site_timezone,
                CTE1.default_routed_cycle_time,
                CTE1.default_target_percent_of_ideal,
                CTE1.actual_time, 
                CTE1.actual_hour, 
                CTE1.before_hour, 
                S.shift_id, 
                S.shift_code,
                CASE
                    WHEN S.end_time < S.start_time
                         AND S.is_first_shift_of_day = 1
                    THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.start_time), DATEADD(DAY, -1, FORMAT(CTE1.before_hour, 'yyyy-MM-dd'))), 'yyyy-MM-dd HH'), ':00')
                    ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.start_time), FORMAT(CTE1.before_hour, 'yyyy-MM-dd')), 'yyyy-MM-dd HH'), ':00')
                END AS start_shift,
                CASE
                    WHEN S.end_time < S.start_time
                         AND S.is_first_shift_of_day = 0
                    THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.end_time), DATEADD(DAY, 1, FORMAT(CTE1.before_hour, 'yyyy-MM-dd'))), 'yyyy-MM-dd HH'), ':00')
                    ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.end_time), FORMAT(CTE1.before_hour, 'yyyy-MM-dd')), 'yyyy-MM-dd HH'), ':00')
                END AS end_shift
         FROM CTE1
              INNER JOIN dbo.Shift S ON S.asset_id = CTE1.site_id
                                        AND CTE1.actual_hour BETWEEN CASE
                                                                         WHEN S.end_time < S.start_time
                                                                              AND S.is_first_shift_of_day = 1
                                                                         THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.start_time), DATEADD(DAY, -1, FORMAT(CTE1.before_hour, 'yyyy-MM-dd'))), 'yyyy-MM-dd HH'), ':00')
                                                                         ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.start_time), FORMAT(CTE1.before_hour, 'yyyy-MM-dd')), 'yyyy-MM-dd HH'), ':00')
                                                                     END AND CASE
                                                                                 WHEN S.end_time < S.start_time
                                                                                      AND S.is_first_shift_of_day = 0
                                                                                 THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.end_time), DATEADD(DAY, 1, FORMAT(CTE1.before_hour, 'yyyy-MM-dd'))), 'yyyy-MM-dd HH'), ':00')
                                                                                 ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, S.end_time), FORMAT(CTE1.before_hour, 'yyyy-MM-dd')), 'yyyy-MM-dd HH'), ':00')
                                                                             END)
     SELECT CTE2.site_id, 
            CTE2.actual_time,
            CTE2.actual_hour,
            CTE2.before_hour,
            CONVERT(DATETIME, CTE2.start_shift) AS start_shift,
            A.asset_id,
            A.asset_code,
            OD.product_code,
            OD.order_id,
            --OD.order_number,
            OD.start_time,
            OD.end_time,
            --OD.UOM_code,
            PD.productiondata_id,
            --PD.actual,
            DHD.dxhdata_id,
            TTPRD.shift_production,
            CONVERT(BIT, CASE
            WHEN OD.start_time < CTE2.before_hour AND ISNULL(TTPRD.shift_production,0) > 0 THEN 1
            ELSE 0
            END) AS check_previous_rows
     FROM CTE2
          INNER JOIN dbo.Asset A ON A.site_code = CTE2.site_code AND A.STATUS = 'Active' AND A.asset_level = 'Cell'
          INNER JOIN dbo.OrderData OD ON A.asset_id = OD.asset_id AND (OD.end_time BETWEEN CTE2.before_hour AND CTE2.actual_hour OR OD.end_time IS NULL)
          LEFT JOIN dbo.ProductionData PD ON PD.order_id = OD.order_id AND PD.start_time BETWEEN CTE2.before_hour AND CTE2.actual_hour
          LEFT JOIN dbo.DxHData DHD ON A.asset_id = DHD.asset_id
                                           AND CONCAT(FORMAT(CTE2.before_hour, 'htt'), ' - ', FORMAT(CTE2.actual_hour, 'htt')) = UPPER(DHD.hour_interval)
                                           AND DATEADD(HOUR,DATEPART(HOUR, CTE2.before_hour),production_day) BETWEEN CTE2.before_hour AND CTE2.actual_hour
          --GET THE PRODUCTION OF EACH ORDER FOR THE CURRENT SHIFT
          OUTER APPLY
          (
          SELECT SUM(actual-other_scrap-setup_scrap) AS shift_production 
          FROM dbo.ProductionData WHERE order_id = OD.order_id AND start_time >= CTE2.start_shift AND start_time < CTE2.actual_hour
          ) TTPRD
     ORDER BY CTE2.site_id, 
              A.asset_id;

    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1].[site_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1].[site_timezone]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_timezone]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1].[default_routed_cycle_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1].[default_target_percent_of_ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1].[site_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Asset].[asset_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1].[actual_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1].[actual_hour]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE1].[before_hour]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[site_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[site_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Asset].[asset_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[site_timezone]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[site_timezone]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[default_routed_cycle_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[default_target_percent_of_ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[actual_time]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[actual_hour]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[before_hour]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[shift_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[start_shift]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction].[CTE1].[CTE2].[end_shift]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="747" />
				<Property Name="Length" Value="6636" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2020 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_Shift_Data&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--  Given an orders of the last hour to fill production table&#xD;&#xA;--&#xD;&#xA;--  To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;--- &#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;--- &#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--  20200325        C00V00 - Intial code created        &#xD;&#xA;--      &#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec dbo.spLocal_EY_DxH_Get_OrdersToCreateProduction&#xD;&#xA;--&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_OrdersToCreateProduction]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_Product]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[


BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

Declare @Output table
	(
	Id							Int Identity,
	product_id					Int, 
	product_code				Varchar(100),
	product_name				Varchar(200),
	product_description			Varchar(256),
	product_family				Varchar(100),
	value_stream				Varchar(100),
	grouping1					Varchar(100),
	grouping2					Varchar(100),
	grouping3					Varchar(100),
	grouping4					Varchar(100),
	grouping5					Varchar(100),
	message						Varchar(100)
	)

Declare
	@ReturnMessage				Varchar(100),
	@json_out					nVarchar(max)

Insert @Output
	Select 
		product_id,
		product_code,
		product_name,
		product_description,
		product_family,
		value_stream,
		grouping1,
		grouping2,
		grouping3,
		grouping4,
		grouping5,
		Null
	From dbo.Product with (nolock)
	Where status = 'Active'

ErrExit:

If not exists (Select Id From @Output)
Begin
	Insert @Output (product_code,message)
		Select
			'No Data',
			IsNull(@ReturnMessage,'No Data') 
End	

Select @json_out = 
	(
	Select 
		product_id			as 'Product.product_id',			
		product_code		as 'Product.product_code',
		product_name		as 'Product.product_name',
		product_description as 'Product.product_description',
		product_family		as 'Product.product_family',
		value_stream		as 'Product.value_stream',
		grouping1			as 'Product.grouping1',
		grouping2			as 'Product.grouping2',
		grouping3			as 'Product.grouping3',
		grouping4			as 'Product.grouping4',
		grouping5			as 'Product.grouping5',
		message				as 'Product.message'	
	From @Output o 
	Order By 
		o.product_family,
		o.product_code
	For Json path, INCLUDE_NULL_VALUES
	)

Select @json_out as 'Product'

--Select * From @Output Order by product_family, product_code

Return

END


/****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Get_ProductionDay_Data]    Script Date: 4/12/2019 15:18:15 ******/
SET ANSI_NULLS ON]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_family]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_family]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_family]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="200" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_description]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[product_family]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[value_stream]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping1]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping2]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping3]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping4]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[grouping5]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_Product].[@Output].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="684" />
				<Property Name="Length" Value="2744" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_Product&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Provide the info for displaying Product&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190827&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_Product &#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_Product]&#xD;&#xA;--Declare&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;

		SET @start_time = CONVERT(DATETIME, FORMAT(@start_time, 'yyyy-MM-dd HH')+':00');

        SELECT BD.started_on_chunck, 
               BD.ended_on_chunck, 
               PD.productiondata_id, 
               DHD.dxhdata_id
        FROM [dbo].[GetRangesBetweenDates](@start_time, @end_time, 60, 1) AS BD
             LEFT JOIN dbo.ProductionData PD ON PD.order_id = @Order_Id
                                                AND PD.start_time BETWEEN BD.started_on_chunck AND BD.ended_on_chunck
             LEFT JOIN dbo.DxHData DHD ON DHD.asset_id = @Asset_Id
                                          AND CONCAT(FORMAT(BD.started_on_chunck, 'htt'), ' - ', FORMAT(BD.ended_on_chunck, 'htt')) = UPPER(DHD.hour_interval)
                                          AND DATEADD(HOUR, DATEPART(HOUR, BD.started_on_chunck), production_day) BETWEEN BD.started_on_chunck AND BD.ended_on_chunck
        ORDER BY started_on_chunck;
    END;

        /****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId]    Script Date: 4/12/2019 15:19:33 ******/

        SET ANSI_NULLS ON;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId].[@start_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId].[@end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId].[@Order_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId].[@Order_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId].[@start_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId].[@end_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="854" />
				<Property Name="Length" Value="2555" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_ProductionDay_Data&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given an asset and a Production_Day, get the data for a full production day and pass it to the dashboard display&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200328&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec dbo.spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId 2945, '2020-03-28 14:00:00','2020-03-28 21:00:00', 6&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_ProductionData_By_Interval_And_OrderId] @Order_Id   INT, &#xD;&#xA;                                                                                   @start_time DATETIME, &#xD;&#xA;                                                                                   @end_time   DATETIME, &#xD;&#xA;                                                                                   @Asset_Id   INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

--Select @Asset_Id = 1,
--	@Production_Day = '2019-07-25'

Declare @Shift_Hours table
	(
	Id					Int Identity,
	shift_code			Varchar(100),
	shift_name			Varchar(100),
	hour_interval		Varchar(100),
	hour_interval_start	Datetime,
	hour_interval_end	Datetime,
	shift_sequence		Int,
	message				Varchar(256)
	)

Declare @Output table
	(
	Id								Int Identity,
	dxhdata_id						Int,			
	asset_id						INT,
	production_day					Datetime,
	shift_code						Varchar(100),
	shift_name						Varchar(100),
	hour_interval					Varchar(100),
	hour_interval_start				Datetime,
	hour_interval_end				Datetime,
	shift_sequence					Int,
	summary_product_code			Varchar(100),
	summary_ideal					Float,
	summary_target					Float,				
	summary_actual					Float,				
	cumulative_target				Float,
	cumulative_actual				Float,
	summary_dtminutes				Float,
	summary_dtreason_code			Varchar(100),
	summary_dtreason_name			Varchar(100),
	summary_setup_minutes			Float,
	summary_breakandlunch_minutes	Float,
	summary_comment					Varchar(256),
	operator_signoff				Varchar(100),
	operator_signoff_timestamp		Datetime,
	supervisor_signoff				Varchar(100),
	supervisor_signoff_timestamp	Datetime,
	product_code					Varchar(100),	-- ProductionData
	ideal							Float,			
	target							Float,
	actual							Float,
	UOM_Code						Varchar(100),
	order_number					Varchar(100),
	start_time						Datetime,
	end_time						Datetime,
	dtminutes						Float,			--DTData
	dtminutes_provisional			Float,
	dtreason_code					Varchar(100),
	dtreason_name					Varchar(200),
	comment							Varchar(256),	--CommentData
	first_name						Varchar(100),
	last_name						Varchar(100),
	last_modified_on				Datetime,	
	message							Varchar(256)	
	)

Declare @Production table
	(
	Id						Int Identity,
	productiondata_id		Int,			
	dxhdata_id				Int,			
	product_code			Varchar(100),	-- ProductionData
	ideal					Float,			
	target					Float,
	actual					Float,
	UOM_Code				Varchar(100),
	order_number			Varchar(100),
	routed_cycle_time		Float,
	start_time				Datetime,
	end_time				Datetime,
	entered_on				Datetime,
	message					Varchar(256)
	)

Declare @DT table
	(
	Id						Int Identity,
	dtdata_id				Int,			
	dxhdata_id				Int,			
	dtreason_id				Int,
	dtminutes				Float,			--DTData
	dtminutes_provisional	Float,
	dtreason_code			Varchar(100),
	dtreason_name			Varchar(200),
	dtminutes_total			Float,
	dtminutes_breaks		Float,
	dtminutes_setup			Float,
	message					Varchar(256)
	)

Declare @Setup_Details table
	(
	Id							Int Identity,
	dxhdata_id					Int,
	shift_code					Varchar(100),
	hour_interval				Varchar(100),
	hour_interval_start			Datetime,
	hour_interval_end			Datetime,
	setup_start_time			Datetime,
	setup_end_time				Datetime,
	setup_minutes				Float,
	mod_setup_start_time		Datetime,
	mod_setup_end_time			Datetime,
	mod_setup_minutes			Float,
	message						Varchar(256)
	)

Declare @BreakLunch_Details table
	(
	Id							Int Identity,
	dxhdata_id					Int,
	shift_code					Varchar(100),
	hour_interval				Varchar(100),
	hour_interval_start			Datetime,
	hour_interval_end			Datetime,
	breaklunch_start_time		Datetime,
	breaklunch_end_time			Datetime,
	breaklunch_minutes			Float,
	mod_breaklunch_start_time	Datetime,
	mod_breaklunch_end_time		Datetime,
	mod_breaklunch_minutes		Float,
	message						Varchar(256)
	)

Declare @Comment table
	(
	Id					Int Identity,
	commentdata_id		Int, 
	dxhdata_id			Int, 
	comment				Varchar(256), 
	first_name			Varchar(100), 
	last_name			Varchar(100), 
	last_modified_on	Datetime,
	message				Varchar(256)
	)

Declare 
	@Shift_Code							Varchar(100),
	@First								Int,
	@Loop								Int,
	@Hours								Int,
	@Production_Day_Offset_Minutes		Int,	
	@Site_Timezone						Varchar(100),	
	@IsFirst							Bit,
	@Calendar_Day_Start					Datetime,	
	@json_out							nVarchar(max),
	@Min								Int,
	@Max								Int,
	@Production_Rows					Int,
	@DT_Rows							Int,
	@Comment_Rows						Int,
	@Prediction_Order					Varchar(100),
	@Prediction_Product_Code			Varchar(100),
	@Prediction_Order_Quantity			Float,
	@Prediction_Produced_Quantity		Float,
	@Prediction_Routed_Cycle_Time		Float,
	@Prediction_Target_Percent_Of_Ideal	Float,
	@Prediction_Hours_To_Complete		Float,
	@Prediction_Remaining_Quantity		Float,
	@Shift_Hours_Remaining				Float,
	@Shift_Sequence						Int,
	@MaxShift_Sequence					Int,
	@Setup_Lookback_Minutes				Int,
	@Current_Order_Id					Int,
	@Site_Id							Int

SELECT @Site_Id = asset_id
FROM [dbo].[Asset] WHERE asset_level = 'Site' AND site_code = (SELECT site_code FROM [dbo].[Asset] WHERE asset_id=@Asset_Id);

Select @Setup_Lookback_Minutes = convert(Int, setup_lookback_minutes)
From dbo.CommonParameters cpt with (nolock)
Where site_id = @Site_Id AND status = 'Active';

Select @Production_Day_Offset_Minutes = convert(Int, production_day_offset_minutes)
From dbo.CommonParameters cpt with (nolock)
Where site_id = @Site_Id AND status = 'Active';

Select @Site_Timezone = site_timezone
From dbo.CommonParameters cpt with (nolock)
Where site_id = @Site_Id AND status = 'Active';

--Select @Production_Day_Offset_Minutes = 420, @IsFirst = 1

Select @Calendar_Day_Start = dateadd(minute,@Production_Day_Offset_Minutes,@Production_Day)

--Select @Calendar_Day_Start
--Select @Production_Day_Offset_Minutes
Select 
	@Loop = 1,
	@Hours = duration_in_minutes/60,
	@IsFirst = is_first_shift_of_day, 
	@First = convert(Int,datepart(hour,start_time)),
	@Shift_Sequence = shift_sequence,
	@Shift_Code = shift_code
From dbo.Shift with (nolock)
Where status = 'Active'
	And is_first_shift_of_day = 1

Select @MaxShift_Sequence = max(shift_sequence)
From dbo.Shift with (nolock)
Where status = 'Active'

--Select @First
While @Shift_Sequence <= @MaxShift_Sequence
Begin

	If IsNull(@Hours,0) > 0
	Begin
		While @Loop - 1 < IsNull(@Hours,0)
		Begin

			Insert @Shift_Hours
				Select 
					shift_code,
					shift_name,
					Null as 'hour_interval',
					case 
						when @IsFirst = 1 then dateadd(hour,@Loop - 1, @Calendar_Day_Start)
						when @IsFirst = 0 then dateadd(hour,@Loop - 1 + @First,@Production_Day)
						else 0 
					end as 'hour_interval_start',
					Null as 'hour_interval_end',
					shift_sequence,
					Null as 'message'
				From dbo.Shift with (nolock)
				Where shift_code = @Shift_Code
					And status = 'Active'		
	
			Set @Loop = @Loop + 1

		End
	End -- IsNull(@Hours,0) > 0

	Select 
		@Loop = 1,
		@Hours = duration_in_minutes/60,
		@IsFirst = is_first_shift_of_day, 
		@First = convert(Int,datepart(hour,start_time)),
		@Shift_Code = shift_code
	From dbo.Shift with (nolock)
	Where status = 'Active'
		And shift_sequence = @Shift_Sequence + 1

	Set @Shift_Sequence = @Shift_Sequence + 1

End -- While Shift_Sequence

Update @Shift_Hours
Set hour_interval_end =  dateadd(hour,1,hour_interval_start) 

Update @Shift_Hours
Set hour_interval = 
	lower
	(
		replace(
			convert
				(varchar(15),cast(hour_interval_start as time),100) 
				+ ' - ' 
				+ convert(varchar(15),cast(hour_interval_end as time),100
				), 
		':00', ''
		)
	)

--Select * From @Shift_Hours

Insert @Output
		(
		dxhdata_id,
		asset_id,
		production_day,
		shift_code,
		shift_name,
		hour_interval,
		hour_interval_start,
		hour_interval_end,
		shift_sequence,
		operator_signoff,
		operator_signoff_timestamp,
		supervisor_signoff,
		supervisor_signoff_timestamp
		)
	Select 
		Null as 'dxh.dxhdata_id',
		@Asset_Id,
		@Production_Day,
		s.shift_code,
		s.shift_name,
		s.hour_interval,
		s.hour_interval_start,
		s.hour_interval_end,
		s.shift_sequence,
		Null as 'min(dxh.operator_signoff)',
		Null as 'min(dxh.operator_signoff_timestamp)',
		Null as 'min(dxh.supervisor_signoff)',
		Null as 'min(dxh.supervisor_signoff_timestamp)'
	From @Shift_Hours s 
	Order By 
		s.shift_sequence,	
		s.hour_interval_start			

Update @Output
Set dxhdata_id = dxh.dxhdata_id,
	operator_signoff = dxh.operator_signoff,
	operator_signoff_timestamp = dxh.operator_signoff_timestamp,
	supervisor_signoff = dxh.supervisor_signoff,
	supervisor_signoff_timestamp = dxh.supervisor_signoff_timestamp
From @Output o,
	dbo.DxHData dxh
Where o.asset_id = dxh.asset_id
	And o.production_day = dxh.production_day
	And o.shift_code = o.shift_code
	And o.hour_interval = dxh.hour_interval

--Select * From @Output
--	For Json path, INCLUDE_NULL_VALUES

--There may be MANY rows per order so these are aggregated
--In a given hour,order and product, the ideal, target, and UOM should all be the same
Insert @Production
	Select
		max(pd.productiondata_id),			
		pd.dxhdata_id,			
		pd.product_code,
		min(pd.ideal),			
		min(pd.target),
		sum(pd.actual),	
		min(pd.UOM_Code),
		pd.order_number,
		Null  as 'routed_cycle_time',
		min(pd.start_time),
		max(pd.end_time),
		max(pd.entered_on),
		Null		as 'message'
	From dbo.ProductionData pd with (nolock),
		@Output o
	Where pd.dxhdata_id = o.dxhdata_id
	Group By
		pd.dxhdata_id,			
		pd.product_code,
		pd.order_number

Update @Production
Set routed_cycle_time = od.routed_cycle_time
From @Production p,
	dbo.OrderData od 
Where p.order_number = od.order_number 

--Select * From @Production

--Compute the production summaries for each hour
Select @Min = min(Id)
From @Output o
Where exists 
	(
	Select Id
	From @Production p
	Where p.dxhdata_id = o.dxhdata_id
	)

Select @Max = max(Id)
From @Output o
Where exists 
	(
	Select Id
	From @Production p
	Where p.dxhdata_id = o.dxhdata_id
	)

If IsNull(@Min,0) > 0
Begin

	While @Min <= @Max
	Begin	

		Set @Production_Rows = Null

		Select @Production_Rows = count(*)
		From @Production p,
			@Output o
		Where p.dxhdata_id = o.dxhdata_id
			And o.Id = @Min

		If IsNull(@Production_Rows,0) = 1
		Begin
			Update @Output
			Set summary_product_code = p.product_code,
				summary_ideal = convert(Int,p.ideal),
				summary_target = convert(Int,p.target),
				summary_actual = p.actual
			From @Output o, 
				@Production p
			Where o.dxhdata_id = p.dxhdata_id
				And o.Id = @Min
		End

		If IsNull(@Production_Rows,0) > 1
		Begin
			Update @Output
			Set summary_product_code = 'multiple',
				--summary_ideal = p.ideal,
				--summary_target = p.target,
				summary_actual = s.Sum_Actual
			From @Output o, 
				(
				Select
					p.dxhdata_id,
					sum(p.actual) as 'Sum_Actual' 
				From @Production p,
					@Output o2
				Where p.dxhdata_id = o2.dxhdata_id
					And o2.Id = @Min
				Group By
					p.dxhdata_id
				) s
			Where o.dxhdata_id = s.dxhdata_id
				And o.Id = @Min

			Update @Output
			Set summary_ideal = convert(Int,s.Sum_Max_Ideal)
			From @Output o, 
				(
				Select
					p.dxhdata_id,
					sum(p.ideal) as 'Sum_Max_Ideal' 
				From @Production p,
					@Output o2
				Where p.dxhdata_id = o2.dxhdata_id
					And o2.Id = @Min
					And p.Id = 
						(
						Select max(Id)
						From @Production p2
						Where p2.dxhdata_id = o2.dxhdata_id
							And p2.product_code = p.product_code --should work the same as order
						)
				Group By
					p.dxhdata_id
				) s
			Where o.dxhdata_id = s.dxhdata_id
				And o.Id = @Min

			Update @Output
			Set summary_target = convert(Int,s.Sum_Max_Target)
			From @Output o, 
				(
				Select
					p.dxhdata_id,
					sum(p.target) as 'Sum_Max_Target' 
				From @Production p,
					@Output o2
				Where p.dxhdata_id = o2.dxhdata_id
					And o2.Id = @Min
					And p.Id = 
						(
						Select max(Id)
						From @Production p2
						Where p2.dxhdata_id = o2.dxhdata_id
							And p2.product_code = p.product_code --should work the same as order
						)
				Group By
					p.dxhdata_id
				) s
			Where o.dxhdata_id = s.dxhdata_id
				And o.Id = @Min

		End -- If Production Rows > 1
	
		Set @Min = @Min + 1

	End --while

End -- if min > 0

--Cumulatives are across the shift
Update @Output
Set cumulative_target = s.Running_Target,
	cumulative_actual = s.Running_Actual
From @Output o,
	(
	Select
		Id,
		sum(o2.summary_target) over ( Order By Id ) as 'Running_Target',
		sum(o2.summary_actual) over ( Order By Id ) as 'Running_Actual'
	From @Output o2
	) s
Where o.Id = s.Id
	And o.summary_target is not Null

--Predictive now.

--	For the current order for this asset (is_current_order = 1, there is an index here, use it), 
--		find the order quantity, total produced quantity and routed cycle time
--			Note total produced for an order could span days
--		If order quantity > total produced
--			Determine how many hours in this shift it is expected to run
--			Populate summary_product_code, summary_ideal, and summary_target in those hours
--	

-- There should be only one current order but just in case, take the top 1
Select top 1
	@Current_Order_Id = od.order_id,
	@Prediction_Order = od.order_number,
	@Prediction_Product_Code = od.product_code,
	@Prediction_Order_Quantity = order_quantity,
	@Prediction_Routed_Cycle_Time = routed_cycle_time,
	@Prediction_Target_Percent_Of_Ideal = target_percent_of_ideal
From dbo.OrderData od with (nolock)
Where od.is_current_order = 1
	And od.asset_id = @Asset_Id
Order by 
	od.entered_on desc

If @Prediction_Routed_Cycle_Time is Null
Begin
	Select @Prediction_Routed_Cycle_Time = convert(float,default_routed_cycle_time)
	From dbo.CommonParameters cpt with (nolock)
	Where site_id = @Site_Id AND status = 'Active';
End

If @Prediction_Routed_Cycle_Time is Null
Begin
	Select @Prediction_Routed_Cycle_Time = 300
End

If @Prediction_Target_Percent_Of_Ideal is Null
Begin
	Select @Prediction_Target_Percent_Of_Ideal = convert(float,default_target_percent_of_ideal)
	From dbo.CommonParameters cpt with (nolock)
	Where site_id = @Site_Id AND status = 'Active';
End

If @Prediction_Target_Percent_Of_Ideal is Null
Begin
	Select @Prediction_Target_Percent_Of_Ideal = 0.75
End

Select @Prediction_Produced_Quantity = sum(pd.actual)
	From dbo.ProductionData pd with (nolock),
		dbo.OrderData od with (nolock),
		dbo.DxHData dxh with (nolock)
	Where pd.dxhdata_id = dxh.dxhdata_id
		And pd.order_id = od.order_id
		And dxh.asset_id = @Asset_Id
		And od.order_id = @Current_Order_Id

Select @Prediction_Remaining_Quantity = IsNull(@Prediction_Order_Quantity,-1) - IsNull(@Prediction_Produced_Quantity,0)

If IsNull(@Prediction_Order_Quantity,-1) > IsNull(@Prediction_Produced_Quantity,0)
Begin
	Select @Prediction_Hours_To_Complete = 
		(
			(@Prediction_Order_Quantity - @Prediction_Produced_Quantity) --remaining quantity
			* (@Prediction_Routed_Cycle_Time / 60.0)					--converted to minutes
		)
		/60.0															--converted to hours

	If
		(
		Select sum(IsNull(summary_breakandlunch_minutes,0))/60.0
		From @Output
		Where dxhdata_id is Null
		) > 0
	Begin
		-- Add in the break and lunch time
		Select @Prediction_Hours_To_Complete = @Prediction_Hours_To_Complete + 
			(
			Select sum(IsNull(summary_breakandlunch_minutes,0))/60.0
			From @Output
			Where dxhdata_id is Null
			)
	End
End 

Declare
	@MinNoProd			Int,
	@ShiftCounter		Int,
	@ShiftsToPredict	Int

Select @Shift_Hours_Remaining = count(*)
From @Output
Where dxhdata_id is Null

If 
	(
	IsNull(@Shift_Hours_Remaining,0) > 0
	And
	IsNull(@Prediction_Hours_To_Complete,0) > 0
	)
Begin

	Select @MinNoProd = min(Id)
	From @Output 
	Where dxhdata_id is Null

	Select @ShiftCounter = 1

	If IsNull(@Prediction_Hours_To_Complete,0) > IsNull(@Shift_Hours_Remaining,0)
	Begin
		Select @ShiftsToPredict = @Shift_Hours_Remaining
	End
	Else
	Begin
		Select @ShiftsToPredict = @Prediction_Hours_To_Complete
	End

	While (@ShiftCounter <= @ShiftsToPredict And @Prediction_Remaining_Quantity > 0)
	Begin
		If 
			(
			Select ((3600 - IsNull(summary_breakandlunch_minutes,0) * 60.0) / @Prediction_Routed_Cycle_Time)
			From @Output
			Where Id = (@MinNoProd - 1) + @ShiftCounter
			) > @Prediction_Remaining_Quantity
		Begin
			Update @Output
			Set summary_ideal = convert(Int,@Prediction_Remaining_Quantity)
			From @Output
			Where Id = (@MinNoProd - 1) + @ShiftCounter

		End
		Else
		Begin

			Update @Output
			Set summary_ideal = convert(Int,((3600 - IsNull(summary_breakandlunch_minutes,0) * 60.0) / @Prediction_Routed_Cycle_Time))
			From @Output
			Where Id = (@MinNoProd - 1) + @ShiftCounter

		End

		If 
			(
			Select ((3600 - IsNull(summary_breakandlunch_minutes,0) * 60.0) / @Prediction_Routed_Cycle_Time)
				* @Prediction_Target_Percent_Of_Ideal
			From @Output
			Where Id = (@MinNoProd - 1) + @ShiftCounter
			) > @Prediction_Remaining_Quantity
		Begin
			Update @Output
			Set summary_target = @Prediction_Remaining_Quantity 
			From @Output
			Where Id = (@MinNoProd - 1) + @ShiftCounter

		End
		Else
		Begin
			Update @Output
			Set summary_target = convert(Int,((3600 - IsNull(summary_breakandlunch_minutes,0) * 60.0) / @Prediction_Routed_Cycle_Time)
					* @Prediction_Target_Percent_Of_Ideal)
			From @Output
			Where Id = (@MinNoProd - 1) + @ShiftCounter

		End

		Update @Output
		Set summary_product_code = @Prediction_Product_Code
		From @Output
		Where Id = (@MinNoProd - 1) + @ShiftCounter


		--This assumes that the predicted actual is the same as target
		Select @Prediction_Remaining_Quantity = @Prediction_Remaining_Quantity - summary_target 
		From @Output
		Where Id = (@MinNoProd - 1) + @ShiftCounter

		Select 
			@ShiftCounter = @ShiftCounter + 1
	
	End -- While

End -- If IsNull(@Shift_Hours_Remaining,0) > 0

--Select @Shift_Hours_Remaining

------***********************************************************
------Remove this!!!
------This is just to put something in the json output for testing
----Update @Output 
----Set summary_product_code = '1 1/4 CD45-S PS',
----	summary_ideal = 7,
----	summary_target = 5
----From @Output
----Where Id = 4

----Update @Output 
----Set summary_product_code = '1 1/4 CD45-S PS',
----	summary_ideal = 5,
----	summary_target = 3
----From @Output
----Where Id = 5

----Update @Output 
----Set summary_product_code = '1 1/4 CD45-S PS',
----	summary_ideal = 7,
----	summary_target = 5
----From @Output
----Where Id = 6
	
------***********************************************************


--	  
Insert @DT
	Select
		dt.dtdata_id,			
		dt.dxhdata_id,			
		dt.dtreason_id,
		dt.dtminutes,			-- DTData
		dt.dtminutes_provisional,	--ignore this for now		
		Null		as 'dtreason_code',
		Null		as 'dtreason_name',
		dt.dtminutes_total,			--ignore this for now
		dt.dtminutes_breaks,		--ignore this for now
		dt.dtminutes_setup,			--ignore this for now
		Null		as 'message'
	From dbo.DTData dt with (nolock),
		@Output o
	Where dt.dxhdata_id = o.dxhdata_id

Update @DT
Set dtreason_code = dtr.dtreason_code,
	dtreason_name = dtr.dtreason_name
From @DT dt,
	dbo.DTReason dtr with (nolock),
	@Output o
Where dt.dtreason_id = dtr.dtreason_id
	And dt.dxhdata_id = o.dxhdata_id
	And o.asset_id = dtr.asset_id

--Compute the DT summaries for each hour
Select 
	@Min = Null,
	@Max = Null

Select @Min = min(Id)
From @Output o
Where exists 
	(
	Select Id
	From @DT dt
	Where dt.dxhdata_id = o.dxhdata_id
	)

Select @Max = max(Id)
From @Output o
Where exists 
	(
	Select Id
	From @DT dt
	Where dt.dxhdata_id = o.dxhdata_id
	)

If IsNull(@Min,0) > 0
Begin

	While @Min <= @Max
	Begin	

		Set @DT_Rows = Null

		Select @DT_Rows = count(*)
		From @DT dt,
			@Output o
		Where dt.dxhdata_id = o.dxhdata_id
			And o.Id = @Min

		If IsNull(@DT_Rows,0) = 1
		Begin
			Update @Output
			Set summary_dtminutes = dt.dtminutes,
				summary_dtreason_code = dt.dtreason_code,
				summary_dtreason_name = dt.dtreason_name
			From @Output o, 
				@DT dt
			Where o.dxhdata_id = dt.dxhdata_id
				And o.Id = @Min
		End

		If IsNull(@DT_Rows,0) > 1
		Begin
			Update @Output
			Set summary_dtminutes = s.Sum_dtminutes,
				summary_dtreason_code = 'multiple',
				summary_dtreason_name = 'multiple'
			From @Output o, 
				(
				Select
					dt.dxhdata_id,
					sum(dt.dtminutes) as 'Sum_dtminutes' 
				From @DT dt,
					@Output o2
				Where dt.dxhdata_id = o2.dxhdata_id
					And o2.Id = @Min
				Group By
					dt.dxhdata_id
				) s
			Where o.dxhdata_id = s.dxhdata_id
				And o.Id = @Min

		End -- If DT Rows > 1
	
		Set @Min = @Min + 1

	End --while

End -- if min > 0

--
--Get the setup and breaklunch minutes
-- 
-- Setup time in an hour can be
--		In the hour and related to orders that have reported production
--		In the hour and related to orders that have not yet reported production
--			Note that the setup may have started prior to the start of the hour. A CommonParameter 
--			called setup_lookback_minutes limits the time to look back in OrderData for setups that 
--			span the start of the hour.

--get the setup for orders that have reported production 
Insert @Setup_Details
	(
	dxhdata_id,
	shift_code,
	hour_interval,
	hour_interval_start,
	hour_interval_end,
	setup_start_time,
	setup_end_time,
	setup_minutes,
	message
	)
	Select
		o.dxhdata_id,
		o.shift_code,
		o.hour_interval,
		o.hour_interval_start,
		o.hour_interval_end,
		od.setup_start_time,
		od.setup_end_time,
		Null,
		od.order_number as 'message'
	From @Output o,
		dbo.ProductionData pd with (nolock),
		dbo.OrderData od with (nolock)
	Where o.dxhdata_id = pd.dxhdata_id
		And pd.order_number = od.order_number
		-- setuptime must start, end, or span the hour interval
		And 
			(
				(
				od.setup_start_time >= o.hour_interval_start
				And
				od.setup_start_time < o.hour_interval_end 
				)
				Or
				(
				od.setup_end_time >= o.hour_interval_start
				And
				od.setup_end_time < o.hour_interval_end 
				)
				Or
				(
				od.setup_start_time < o.hour_interval_start
				And
				od.setup_end_time > o.hour_interval_end 
				)
			)

--get the setup for orders that have NOT reported production 
Insert @Setup_Details
	(
--	dxhdata_id,
	shift_code,
	hour_interval,
	hour_interval_start,
	hour_interval_end,
	setup_start_time,
	setup_end_time,
	setup_minutes,
	message
	)
	Select
--		o.dxhdata_id,
		o.shift_code,
		o.hour_interval,
		o.hour_interval_start,
		o.hour_interval_end,
		od.setup_start_time,
		od.setup_end_time,
		Null,
		'Setup without production'
	From @Output o,
		dbo.OrderData od with (nolock)
	Where o.asset_id = od.asset_id
		And od.setup_start_time is not Null
		And IsNull(od.setup_end_time,od.setup_start_time) > dateadd(minute,-@Setup_Lookback_Minutes,o.hour_interval_start)
		And not exists 
			(
			Select od2.order_id 
			From @Output o2,
				dbo.ProductionData pd2 with (nolock),
				dbo.OrderData od2 with (nolock)
			Where o2.dxhdata_id = pd2.dxhdata_id
				And pd2.order_number = od2.order_number
				And od2.asset_id = @Asset_Id
				And o2.Id = o.Id
			)
		And not exists 
			(
			Select sd.Id 
			From @Setup_Details sd
			Where sd.setup_start_time = od.setup_start_time
			)
		And o.hour_interval_start = 
			(
			Select min(o3.hour_interval_start)
			From @Output o3,
				dbo.OrderData od3 with (nolock)
			Where o3.asset_id = od3.asset_id
				And od3.setup_start_time is not Null
				And IsNull(od3.setup_end_time,od3.setup_start_time) > dateadd(minute,-@Setup_Lookback_Minutes,o3.hour_interval_start)
				And not exists 
					(
					Select od4.order_id 
					From @Output o4,
						dbo.ProductionData pd4 with (nolock),
						dbo.OrderData od4 with (nolock)
					Where o4.dxhdata_id = pd4.dxhdata_id
						And pd4.order_number = od4.order_number
						And od4.asset_id = @Asset_Id
						And o4.Id = o3.Id
					)
				And not exists 
					(
					Select sd2.Id 
					From @Setup_Details sd2
					Where sd2.setup_start_time = od3.setup_start_time
					)
			)

Update @Setup_Details
Set setup_minutes = datediff(minute,setup_start_time,setup_end_time)

-- Modify the setup times to bound them by the edges of the hour
Update @Setup_Details
Set mod_setup_start_time = hour_interval_start
Where setup_start_time < hour_interval_start
	And mod_setup_start_time is Null

Update @Setup_Details
Set mod_setup_start_time = setup_start_time
Where setup_start_time >= hour_interval_start
	And mod_setup_start_time is Null

Update @Setup_Details
Set mod_setup_end_time = hour_interval_end
Where setup_end_time > hour_interval_end
	And mod_setup_end_time is Null

Update @Setup_Details
Set mod_setup_end_time = setup_end_time
Where setup_end_time < hour_interval_end
	And mod_setup_end_time is Null
	  
Update @Setup_Details
Set mod_setup_end_time = hour_interval_end
Where setup_end_time is Null
	And mod_setup_end_time is Null

Update @Setup_Details
Set mod_setup_minutes = datediff(minute,mod_setup_start_time,mod_setup_end_time)

Update @Output
Set summary_setup_minutes = s.sum_setup_minutes
From @Output o,
	(
	Select 
		sd.hour_interval,
		sum(sd.mod_setup_minutes) as 'sum_setup_minutes'
	From @Setup_Details sd
	Group By
		sd.hour_interval
	) s
Where o.hour_interval = s.hour_interval

-- This may need some tweaking if the shifts change and there is a positive production day offset 
-- or if the break starts in one hour and ends in another
Insert @BreakLunch_Details
	(
	shift_code,
	hour_interval,
	hour_interval_start,
	hour_interval_end,
	breaklunch_start_time,
	breaklunch_end_time,
	breaklunch_minutes
	)
	Select
		shift_code,
		hour_interval,
		hour_interval_start,
		hour_interval_end,
		cast(cast(hour_interval_start as date) as datetime) + cast(u.start_time as datetime) as 'breaklunch_start_time',
		cast(cast(hour_interval_start as date) as datetime) + cast(u.end_time as datetime) as 'breaklunch_end_time',
		Null as 'breaklunch_minutes'
	From @Output o,
		dbo.Unavailable u with (nolock)
	Where o.asset_id = u.asset_id
		And o.asset_id = @Asset_Id
		And cast(o.hour_interval_start as time) <= u.start_time
		And (cast(o.hour_interval_end as time) > u.start_time or cast(o.hour_interval_end as time) = '00:00:00')
		And (cast(o.hour_interval_end as time) > u.end_time or cast(o.hour_interval_end as time) = '00:00:00')
		And u.status = 'Active'

Update @BreakLunch_Details
Set breaklunch_minutes = datediff(minute,breaklunch_start_time,breaklunch_end_time)

-- Modify the breaklunch times to bound them by the edges of the hour
Update @BreakLunch_Details
Set mod_breaklunch_start_time = hour_interval_start
Where breaklunch_start_time < hour_interval_start
	And mod_breaklunch_start_time is Null

Update @BreakLunch_Details
Set mod_breakLunch_start_time = breaklunch_start_time
Where breaklunch_start_time >= hour_interval_start
	And mod_breaklunch_start_time is Null

Update @BreakLunch_Details
Set mod_breaklunch_end_time = hour_interval_end
Where breaklunch_end_time > hour_interval_end
	And mod_breaklunch_end_time is Null

Update @Breaklunch_Details
Set mod_breaklunch_end_time = breaklunch_end_time
Where breaklunch_end_time < hour_interval_end
	And mod_breaklunch_end_time is Null
	  
Update @BreakLunch_Details
Set mod_breaklunch_end_time = hour_interval_end
Where breaklunch_end_time is Null
	And mod_breaklunch_end_time is Null

Update @BreakLunch_Details
Set mod_breaklunch_minutes = datediff(minute,mod_breaklunch_start_time,mod_breaklunch_end_time)

Update @Output
Set summary_breakandlunch_minutes = s.sum_breaklunch_minutes
From @Output o,
	(
	Select 
		sd.hour_interval,
		sum(sd.mod_breaklunch_minutes) as 'sum_breaklunch_minutes'
	From @BreakLunch_Details sd
	Group By
		sd.hour_interval
	) s
Where o.hour_interval = s.hour_interval


--Select * From @Output
--Select * From @Setup_BreakLunch_Minutes

--Select * From @Setup_Details
--select * From @BreakLunch_Details

--return


Insert @Comment
	Select
		cd.commentdata_id, 
		cd.dxhdata_id, 
		cd.comment, 
		cd.first_name, 
		cd.last_name, 
		cd.last_modified_on at time zone 'UTC' at time zone @Site_Timezone,
		Null as 'message'
	From dbo.CommentData cd with (nolock),
		@Output o
	Where cd.dxhdata_id = o.dxhdata_id

--comment summaries for each hour
Select 
	@Min = Null,
	@Max = Null

Select @Min = min(Id)
From @Output o
Where exists 
	(
	Select Id
	From @Comment c 
	Where c.dxhdata_id = o.dxhdata_id
	)

Select @Max = max(Id)
From @Output o
Where exists 
	(
	Select Id
	From @Comment c
	Where c.dxhdata_id = o.dxhdata_id
	)

If IsNull(@Min,0) > 0
Begin

	While @Min <= @Max
	Begin	

		Set @Comment_Rows = Null

		Select @Comment_Rows = count(*)
		From @Comment c,
			@Output o
		Where c.dxhdata_id = o.dxhdata_id
			And o.Id = @Min

		If IsNull(@Comment_Rows,0) = 1
		Begin
			Update @Output
			Set summary_comment = c.comment
			From @Output o, 
				@Comment c
			Where o.dxhdata_id = c.dxhdata_id
				And o.Id = @Min
		End

		If IsNull(@Comment_Rows,0) > 1
		Begin
			Update @Output
			Set summary_comment = 'multiple'
			From @Output o, 
				@Comment c
			Where o.dxhdata_id = c.dxhdata_id
				And o.Id = @Min

		End -- If Comment Rows > 1
	
		Set @Min = @Min + 1

	End --while

End -- if min > 0

If not exists (Select Id From @Output)
Begin
	Insert @Output (asset_id,production_day,shift_code,message)
		Select
			@Asset_Id,
			@Production_Day,
			@Shift_Code,
			'No Data' 
End	
	
Select @json_out = 
	(
	Select 
		o2.shift_code					as 'productionday.shift_code',
		(
		Select 
			o.dxhdata_id					as 'hour.dxhdata_id',			
			asset_id						as 'hour.asset_id',
			production_day					as 'hour.production_day',
			shift_code						as 'hour.shift_code',
			shift_name						as 'hour.shift_name',
			hour_interval					as 'hour.hour_interval',
			hour_interval_start				as 'hour.hour_interval_start',
			hour_interval_end				as 'hour.hour_interval_end',
			shift_sequence					as 'hour.shift_sequence',
			summary_product_code			as 'hour.summary_product_code',
			summary_ideal					as 'hour.summary_ideal',
			summary_target					as 'hour.summary_target',
			summary_actual					as 'hour.summary_actual',
			summary_setup_minutes			as 'hour.summary_setup_minutes',
			summary_breakandlunch_minutes	as 'hour.summary_breakandlunch_minutes',
			cumulative_target				as 'hour.cumulative_target',
			cumulative_actual				as 'hour.cumulative_actual',
			summary_dtminutes				as 'hour.symmary_dtminutes',
			summary_dtreason_code			as 'hour.symmary_dtreason_code',
			summary_dtreason_name			as 'hour.symmary_dtreason_name',
			summary_comment					as 'hour.symmary_comment',
			operator_signoff				as 'hour.operator_signoff',
			operator_signoff_timestamp		as 'hour.operator_signoff_timestamp',
			supervisor_signoff				as 'hour.supervisor_signoff',
			supervisor_signoff_timestamp	as 'hour.supervisor_signoff_timestamp',
			o.message						as 'hour.message',	
			(
			Select
				p2.productiondata_id,	 -- as 'Production.productiondata_id',
				--p2.dxhdata_id,
				p2.product_code,		--as 'Production.product_code', 
				p2.ideal,				-- as 'Production.ideal', 
				p2.target,				-- as 'Production.target', 
				p2.actual,				-- as 'Production.actual', 
				p2.order_number,		-- as 'Production.order_number', 
				p2.routed_cycle_time	-- as 'Production.routed_cycle_time' 
			From @Production p2
			Where p2.dxhdata_id = o.dxhdata_id
			For Json path, INCLUDE_NULL_VALUES
			) as 'hour.production',
			(
			Select
				dt.dtdata_id,			
				dt.dxhdata_id,			
				dt.dtreason_id,
				dt.dtminutes,				-- DTData
				dt.dtminutes_provisional,	--ignore this for now		
				dt.dtreason_code,
				dt.dtreason_name,
				dt.dtminutes_total,			--ignore this for now
				dt.dtminutes_breaks,		--ignore this for now
				dt.dtminutes_setup			--ignore this for now
			From @DT dt
			Where dt.dxhdata_id = o.dxhdata_id
			For Json path, INCLUDE_NULL_VALUES
			) as 'hour.timelost',
			(
			Select
				c.commentdata_id, 
				c.dxhdata_id, 
				c.comment, 
				c.first_name, 
				c.last_name, 
				c.last_modified_on,
				c.message
			From @Comment c
			Where c.dxhdata_id = o.dxhdata_id
			For Json path, INCLUDE_NULL_VALUES
			) as 'hour.comment'
		From @Output o 
		Where o.shift_code = o2.shift_code
		Order By 
			o.hour_interval_start
		For Json path, INCLUDE_NULL_VALUES
		) as 'productionday.hour'
	From @Output o2
	Group By 
		o2.shift_code,
		o2.shift_sequence
	Order By
		o2.shift_sequence
	For Json path, INCLUDE_NULL_VALUES
	)

Select @json_out as 'ProductionDay_Data'

--Select * From @Output
--Select * From @Production
--Select * From @DT
--Select * From @Comment
--Select * From @Shift_Hours

Return

END


/****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Get_Shift_Data]    Script Date: 4/12/2019 15:19:33 ******/
SET ANSI_NULLS ON]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[setup_lookback_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[production_day_offset_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production_Day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[operator_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[operator_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[supervisor_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[supervisor_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_ideal]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_target]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[product_code]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[target]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[cumulative_target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[cumulative_actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_on]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_breakandlunch_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_breakandlunch_minutes]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes_provisional]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes_total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes_breaks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtreason_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[mod_setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[mod_setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[mod_setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[mod_setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[breaklunch_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[breaklunch_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[breaklunch_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[start_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[date]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[mod_breaklunch_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[mod_breaklunch_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[mod_breaklunch_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[mod_breaklunch_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[commentdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_end]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_setup_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_breakandlunch_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[cumulative_target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[cumulative_actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtreason_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[operator_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[operator_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[supervisor_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[supervisor_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes_provisional]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes_total]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes_breaks]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[commentdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[message]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_sequence]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[shift_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval_start]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[hour_interval_end]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[shift_sequence]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Shift_Hours].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[asset_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[production_day]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_start]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[hour_interval_end]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[shift_sequence]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_product_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_ideal]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_target]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_actual]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[cumulative_target]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[cumulative_actual]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtminutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtreason_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_dtreason_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_setup_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_breakandlunch_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[summary_comment]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[operator_signoff]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[operator_signoff_timestamp]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[supervisor_signoff]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[supervisor_signoff_timestamp]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[product_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[ideal]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[target]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[actual]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[UOM_Code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[order_number]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dtminutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dtminutes_provisional]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dtreason_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[dtreason_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="200" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[comment]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[first_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[last_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[last_modified_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Output].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[productiondata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[product_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[ideal]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[target]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[actual]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[UOM_Code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[order_number]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[routed_cycle_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[entered_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes_provisional]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtreason_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="200" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes_total]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes_breaks]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[dtminutes_setup]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@DT].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[hour_interval_start]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[hour_interval_end]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[setup_start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[setup_end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[setup_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[mod_setup_start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[mod_setup_end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[mod_setup_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Setup_Details].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[hour_interval_start]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[hour_interval_end]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[breaklunch_start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[breaklunch_end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[breaklunch_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[mod_breaklunch_start_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[mod_breaklunch_end_time]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[mod_breaklunch_minutes]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@BreakLunch_Details].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[commentdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[comment]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[first_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[last_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[last_modified_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Comment].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_ProductionDay_Data].[@Production_Day]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="917" />
				<Property Name="Length" Value="34257" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_ProductionDay_Data&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given an asset and a Production_Day, get the data for a full production day and pass it to the dashboard display&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190826&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--  20191203&#x9;&#x9;C00V01 - Change Asset_Code for Asset_Id&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V03 - Change CommonParameters to CommonParameters&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_ProductionDay_Data 40,'2019-07-25'&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_ProductionDay_Data]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@Asset_Id&#x9;&#x9;INT,&#xD;&#xA;&#x9;@Production_Day Datetime&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    --exec spLocal_EY_DXH_GET_SHIFT_dATA 0, '20191111', 8
    --exec spLocal_EY_DxH_Get_Shift_Data 1, '20191101', 9

    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;

        DECLARE @timezone VARCHAR(50);
		SELECT @timezone = site_timezone FROM dbo.CommonParameters where site_id = @Site;

        DECLARE @current_time   DATETIME = SYSDATETIME() at time zone 'UTC' at time zone @timezone,
		@Active_Status VARCHAR(50) = 'Active';

        WITH CTE
             AS (SELECT CONVERT(VARCHAR, BD.started_on_chunck, 20) AS started_on_chunck, 
                        CONVERT(VARCHAR, BD.ended_on_chunck, 20) AS ended_on_chunck, 
                        LOWER(CONCAT(FORMAT(BD.started_on_chunck, 'htt'), ' - ', FORMAT(BD.ended_on_chunck, 'htt'))) AS hour_interval,
						SF.shift_code,
                        DH.dxhdata_id, 
                        DH.operator_signoff, 
                        DH.operator_signoff_timestamp, 
                        DH.supervisor_signoff, 
                        DH.supervisor_signoff_timestamp, 
                        PD.start_time, 
                        PD.productiondata_id, 
                        P.product_name, 
                        PD.ideal, 
                        PD.target, 
                        PD.actual, 
                        (PD.setup_scrap + PD.other_scrap) AS scrap, 
                        PD.setup_scrap, 
                        PD.other_scrap, 
                        --PD.adjusted_actual, 
                        SUM(PD.ideal) OVER(PARTITION BY PD.dxhdata_id) AS summary_ideal, 
                        SUM(PD.ideal) OVER(
                        ORDER BY PD.dxhdata_id) AS cumulative_ideal, 
                        SUM(PD.target) OVER(PARTITION BY PD.dxhdata_id) AS summary_target, 
                        SUM(PD.target) OVER(
                        ORDER BY BD.started_on_chunck) AS cumulative_target, 
                        SUM(PD.actual) OVER(PARTITION BY PD.dxhdata_id) AS summary_actual, 
                        SUM(PD.actual) OVER(
                        ORDER BY BD.started_on_chunck) AS cumulative_actual, 
                        SUM(PD.setup_scrap + PD.other_scrap) OVER(PARTITION BY PD.dxhdata_id) AS summary_scrap, 
                        SUM(PD.setup_scrap) OVER(PARTITION BY PD.dxhdata_id) AS summary_setup_scrap, 
                        SUM(PD.setup_scrap) OVER(
                        ORDER BY PD.dxhdata_id) AS cumulative_setup_scrap, 
                        SUM(PD.other_scrap) OVER(PARTITION BY PD.dxhdata_id) AS summary_other_scrap, 
                        SUM(PD.other_scrap) OVER(
                        ORDER BY PD.dxhdata_id) AS cumulative_other_scrap, 
                        --SUM(PD.adjusted_actual) OVER(PARTITION BY PD.dxhdata_id) AS summary_adjusted_actual, 
                        --SUM(PD.adjusted_actual) OVER(ORDER BY PD.dxhdata_id) AS cumulative_adjusted_actual,
                        CASE
                            WHEN COUNT(*) OVER(PARTITION BY BD.started_on_chunck) > 1
                            THEN 'multiple'
                            ELSE(CASE
                                     WHEN PD.productiondata_id IS NULL
                                          OR DH.dxhdata_id IS NULL
                                     THEN(CASE
                                              WHEN
                 (
                     SELECT COUNT(productiondata_id)
                     FROM productiondata
                     WHERE start_time > BD.started_on_chunck
                           AND OD.order_number = order_number
                 ) >= 1
                                              THEN OD.product_code
                                              ELSE ''
                                          END)
                                     ELSE PD.product_code
                                 END)
                        END AS summary_product_code, 
                        OD.order_id, 
                        OD.order_number, 
                        OD.order_quantity, 
                        OD.routed_cycle_time, 
                        CP.default_target_percent_of_ideal, 
                        OD.setup_start_time, 
                        OD.setup_end_time, 
                        OD.product_code AS product_code_order, 
                        SUM(CASE
                                WHEN OD.order_id IS NULL
                                THEN 0
                                WHEN OD.setup_start_time < BD.started_on_chunck
                                THEN DATEDIFF(MINUTE, BD.started_on_chunck, OD.setup_end_time)
                                WHEN OD.setup_end_time >= BD.ended_on_chunck
                                THEN DATEDIFF(MINUTE, OD.setup_start_time, BD.ended_on_chunck)
                                ELSE DATEDIFF(MINUTE, OD.setup_start_time, OD.setup_end_time)
                            END) OVER(PARTITION BY PD.dxhdata_id) AS summary_setup_minutes, 
                        CP.default_routed_cycle_time, 
                        AST.target_percent_of_ideal, 
                        U.summary_breakandlunch_minutes, 
                        CD.commentdata_id, 
                        CD.comment, 
                        CD.first_name, 
                        CD.last_name, 
                        CD.total_comments, 
                        DTD.summary_minutes AS timelost_summary,
                        CASE
                            WHEN OD.start_time <= BD.started_on_chunck
                            THEN CONVERT(INT, (3600 / ISNULL(OD.routed_cycle_time, CP.default_routed_cycle_time)))
                            ELSE NULL
                        END AS new_ideal,
                        CASE
                            WHEN OD.start_time <= BD.started_on_chunck
                            THEN CONVERT(INT, ((((60 - ISNULL(U.summary_breakandlunch_minutes, 0)) * 60) / ISNULL(OD.routed_cycle_time, CP.default_routed_cycle_time)) * ISNULL(AST.target_percent_of_ideal, CP.default_target_percent_of_ideal)))
                            ELSE NULL
                        END AS new_target, 
                        PD1.summary_actual_quantity, 
                        ROW_NUMBER() OVER(PARTITION BY OD.order_id
                        ORDER BY BD.started_on_chunck) AS Row#
                 FROM [dbo].[GetRangesBetweenDates](DATEADD(DAY, -1, @Production_date), DATEADD(DAY, 2, @Production_date), 60, 1) AS BD
						--VALIDATE SELECTED DATES AGAINST THE SHIFT TABLE
					  INNER JOIN dbo.Shift SF1 ON SF1.shift_id = @Shift_Id AND
													BD.started_on_chunck >= DATEADD(HOUR, DATEPART(HOUR, SF1.start_time), DATEADD(DAY, SF1.start_time_offset_days, @Production_date))
													AND BD.started_on_chunck <	DATEADD(HOUR, DATEPART(HOUR, SF1.end_time), DATEADD(DAY, SF1.end_time_offset_days, @Production_date))
					  --VALIDATE SELECTED DATES AGAINST THE SHIFT TABLE
					  INNER JOIN dbo.Shift SF ON BD.started_on_chunck >= DATEADD(HOUR, DATEPART(HOUR, SF.start_time), DATEADD(DAY, SF.start_time_offset_days, @Production_date))
													AND BD.started_on_chunck <	DATEADD(HOUR, DATEPART(HOUR, SF.end_time), DATEADD(DAY, SF.end_time_offset_days, @Production_date))
													AND SF.asset_id = @Site
													AND SF.status = @Active_Status
                      --SEARCH ALL DXHDATA FOR EACH INTERVAL HOUR
                      LEFT JOIN dbo.DxHData DH ON DH.asset_id = @Asset_Id
                                                  AND production_day = @Production_date
                                                  AND CONCAT(FORMAT(BD.started_on_chunck, 'htt'), ' - ', FORMAT(BD.ended_on_chunck, 'htt')) = UPPER(DH.hour_interval)
                      --SEARCH ALL PRODUCTION FOR THE SELECTED DXHDATA
                      LEFT JOIN dbo.ProductionData PD ON PD.dxhdata_id = DH.dxhdata_id
                      --SELECT CURRENT ORDER OF THE SHIFT
                      LEFT JOIN dbo.OrderData OD ON(OD.asset_id = @Asset_Id
                                                    AND OD.is_current_order = 1
                                                    --AND PD.productiondata_id IS NULL
                                                    AND OD.start_time <= BD.started_on_chunck
													AND @current_time <= BD.ended_on_chunck)
                      --SELECT COMMON PARAMETERS OF THE SITE
                      LEFT JOIN dbo.CommonParameters CP ON CP.site_id = @Site
                                                           AND CP.STATUS = 'Active'
                      --GET ALL INFORMATION OF THE CURRENT ASSET
                      LEFT JOIN dbo.Asset AST ON AST.asset_id = @Asset_Id
                      --GET INFORMATION OF THE PRODUCT
                      LEFT JOIN dbo.Product P ON PD.product_code = P.product_code
                      --GET ALL BREAKS/SETUP TIME OF THE CURRENT HOUR
                      OUTER APPLY
                 (
                     SELECT SUM(U.duration_in_minutes) AS summary_breakandlunch_minutes
                     FROM dbo.Unavailable U
                     WHERE U.asset_id = @Asset_Id
                           AND U.STATUS = 'Active'
                           AND BD.started_on_chunck <= CONCAT(FORMAT(BD.started_on_chunck, 'yyyy-MM-dd'), ' ', U.start_time)
                           AND BD.ended_on_chunck >= CONCAT(FORMAT(BD.ended_on_chunck, 'yyyy-MM-dd'), ' ', U.end_time)
                     GROUP BY u.asset_id
                 ) U
                      --GET THE TOTAL PRODUCTION DATA OF THE CURRENT ORDER ACCORDING TO THE PRODUCTION DATA
                      OUTER APPLY
                 (
                     SELECT SUM(CASE
                                    WHEN FORMAT(PD1.start_time, 'yyyy-MM-dd HH') = FORMAT(@current_time, 'yyyy-MM-dd HH')
                                         AND PD1.target > (PD1.actual - PD1.setup_scrap - PD1.other_scrap)
                                    THEN PD1.target
                                    ELSE PD1.actual - PD1.setup_scrap - PD1.other_scrap
                                END) AS summary_actual_quantity
                     FROM dbo.ProductionData PD1
                     WHERE PD1.order_id = OD.order_id
                     GROUP BY PD1.order_id
                 ) PD1
                      --GET THE QUANTITY OF INSERTED COMMENTS FOR THE ROWS AND THE LAST COMMENT
                      OUTER APPLY
                 (
                     SELECT TOP 1 C.commentdata_id, 
                                  C.comment, 
                                  C.first_name, 
                                  C.last_name, 
                                  COUNT(*) OVER(PARTITION BY C.dxhdata_id) AS total_comments
                     FROM dbo.CommentData C
                     WHERE C.dxhdata_id = DH.dxhdata_id
                     ORDER BY last_modified_on DESC
                 ) CD
                      --GET THE DT REASON MINUTES OF EACH ROW
                      OUTER APPLY
                 (
                     SELECT TOP 1 SUM(DT.dtminutes) OVER(PARTITION BY DT.dxhdata_id) AS summary_minutes
                     FROM dbo.DTData DT
                     WHERE DT.dxhdata_id = DH.dxhdata_id
                 ) DTD),
             CTE2
             AS (SELECT CTE.*, 
                        SUM(CASE
                                WHEN ISNULL(CTE.order_id, 0) > 0
                                     AND CTE.Row# = 1
                                THEN CTE.new_target + CTE.summary_actual_quantity
                                ELSE CTE.new_target
                            END) OVER(
                        ORDER BY CTE.started_on_chunck) AS summary_actual_target
                 FROM CTE),
             CTE3
             AS (SELECT CTE2.*,
                        CASE
                            WHEN CTE2.order_quantity - (CTE2.summary_actual_target - CTE2.new_target) < CTE2.new_target
                                 AND CTE2.order_quantity - (CTE2.summary_actual_target - CTE2.new_target) > 0
                            THEN 2
                            WHEN CTE2.order_quantity > CTE2.summary_actual_target
                            THEN 1
                            ELSE 0
                        END AS result_final
                 FROM CTE2)
             --SELECT * FROM CTE3;
             SELECT started_on_chunck, 
                    ended_on_chunck, 
                    hour_interval, 
					shift_code,
                    dxhdata_id, 
                    operator_signoff, 
                    operator_signoff_timestamp, 
                    supervisor_signoff, 
                    supervisor_signoff_timestamp, 
                    start_time, 
                    productiondata_id, 
                    product_name AS product_code, 
                    ideal, 
                    target, 
                    actual, 
                    actual - scrap AS adjusted_actual, 
                    scrap, 
                    summary_scrap, 
                    setup_scrap, 
                    other_scrap,
                    CASE
                        WHEN productiondata_id IS NOT NULL
                        THEN summary_product_code
                        WHEN productiondata_id IS NULL
                             AND order_id IS NOT NULL
                             AND result_final = 2
                        THEN product_code_order
                        WHEN productiondata_id IS NULL
                             AND order_id IS NOT NULL
                             AND result_final = 1
                        THEN product_code_order
                        ELSE summary_product_code
                    END AS summary_product_code,
                    CASE
                        WHEN productiondata_id IS NOT NULL
                        THEN summary_ideal
                        WHEN productiondata_id IS NULL
                             AND order_id IS NOT NULL
                             AND result_final = 2
                        THEN order_quantity - (summary_actual_target - new_target)
                        WHEN productiondata_id IS NULL
                             AND order_id IS NOT NULL
                             AND result_final = 1
                        THEN new_ideal
                        ELSE NULL
                    END AS summary_ideal, 
                    cumulative_ideal,
                    CASE
                        WHEN productiondata_id IS NOT NULL
                        THEN summary_target
                        WHEN productiondata_id IS NULL
                             AND order_id IS NOT NULL
                             AND result_final = 2
                        THEN order_quantity - (summary_actual_target - new_target)
                        WHEN productiondata_id IS NULL
                             AND order_id IS NOT NULL
                             AND result_final = 1
                        THEN new_target
                        ELSE NULL
                    END AS summary_target, 
                    cumulative_target, 
                    summary_actual, 
                    summary_actual - summary_scrap AS summary_adjusted_actual, 
                    cumulative_actual, 
                    (cumulative_actual - cumulative_setup_scrap - cumulative_other_scrap) AS cumulative_adjusted_actual, 
                    summary_setup_scrap, 
                    cumulative_setup_scrap, 
                    summary_other_scrap, 
                    cumulative_other_scrap, 
                    --summary_adjusted_actual, 
                    --cumulative_adjusted_actual, 
                    summary_product_code, 
                    order_id, 
                    order_number, 
                    order_quantity, 
                    routed_cycle_time, 
                    target_percent_of_ideal, 
                    setup_start_time, 
                    setup_end_time, 
                    product_code_order,
                    CASE
                        WHEN summary_setup_minutes < 0
                        THEN 0
                        WHEN summary_setup_minutes > 60
                        THEN 60
                        ELSE summary_setup_minutes
                    END AS summary_setup_minutes, 
                    default_routed_cycle_time, 
                    default_target_percent_of_ideal, 
                    summary_breakandlunch_minutes, 
                    commentdata_id, 
                    comment, 
                    first_name, 
                    last_name, 
                    total_comments, 
                    timelost_summary,
                    --new_ideal,
                    --new_target,
                    summary_actual_quantity
             --Row#,
             --summary_actual_target,
             --result_final
             FROM CTE3
             ORDER BY started_on_chunck ASC, 
                      start_time DESC;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[@Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[@Production_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[@Shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time_offset_days]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time_offset_days]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time_offset_days]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time_offset_days]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[hour_interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[commentdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[ended_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRangesBetweenDates].[started_on_chunck]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[commentdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[commentdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_name]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[started_on_chunck]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[ended_on_chunck]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[hour_interval]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[shift_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[dxhdata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[dxhdata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[operator_signoff]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[operator_signoff]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[operator_signoff_timestamp]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[supervisor_signoff]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[supervisor_signoff]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[supervisor_signoff_timestamp]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[start_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[start_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[productiondata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[productiondata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[product_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Product].[product_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[target]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[target]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[actual]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[actual]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[setup_scrap]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[setup_scrap]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[other_scrap]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[other_scrap]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[cumulative_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[cumulative_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_actual]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[cumulative_actual]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_setup_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[cumulative_setup_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_other_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[cumulative_other_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_product_code]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[order_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[order_number]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_number]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[order_quantity]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_quantity]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[routed_cycle_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[routed_cycle_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[default_target_percent_of_ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[setup_start_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[setup_start_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[setup_end_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[setup_end_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[product_code_order]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[product_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_setup_minutes]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[default_routed_cycle_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[target_percent_of_ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_breakandlunch_minutes]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[commentdata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[commentdata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[comment]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[comment]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[first_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[first_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[last_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[last_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[total_comments]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[timelost_summary]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[new_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[new_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[summary_actual_quantity]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE].[Row#]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[started_on_chunck]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[ended_on_chunck]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[hour_interval]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[shift_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[dxhdata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[dxhdata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[operator_signoff]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[operator_signoff]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[operator_signoff_timestamp]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[supervisor_signoff]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[supervisor_signoff]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[supervisor_signoff_timestamp]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[start_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[start_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[productiondata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[productiondata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[product_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Product].[product_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[target]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[target]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[actual]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[actual]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[setup_scrap]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[setup_scrap]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[other_scrap]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[other_scrap]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[cumulative_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[cumulative_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_actual]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[cumulative_actual]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_setup_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[cumulative_setup_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_other_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[cumulative_other_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_product_code]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[order_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[order_number]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_number]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[order_quantity]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_quantity]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[routed_cycle_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[routed_cycle_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[default_target_percent_of_ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[setup_start_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[setup_start_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[setup_end_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[setup_end_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[product_code_order]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[product_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_setup_minutes]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[default_routed_cycle_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[target_percent_of_ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_breakandlunch_minutes]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[commentdata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[commentdata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[comment]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[comment]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[first_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[first_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[last_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[last_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[total_comments]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[timelost_summary]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[new_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[new_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_actual_quantity]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[Row#]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE2].[summary_actual_target]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[started_on_chunck]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[ended_on_chunck]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[hour_interval]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[shift_code]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[dxhdata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[dxhdata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[operator_signoff]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[operator_signoff]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[operator_signoff_timestamp]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[supervisor_signoff]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[supervisor_signoff]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[supervisor_signoff_timestamp]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[start_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[start_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[productiondata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[productiondata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[product_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Product].[product_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[target]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[target]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[actual]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[actual]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[setup_scrap]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[setup_scrap]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[other_scrap]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[ProductionData].[other_scrap]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[cumulative_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[cumulative_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_actual]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[cumulative_actual]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_setup_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[cumulative_setup_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_other_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[cumulative_other_scrap]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_product_code]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[order_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[order_number]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_number]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[order_quantity]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[order_quantity]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[routed_cycle_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[routed_cycle_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[default_target_percent_of_ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[setup_start_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[setup_start_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[setup_end_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[setup_end_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[product_code_order]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[OrderData].[product_code]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_setup_minutes]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[default_routed_cycle_time]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[target_percent_of_ideal]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_breakandlunch_minutes]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[commentdata_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[commentdata_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[comment]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[comment]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[first_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[first_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[last_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[CommentData].[last_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[total_comments]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[timelost_summary]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[new_ideal]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[new_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_actual_quantity]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[Row#]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[summary_actual_target]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[CTE1].[CTE3].[result_final]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[@Production_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[@Shift_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Shift_Data].[@Site]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2373" />
				<Property Name="Length" Value="19855" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_Shift_Data&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given an asset, a Production_Day, and a shift code, get the data for a full shift and pass it to the dashboard display&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190724&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20190814&#x9;&#x9;C00V01 - Add some IDs to the output&#x9;&#x9;&#xD;&#xA;--&#x9;20190822&#x9;&#x9;C00V02 - Adjusted output of datetimes to site_timezone, reworked left join&#x9;&#x9;&#xD;&#xA;--&#x9;20190823&#x9;&#x9;C00V03 - Added routed cycle time to output&#x9;&#x9;&#xD;&#xA;--&#x9;20190903&#x9;&#x9;C00V04 - extended predictive values to include any hour in the shift without production&#x9;&#x9;&#xD;&#xA;--&#x9;20190905&#x9;&#x9;C00V05 - adjust predictive values to not reduce predictive remaining quantity from hours before Now&#xD;&#xA;--&#x9;20190917&#x9;&#x9;C00V06 - relocated BreakLunch_Details section&#xD;&#xA;--&#x9;20190918&#x9;&#x9;C00V07 - setup time for orders without production now uses started, ended, or spanned current hour&#xD;&#xA;--  20191203&#x9;&#x9;C00V08 - Change Asset_Code for Asset_Id&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V09 - Change CommonParameters to CommonParameters&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V10 - Change Shift_Code to Shift_Id because this information is from the database&#xD;&#xA;--&#x9;20200225&#x9;&#x9;C00V11 - Add order information to all production rows and the actual production quantity&#xD;&#xA;--&#x9;20201028&#x9;&#x9;C00V12 - Change Target_Percent_Of_Ideal order check for first Order table, second Asset table, and finally check Common Parameters table.&#xD;&#xA;--&#x9;20201102&#x9;&#x9;C00V13 - Change Target_Percent_Of_Ideal to use Asset table, and finally check Common Parameters table.&#xD;&#xA;--&#x9;20201103&#x9;&#x9;C00V14 - Update logic to check start and end time for each shift including the shift for the vertical dashboard&#xD;&#xA;--&#x9;20201212&#x9;&#x9;C00V15 - Add new shift logic in the main join sentence&#xD;&#xA;--&#x9;20201221&#x9;&#x9;C00V16 - Add join with Product table to return product name instead of product code&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_Shift_Data_new_1 40,'2020-02-12',2&#xD;&#xA;-- exec spLocal_EY_DxH_Get_Shift_Data 35,'2020-03-03',2,1&#xD;&#xA;--&#xD;&#xA;--52,7586221694946&#xD;&#xA;--23,9655113220215&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_Shift_Data]&#xD;&#xA;--Declare&#xD;&#xA;@Asset_Id        INT, &#xD;&#xA;@Production_date DATETIME, &#xD;&#xA;@Shift_id        INT, &#xD;&#xA;@Site            INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_Shifts]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @CurrentDateTime			DATETIME,
 @CurrentProductionDay		DATETIME,
 @YesterdayProductionDay	DATETIME,
 @TomorrowProductionDay		DATETIME,
 @DateOfShift				DATETIME;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone site_timezone
FROM dbo.CommonParameters where site_id = @Site;
SET @CurrentProductionDay = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');
SET @YesterdayProductionDay = FORMAT(DATEADD(DAY, -1, @CurrentDateTime), 'yyyy-MM-dd');
SET @TomorrowProductionDay = FORMAT(DATEADD(DAY, 1, @CurrentDateTime), 'yyyy-MM-dd');


            SELECT shift_id, 
                   shift_code, 
                   shift_name, 
                   shift_sequence, 
                   DATEPART(hour, start_time) AS hour,
				   [start_time_offset_days],
				   DATEPART(hour, end_time) AS end_hour,
				   [end_time_offset_days],
                   [duration_in_minutes],
                   --GET INTERVAL SHIFT FOR TODAY
				   FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, start_time_offset_days, @CurrentProductionDay)), 'yyyy-MM-dd HH:mm') AS start_date_time_today,
				   FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, end_time_offset_days, @CurrentProductionDay)), 'yyyy-MM-dd HH:mm') AS end_date_time_today,
				   --GET INTERVAL SHIFT FOR YESTERDAY
				   FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, start_time_offset_days, @YesterdayProductionDay)), 'yyyy-MM-dd HH:mm') AS start_date_time_yesterday,
				   FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, end_time_offset_days, @YesterdayProductionDay)), 'yyyy-MM-dd HH:mm') AS end_date_time_yesterday,
				   --GET INTERVAL SHIFT FOR TOMORROW
				   FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, start_time_offset_days, @TomorrowProductionDay)), 'yyyy-MM-dd HH:mm') AS start_date_time_tomorrow,
				   FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, end_time_offset_days, @TomorrowProductionDay)), 'yyyy-MM-dd HH:mm') AS end_date_time_tomorrow
				   FROM [dbo].[Shift]
				   WHERE STATUS = 'Active' AND asset_id = @site ORDER BY shift_sequence;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Shifts].[@Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_sequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time_offset_days]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time_offset_days]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Shifts].[@Site]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="45" />
				<Property Name="Length" Value="2275" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec dbo.spLocal_EY_DxH_Get_Shifts 1&#xD;&#xA;&#xD;&#xA; CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Get_Shifts] (@Site as int)&#xD;&#xA;&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_UOM]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        SELECT UOM_id, 
               UOM_code, 
               UOM_name, 
               UOM_description, 
               site_id
        FROM dbo.UOM o
        ORDER BY o.UOM_code;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[UOM]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="717" />
				<Property Name="Length" Value="1131" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_UOM&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Provide the info for displaying UOM&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190827&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20200217&#x9;&#x9;C00V01 - Remove json result format&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_UOM &#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_UOM]&#xD;&#xA;--Declare&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_UOM_By_Site]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        SELECT U.UOM_id AS UOM_id, 
               U.UOM_code, 
               U.UOM_name, 
               U.UOM_description,
			   A.site_code,
			   U.status,
			   U.entered_by,
			   U.entered_on,
			   U.last_modified_by,
			   U.last_modified_on, 
               U.site_id, 
               U.decimals, 
               NULL
        FROM dbo.UOM U WITH(NOLOCK)
		JOIN dbo.Asset A ON U.site_id = A.asset_id
        WHERE U.status = 'Active'
              AND U.site_id = @Site_Id;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[UOM]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[UOM_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UOM].[decimals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_UOM_By_Site].[@Site_Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_UOM_By_Site].[@Site_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="678" />
				<Property Name="Length" Value="1426" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_UOM&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Provide the info for displaying UOM&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200217&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Get_UOM_By_Site 1 &#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Get_UOM_By_Site]&#xD;&#xA;--Declare&#xD;&#xA;&#xD;&#xA;@Site_Id INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @site				INT,
 @name				VARCHAR(100),
 @timezone			VARCHAR(100),
 @timezone2			VARCHAR(100),
 @Shift_Name		VARCHAR(100),
 @Shift_Id			INT,
 @language			VARCHAR(100),
 @timeout			FLOAT,
 @summary_timeout	INT,
 @CurrentDateTime	DATETIME,
 @StartDayCurrent	DATETIME,
 @DateOfShift		DATETIME;

IF EXISTS (SELECT site FROM dbo.TFDUsers WHERE 
badge = @badge and Site = (SELECT asset_id FROM [dbo].[Asset] WHERE asset_level = 'Site' and site_code = (SELECT site_code FROM dbo.Asset where asset_code = @asset_code)))
BEGIN
SELECT @site = asset_id, @name = site_code
FROM [dbo].[Asset] WHERE asset_level = 'Site' and site_code = (SELECT site_code FROM dbo.Asset where asset_code = @asset_code);
END

SELECT 
@timezone = ui_timezone,
@timezone2 = site_timezone,
@language = language,
@timeout = inactive_timeout_minutes,
@summary_timeout = summary_timeout
FROM dbo.CommonParameters where site_id = @site;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone @timezone2;
SET @StartDayCurrent = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');

WITH CTE AS
(SELECT shift_id, shift_name, is_first_shift_of_day,
--GET INTERVAL SHIFT FOR TODAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_today,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_today,
--GET INTERVAL SHIFT FOR YESTERDAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_yesterday,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_yesterday,
--GET INTERVAL SHIFT FOR TOMORROW
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_tomorrow,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_tomorrow
FROM dbo.Shift WHERE asset_id = @Site AND STATUS = 'Active')
SELECT 
@Shift_Id = [shift_id],
@Shift_Name = [shift_name],
@DateOfShift = CASE
WHEN @CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday THEN  DATEADD(DAY, -1, @StartDayCurrent)
WHEN @CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow THEN DATEADD(DAY, 1, @StartDayCurrent)
ELSE @StartDayCurrent
END
FROM CTE WHERE 
@CurrentDateTime BETWEEN start_date_time_today AND end_date_time_today OR 
@CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday OR
@CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow;

SELECT ID as id, badge, username, first_name, last_name, role, site, @name as site_name,
 @timezone as timezone, @Shift_Id as shift_id, @Shift_Name as shift_name, FORMAT(@DateOfShift,'yyyy-MM-dd HH:mm') AS date_of_shift, 
 FORMAT(@CurrentDateTime,'yyyy-MM-dd HH:mm') AS current_date_time, @language as language, @timeout as inactive_timeout_minutes, @summary_timeout as summary_timeout
 FROM dbo.TFDUsers where badge = @badge AND Site = @site;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[@badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[@asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[summary_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[shift_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[is_first_shift_of_day]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[CTE1].[CTE].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[@badge]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset].[@asset_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="86" />
				<Property Name="Length" Value="4718" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec [dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset] '2291', '168H-0006'&#xD;&#xA;&#xD;&#xA; CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Asset] (@badge as VARCHAR(100), @asset_code as VARCHAR(100))&#xD;&#xA;&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Machine]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
DECLARE
	@site				INT,
	@name				VARCHAR(100),
	@timezone			VARCHAR(100),
	@CurrentDateTime	DATETIME,
	@DateOfShift		DATETIME,
	@Shift_Name			VARCHAR(100),
	@Shift_Id			INT,
	@language			VARCHAR(100),
	@summary_timeout	FLOAT,
	@inactive_timeout_minutes FLOAT,
	@socket_timeout		FLOAT,
	@max_regression		FLOAT,
	@token_expiration	FLOAT,
	@vertical_shift_id	INT;

IF @machine = '0'
BEGIN
	SELECT TOP 1 
		@site = site 
	FROM dbo.TFDUsers 
	WHERE badge = @badge
	
	SELECT TOP 1 
		@name = asset_code 
	FROM dbo.Asset where asset_id = @site
END
ELSE
BEGIN
	SELECT @site = asset_id, 
		@name = site_code
	FROM DBO.Asset 
	WHERE asset_code IN 
		(SELECT site_code FROM DBO.Asset WHERE asset_id IN 
		(SELECT asset_id FROM DBO.AssetDisplaySystem WHERE displaysystem_name like CONCAT(@machine,'%')));
END

SELECT 
	@timezone = ui_timezone,
	@language = language
FROM dbo.CommonParameters WHERE site_id = @site;

-- New Logic to get production day and shift code
	SELECT
		@DateOfShift = ProductionDay,
		@Shift_Id = ShiftId,
		@Shift_Name = ShiftName,
		@CurrentDateTime = CurrentDateTime
	FROM [dbo].[GetShiftProductionDayFromSiteAndDate](@site, NULL);

SELECT
@summary_timeout = summary_timeout,
@inactive_timeout_minutes = inactive_timeout_minutes,
@socket_timeout = socket_timeout,
@max_regression = max_regression,
@token_expiration = token_expiration
FROM dbo.GlobalParameters;

SELECT
@vertical_shift_id = shift_id
FROM dbo.Shift WHERE asset_id = @site
AND status = 'Inactive' AND shift_name = 'Vertical';


SELECT ID as id, badge, username, first_name, last_name, role, site, @name as site_name, @timezone as timezone, @Shift_Id as shift_id, @Shift_Name as shift_name, 
FORMAT(@DateOfShift,'yyyy-MM-dd HH:mm') AS date_of_shift, FORMAT(@CurrentDateTime,'yyyy-MM-dd HH:mm') AS current_date_time, @language as language, @summary_timeout as summary_timeout,
@inactive_timeout_minutes as inactive_timeout_minutes, @socket_timeout as socket_timeout, @max_regression as max_regression, @token_expiration as token_expiration,
@vertical_shift_id as vertical_shift_id
FROM dbo.TFDUsers where badge = @badge AND Site = @site


END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Machine].[@machine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Machine].[@badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ProductionDay]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ShiftId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[ShiftName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiftProductionDayFromSiteAndDate].[CurrentDateTime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[summary_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[socket_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[max_regression]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[token_expiration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Machine].[@badge]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Machine].[@machine]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1378" />
				<Property Name="Length" Value="3708" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Get_User_By_Clocknumber_Machine&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given an asset and a timestamp, return the existing dxhdata_id, production_day, hour_interval, and shift_code &#xD;&#xA;--&#x9;or create a new one and return that same info.&#xD;&#xA;--&#xD;&#xA;--&#x9;This code could be used as part of the start of the new hour process but ... it would need to have an open order &#xD;&#xA;--&#x9;to allow creating a row. So... using RequireAnOrderToCreate&#xD;&#xA;--&#x9;&#x9;&#x9;Send 1 if this is called as as part of the start of the new hour process&#xD;&#xA;--&#x9;&#x9;&#x9;Send 0 if you have some data like productiondata, comment, or possibly timelost&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;--- None&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;Possibly DxHData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190807&#x9;&#x9;C00V00 - Intial code create&#xD;&#xA;--&#x9;20210106&#x9;&#x9;C00V01 - Add new logic to get the production day and the shift code using GetShiftProductionDayFromSiteAndDate Function&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;--  EXEC [dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Machine] '2291', '0'&#xD;&#xA;--&#xD;&#xA;&#xD;&#xA;CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Get_User_By_Clocknumber_Machine] (@badge as VARCHAR(100), @machine as VARCHAR(100))&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @site				INT,
 @name				VARCHAR(100),
 @timezone			VARCHAR(100),
 @timezone2			VARCHAR(100),
 @Shift_Name		VARCHAR(100),
 @Shift_Id			INT,
 @language			VARCHAR(100),
 @timeout			FLOAT,
 @summary_timeout	INT,
 @CurrentDateTime	DATETIME,
 @StartDayCurrent	DATETIME,
 @DateOfShift		DATETIME;

IF EXISTS (SELECT site FROM dbo.TFDUsers WHERE ID = @id)
BEGIN
SELECT @site = asset_id, @name = site_code
FROM [dbo].[Asset] WHERE asset_id = (SELECT site FROM dbo.TFDUsers where ID = @id);
END

SELECT 
@timezone = ui_timezone,
@timezone2 = site_timezone,
@language = language,
@timeout = inactive_timeout_minutes,
@summary_timeout = summary_timeout
FROM dbo.CommonParameters where site_id = @site;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone @timezone2;
SET @StartDayCurrent = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');

WITH CTE AS
(SELECT shift_id, shift_name, is_first_shift_of_day,
--GET INTERVAL SHIFT FOR TODAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_today,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_today,
--GET INTERVAL SHIFT FOR YESTERDAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_yesterday,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_yesterday,
--GET INTERVAL SHIFT FOR TOMORROW
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_tomorrow,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_tomorrow
FROM dbo.Shift WHERE asset_id = @Site AND STATUS = 'Active')
SELECT 
@Shift_Id = [shift_id],
@Shift_Name = [shift_name],
@DateOfShift = CASE
WHEN @CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday THEN  DATEADD(DAY, -1, @StartDayCurrent)
WHEN @CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow THEN DATEADD(DAY, 1, @StartDayCurrent)
ELSE @StartDayCurrent
END
FROM CTE WHERE 
@CurrentDateTime BETWEEN start_date_time_today AND end_date_time_today OR 
@CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday OR
@CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow;

SELECT ID as id, badge, username, first_name, last_name, role, site, @name as site_name, 
@timezone as timezone, @Shift_Id as shift_id, @Shift_Name as shift_name, FORMAT(@DateOfShift,'yyyy-MM-dd HH:mm') AS date_of_shift, 
FORMAT(@CurrentDateTime,'yyyy-MM-dd HH:mm') AS current_date_time, @language as language, @timeout as inactive_timeout_minutes, @summary_timeout as summary_timeout
FROM dbo.TFDUsers where id = @id AND Site = @site;

END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[summary_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[shift_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[is_first_shift_of_day]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[CTE1].[CTE].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Id].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="52" />
				<Property Name="Length" Value="4412" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec [dbo].[spLocal_EY_DxH_Get_User_By_Id] 1&#xD;&#xA;&#xD;&#xA;CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Get_User_By_Id] (@id as INT)&#xD;&#xA;&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @site				INT,
 @name				VARCHAR(100),
 @timezone			VARCHAR(100),
 @timezone2			VARCHAR(100),
 @Shift_Name		VARCHAR(100),
 @Shift_Id			INT,
 @language			VARCHAR(100),
 @summary_timeout	FLOAT,
 @inactive_timeout_minutes FLOAT,
 @socket_timeout		FLOAT,
 @max_regression		FLOAT,
 @token_expiration	FLOAT,
 @CurrentDateTime	DATETIME,
 @StartDayCurrent	DATETIME,
 @DateOfShift		DATETIME;

IF @machine = '0'
BEGIN

SELECT TOP 1 
@site = site 
FROM dbo.TFDUsers 
WHERE username = @username;

SELECT TOP 1 @name = asset_code 
FROM dbo.Asset 
WHERE asset_id = @site;
END
ELSE
BEGIN
SELECT @site = asset_id, 
@name = site_code
FROM DBO.Asset 
WHERE asset_code IN 
(SELECT site_code FROM DBO.Asset WHERE asset_id IN 
(SELECT asset_id FROM DBO.AssetDisplaySystem WHERE displaysystem_name like CONCAT(@machine,'%')));
END

SELECT 
@timezone = ui_timezone,
@timezone2 = site_timezone,
@language = language
FROM dbo.CommonParameters where site_id = @site;

SELECT @CurrentDateTime = SYSDATETIME() at time zone 'UTC' at time zone @timezone2;
SET @StartDayCurrent = FORMAT(@CurrentDateTime, 'yyyy-MM-dd');

SELECT
@summary_timeout = summary_timeout,
@inactive_timeout_minutes = inactive_timeout_minutes,
@socket_timeout = socket_timeout,
@max_regression = max_regression,
@token_expiration = token_expiration
FROM dbo.GlobalParameters;

WITH CTE AS
(SELECT shift_id, shift_name, is_first_shift_of_day,
--GET INTERVAL SHIFT FOR TODAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_today,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), @StartDayCurrent), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_today,
--GET INTERVAL SHIFT FOR YESTERDAY
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_yesterday,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, -1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, -1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_yesterday,
--GET INTERVAL SHIFT FOR TOMORROW
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 1
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, -1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, start_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS start_date_time_tomorrow,
CASE
	WHEN end_time < start_time AND is_first_shift_of_day = 0
	THEN CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, DATEADD(DAY, 1, @StartDayCurrent))), 'yyyy-MM-dd HH'), ':00')
	ELSE CONCAT(FORMAT(DATEADD(HOUR, DATEPART(HOUR, end_time), DATEADD(DAY, 1, @StartDayCurrent)), 'yyyy-MM-dd HH'), ':00')
END AS end_date_time_tomorrow
FROM dbo.Shift WHERE asset_id = @Site AND STATUS = 'Active')
SELECT 
@Shift_Id = [shift_id],
@Shift_Name = [shift_name],
@DateOfShift = CASE
WHEN @CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday THEN  DATEADD(DAY, -1, @StartDayCurrent)
WHEN @CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow THEN DATEADD(DAY, 1, @StartDayCurrent)
ELSE @StartDayCurrent
END
FROM CTE WHERE 
@CurrentDateTime BETWEEN start_date_time_today AND end_date_time_today OR 
@CurrentDateTime BETWEEN start_date_time_yesterday AND end_date_time_yesterday OR
@CurrentDateTime BETWEEN start_date_time_tomorrow AND end_date_time_tomorrow;

SELECT ID as id, badge, username, first_name, last_name, role, site, @name as site_name,
 @timezone as timezone, @Shift_Id as shift_id, @Shift_Name as shift_name, FORMAT(@DateOfShift,'yyyy-MM-dd HH:mm') AS date_of_shift, 
FORMAT(@CurrentDateTime,'yyyy-MM-dd HH:mm') AS current_date_time, @language as language, @summary_timeout as summary_timeout,
@inactive_timeout_minutes as inactive_timeout_minutes, @socket_timeout as socket_timeout, @max_regression as max_regression, @token_expiration as token_expiration 
FROM dbo.TFDUsers where username = @username AND Site = @site;


END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[@machine]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[@username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[ui_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[language]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[summary_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[inactive_timeout_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[socket_timeout]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[max_regression]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GlobalParameters].[token_expiration]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[shift_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Shift].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[shift_id]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_id]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[shift_name]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[shift_name]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[is_first_shift_of_day]">
									<Relationship Name="ExpressionDependencies">
										<Entry>
											<References Name="[dbo].[Shift].[is_first_shift_of_day]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[start_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[end_date_time_today]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[start_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[end_date_time_yesterday]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[start_date_time_tomorrow]" />
							</Entry>
							<Entry>
								<Element Type="SqlComputedColumn" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[CTE1].[CTE].[end_date_time_tomorrow]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[@username]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine].[@machine]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="76" />
				<Property Name="Length" Value="5139" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec [dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine] 'Ryan', '0'&#xD;&#xA;&#xD;&#xA;CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Get_User_By_Username_Machine] (@username as VARCHAR(100), @machine as VARCHAR(100))&#xD;&#xA;&#xD;&#xA;  AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_Users_By_Badge]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 

SELECT 
--Asset columns
[asset_id], [asset_code], [asset_name], [asset_description], [asset_level], [site_code], [parent_asset_code], [value_stream], [automation_level], 
[include_in_escalation], [grouping1], [grouping2], [grouping3], [grouping4], [grouping5], [status], [entered_by], [entered_on], [last_modified_by], 
[last_modified_on],
--User columns
[Badge], [Username], [First_Name], [Last_Name], [Role], [Site], [ID] as id
FROM [dbo].[Asset] JOIN [dbo].[TFDUsers] ON [Asset].[asset_id] = [TFDUsers].[Site] WHERE [TFDUsers].[Badge] = @badge


END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[automation_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[include_in_escalation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Role]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Site]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Users_By_Badge].[@badge]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Users_By_Badge].[@badge]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="5" />
				<Property Name="Length" Value="672" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA; CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Get_Users_By_Badge] (@badge as NVARCHAR(100))&#xD;&#xA;&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Get_Workcell]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
DECLARE
    @workcell_id int,
    @workcell_name VARCHAR(100),
    @workcell_description VARCHAR(100),
	@site VARCHAR(100)

SELECT @site = site_code
FROM dbo.Asset
WHERE asset_id = @site_id

SELECT @workcell_id = A.grouping1 
FROM dbo.Asset A 
INNER JOIN dbo.AssetDisplaySystem AD 
ON AD.asset_id = A.asset_id 
WHERE AD.displaysystem_name = @station

SELECT @workcell_name = workcell_name,
@workcell_description = workcell_description 
FROM dbo.Workcell 
WHERE workcell_id = @workcell_id

IF EXISTS (SELECT asset_code, asset_name, asset_id, @station as displaysystem_name, 
		   @workcell_name as workcell_name, @workcell_description as workcell_description
           FROM dbo.Asset
           WHERE grouping1 = @workcell_id)
BEGIN
SELECT asset_code, asset_name, asset_id, @station as displaysystem_name, @workcell_name as workcell_name, @workcell_description as workcell_description
FROM dbo.Asset
WHERE grouping1 = @workcell_id
AND asset_level = 'Cell'
AND status = 'Active'
ORDER BY asset_name
END

ELSE
BEGIN

SELECT asset_code, asset_name, asset_id, 'No Station' as displaysystem_name, 'No Workcell' as workcell_name, 'No Workcell' as workcell_description
FROM dbo.Asset
WHERE site_code = @site
AND asset_level = 'Cell'
AND status = 'Active'
ORDER BY asset_name
END
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Workcell].[@site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_Workcell].[@station]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Workcell]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Workcell].[workcell_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Workcell].[workcell_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Workcell].[workcell_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Workcell].[@station]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Get_Workcell].[@site_id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="65" />
				<Property Name="Length" Value="1499" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--exec [dbo].[spLocal_EY_DxH_Get_Workcell] 'CR2080435W1', 1&#xD;&#xA;&#xD;&#xA;CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Get_Workcell] (@station as VARCHAR(100),&#xD;&#xA;@site_id as INT)&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE 
		@Initials			VARCHAR(50),
		@ProductionData_Id	INT,
		@Existing_Actual FLOAT,
		@Existing_Setup_Scrap FLOAT,
		@Existing_Other_Scrap FLOAT,
		@ReturnStatus INT,
		@ReturnMessage VARCHAR(1000),
		@OrderNumber VARCHAR(100),
		@Product_Code VARCHAR(100),
		@UOM_Code VARCHAR(100),
		@Routed_Cycle_Time FLOAT,
		@Target_Percent_Of_Ideal FLOAT,
		@Order_Quantity FLOAT,
		@Produced_Quantity FLOAT,
		@Remaining_Quantity FLOAT,
		@Remaining_BreakMinutes FLOAT,
		@Remaining_Minutes FLOAT,
		@TotalRemaining_Minutes FLOAT,
		@Ideal FLOAT,
		@Target FLOAT,
		@Order_Start_Time DATETIME,
		@Previous_Production_Id INT,
		@Minutes_Less INT;

        IF NOT EXISTS
        (
            SELECT dxhdata_id
            FROM dbo.DxHData WITH(NOLOCK)
            WHERE dxhdata_id = ISNULL(@DxHData_Id, -1)
        )
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DxHData_Id ' + CONVERT(VARCHAR, ISNULL(@DxHData_Id, ''));
                GOTO ErrExit;
        END;
        SET @Initials = 'spLocal_EY_DxH_Insert_ProductionData';

        -- Find the Order for this asset at this time 
        SELECT @OrderNumber = o.order_number, 
               @Product_Code = o.product_code, 
               @UOM_Code = o.UOM_code, 
               @Order_Quantity = o.order_quantity, 
               @Routed_Cycle_Time = o.routed_cycle_time, 
               @Order_Start_Time = o.start_time
        FROM dbo.OrderData o
        WHERE order_id = @Order_Id;
        SELECT @Target_Percent_Of_Ideal = target_percent_of_ideal
        FROM dbo.Asset
        WHERE asset_id = @Asset_Id;

        --Compute Ideal and target	
        -- 
        IF ISNULL(@Routed_Cycle_Time, -1) < 0
            BEGIN
                SELECT @Routed_Cycle_Time = CONVERT(FLOAT, default_routed_cycle_time)
                FROM dbo.CommonParameters cpt WITH(NOLOCK)
                WHERE site_id = @Site_Id
                      AND STATUS = 'Active';
        END;
        IF ISNULL(@Target_Percent_Of_Ideal, -1) <= 0
            BEGIN
                SELECT @Target_Percent_Of_Ideal = CONVERT(FLOAT, default_target_percent_of_ideal)
                FROM dbo.CommonParameters cpt WITH(NOLOCK)
                WHERE site_id = @Site_Id
                      AND STATUS = 'Active';
        END;

        -- Remaining Quantity is Order Quantity - Produced
        -- Look back to the beginning of time to cover the longest time an order can run

        SELECT @Produced_Quantity = SUM(actual - setup_scrap - other_scrap)
        FROM dbo.ProductionData pd WITH(NOLOCK)
        WHERE pd.order_id = @Order_Id
        GROUP BY pd.order_id;
        SELECT @Remaining_Quantity = ISNULL(@Order_Quantity, 0) - ISNULL(@Produced_Quantity, 0);

        --Remaining Quantity adjusted to not run out until a new Order is scanned
        --Select @Remaining_Quantity = 9999

        IF ISNULL(@Remaining_Quantity, 0) < 0
            BEGIN
                SET @Remaining_Quantity = 0;
        END;

        --Remaining time (minus breaks) is 

        SELECT @Remaining_BreakMinutes = SUM(u.duration_in_minutes)
        FROM dbo.Unavailable u
        WHERE u.asset_id = @Asset_Id
              AND u.STATUS = 'Active'
              AND CONCAT(FORMAT(@Timestamp_To_Create, 'yyyy-MM-dd HH'), ':00:00') <= CONCAT(FORMAT(@Timestamp_To_Create, 'yyyy-MM-dd'), ' ', u.start_time)
              AND DATEADD(HOUR, 1, CONVERT(DATETIME, CONCAT(FORMAT(@Timestamp_To_Create, 'yyyy-MM-dd HH'), ':00:00'))) >= CONCAT(FORMAT(@Timestamp_To_Create, 'yyyy-MM-dd'), ' ', u.end_time)
        GROUP BY asset_id;

        --TAKE ALL BREAK

        SET @Remaining_BreakMinutes = ISNULL(@Remaining_BreakMinutes, 0);
        IF ISNULL(@Remaining_BreakMinutes, -1) > 60
            BEGIN
                SET @Remaining_BreakMinutes = 60;
        END;
        IF ISNULL(@Remaining_BreakMinutes, -1) < 0
            BEGIN
                SET @Remaining_BreakMinutes = 0;
        END;

        --Calculate remaining minutes using in the target formula (use remaining break minutes)

        SET @Remaining_Minutes = (60 - @Remaining_BreakMinutes);
        IF ISNULL(@Remaining_Minutes, -1) < 0
            BEGIN
                SET @Remaining_Minutes = 0;
        END;

        --Calculate total remaining minutes using in the ideal formula (not use remaining break minutes)

        SET @TotalRemaining_Minutes = 60;

        --Ideal
        --If (Remaining Seconds in an hour / Routed Cycle Time) > Remaining Quantity
        --then Ideal = Remaining Quantity 
        --Else Remaining Seconds in an hour / Routed Cycle Time

        IF(CONVERT(INT, (@TotalRemaining_Minutes * 60.0) / @Routed_Cycle_Time)) > @Remaining_Quantity
            BEGIN
                SET @Ideal = @Remaining_Quantity;
        END;
            ELSE
            BEGIN
                SET @Ideal = (@TotalRemaining_Minutes * 60.0) / @Routed_Cycle_Time;
        END;

        --Target
        IF(CONVERT(INT, ((@Remaining_Minutes * 60.0) / @Routed_Cycle_Time) * @Target_Percent_Of_Ideal)) > @Remaining_Quantity
            BEGIN
                SET @Target = @Remaining_Quantity;
        END;
            ELSE
            BEGIN
                SET @Target = ((@Remaining_Minutes * 60.0) / @Routed_Cycle_Time) * @Target_Percent_Of_Ideal;
        END;

        --Insert the new record into ProductionData

        INSERT INTO [dbo].[ProductionData]
        ([dxhdata_id], 
         [product_code], 
         [ideal], 
         [target], 
         [actual], 
         [UOM_code], 
         [order_id], 
         [order_number], 
         [start_time], 
         [end_time], 
         [entered_by], 
         [entered_on], 
         [last_modified_by], 
         [last_modified_on], 
         [setup_scrap], 
         [other_scrap], 
         [name]
        )
        VALUES
        (@DxHData_Id, 
         @Product_Code, 
         @Ideal, 
         @Target, 
         0, 
         @UOM_Code, 
         @Order_Id, 
         @OrderNumber, 
         @Timestamp_To_Create, 
         NULL, 
         @Initials, 
         GETDATE(), 
         @Initials, 
         GETDATE(), 
         0, 
         0, 
         @Initials
        );
        SET @ProductionData_Id = SCOPE_IDENTITY();
        SELECT @ReturnStatus = 0, 
               @ReturnMessage = 'Inserted ' + CONVERT(VARCHAR, @ProductionData_Id);
        ErrExit:
        IF @ReturnStatus IS NULL
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Unknown Error';
        END;
        SELECT @ReturnStatus AS ReturnStatus, 
               @ReturnMessage AS ReturnMessage;
        RETURN;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@Order_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@Site_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@Timestamp_To_Create]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[start_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@Order_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@Site_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Insert_ProductionData].[@Timestamp_To_Create]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1079" />
				<Property Name="Length" Value="8309" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Insert_ProductionData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given a dxhdata_id and needed production info, store the production data&#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#xD;&#xA;--&#x9;The first production insert in an hour for each order is where the ideal and target &#xD;&#xA;--&#x9;are calculated. Any data sent for the same order in that hour will just increment the actual.&#xD;&#xA;--&#x9;&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;ProductionData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200406&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Insert_ProductionData 261042, 35, 0, 0, 0, '123456789123', Null, Null, '2019/11/26 12:18', 0&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Insert_ProductionData]&#xD;&#xA;--Declare&#xD;&#xA;@DxHData_Id          INT, -- the hour Id&#xD;&#xA;@Order_Id            INT, &#xD;&#xA;@Site_Id             INT, &#xD;&#xA;@Asset_Id            INT, &#xD;&#xA;@Timestamp_To_Create DATETIME&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_Asset]">
			<Property Name="BodyScript">
				<Value><![CDATA[  BEGIN 
 DECLARE
 @include_in_escalation as bit

 IF @asset_description = 'NULL'
 BEGIN
 SET @asset_description = NULL
 END

 IF @value_stream = 'NULL'
 BEGIN
 SET @value_stream = NULL
 END

 IF @automation_level = 'NULL'
 BEGIN
 SET @automation_level = NULL
 END

 IF @include = 'NULL'
 BEGIN
 SET @include = NULL
 END

 IF @include = '0'
 BEGIN
 SET @include_in_escalation = 0
 END

 IF @include = '1'
 BEGIN
 SET @include_in_escalation = 1
 END
 
 IF @grouping1 = 'NULL'
 BEGIN
 SET @grouping1 = NULL
 END

 IF @grouping2 = 'NULL'
 BEGIN
 SET @grouping2 = NULL
 END

 IF @grouping3 = 'NULL'
 BEGIN
 SET @grouping3 = NULL
 END

 IF @grouping4 = 'NULL'
 BEGIN
 SET @grouping4 = NULL
 END

 IF @grouping5 = 'NULL'
 BEGIN
 SET @grouping5 = NULL
 END

IF EXISTS (SELECT asset_code FROM dbo.Asset
WHERE
asset_code = @asset_code)
BEGIN
UPDATE [dbo].[Asset]
   SET [asset_name] = @asset_name
      ,[asset_description] = @asset_description
      ,[asset_level] = @asset_level
      ,[site_code] = @site_code
      ,[parent_asset_code] = @parent_asset_code
      ,[value_stream] = @value_stream
      ,[automation_level] = @automation_level
      ,[include_in_escalation] = @include_in_escalation
	  ,[grouping1] = @grouping1
      ,[grouping2] = @grouping2
      ,[grouping3] = @grouping3
      ,[grouping4] = @grouping4
      ,[grouping5] = @grouping5
      ,[status] = @status
      ,[entered_by] = 'SQL manual entry'
      ,[entered_on] = @entered_on
      ,[last_modified_by] = 'SQL manual entry'
      ,[last_modified_on] = getDate()
 WHERE asset_code = @asset_code
END

IF NOT EXISTS (SELECT asset_code FROM dbo.Asset
WHERE
asset_code = @asset_code)
BEGIN
INSERT INTO [dbo].[Asset]
           ([asset_code]
           ,[asset_name]
           ,[asset_description]
           ,[asset_level]
           ,[site_code]
           ,[parent_asset_code]
           ,[value_stream]
           ,[automation_level]
           ,[include_in_escalation]
           ,[grouping1]
           ,[grouping2]
           ,[grouping3]
           ,[grouping4]
           ,[grouping5]
           ,[status]
           ,[entered_by]
           ,[entered_on]
           ,[last_modified_by]
           ,[last_modified_on])
     VALUES
           (@asset_code
           ,@asset_name
           ,@asset_description
           ,@asset_level
           ,@site_code
           ,@parent_asset_code
           ,@value_stream
           ,@automation_level
           ,@include_in_escalation
           ,@grouping1
           ,@grouping2
           ,@grouping3
           ,@grouping4
           ,@grouping5
           ,@status
           ,'SQL manual entry'
           , getDate()
           , 'SQL manual entry'
           , getDate())
END
END


/****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem]    Script Date: 4/12/2019 15:21:36 ******/
SET ANSI_NULLS ON]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@asset_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@automation_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@include]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@asset_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@parent_asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[automation_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[include_in_escalation]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@asset_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@asset_name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@asset_description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@asset_level]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@site_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@parent_asset_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@value_stream]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@automation_level]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@include]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping3]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping4]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@grouping5]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@entered_by]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@entered_on]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@last_modified_by]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Asset].[@last_modified_on]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="6" />
				<Property Name="Length" Value="3703" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Put_Asset] (@asset_code as Varchar(100),&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;@asset_name&#x9;&#x9;&#x9;&#x9;as Varchar(200),&#x9;&#xD;&#xA;&#x9;@asset_description&#x9;&#x9;as Varchar(256),&#x9;&#xD;&#xA;&#x9;@asset_level&#x9;&#x9;&#x9;as Varchar(100),&#x9;&#xD;&#xA;&#x9;@site_code&#x9;&#x9;&#x9;&#x9;as Varchar(100),&#x9;&#xD;&#xA;&#x9;@parent_asset_code&#x9;&#x9;as Varchar(100),&#x9;&#x9;&#xD;&#xA;&#x9;@value_stream&#x9;&#x9;&#x9;as Varchar(100),&#xD;&#xA;&#x9;@automation_level&#x9;&#x9;as Varchar(100),&#xD;&#xA;&#x9;@include&#x9;&#x9;&#x9;&#x9;as Varchar(100),&#xD;&#xA;&#x9;@grouping1&#x9;&#x9;&#x9;&#x9;as Varchar(256),&#xD;&#xA;&#x9;@grouping2&#x9;&#x9;&#x9;&#x9;as Varchar(256),&#xD;&#xA;&#x9;@grouping3    &#x9;&#x9;&#x9;as Varchar(256),&#xD;&#xA;&#x9;@grouping4&#x9;&#x9;&#x9;&#x9;as Varchar(256),&#xD;&#xA;&#x9;@grouping5&#x9;&#x9;&#x9;&#x9;as Varchar(256),&#xD;&#xA;&#x9;@status&#x9;&#x9;&#x9;&#x9;&#x9;as Varchar(50),&#xD;&#xA;&#x9;@entered_by&#x9;&#x9;&#x9;&#x9;as Varchar(100),&#xD;&#xA;&#x9;@entered_on&#x9;&#x9;&#x9;&#x9;as Datetime,&#xD;&#xA;&#x9;@last_modified_by&#x9;&#x9;as Varchar(100),&#xD;&#xA;&#x9;@last_modified_on&#x9;&#x9;as Datetime)&#xD;&#xA;&#xD;&#xA; AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

Declare @Output table
	(
	Id						Int Identity,
	displaysystem_name		Varchar(200),
	status					Varchar(50),
	entered_by				Varchar(100),
	entered_on				Datetime,
	last_modified_by		Varchar(100),
	last_modified_on		Datetime,
	asset_id				INT,
	message					Varchar(100)
	)

Declare
	@AssetDisplaySystem_Id			Int,
	@ExistingAssetId				INT,
	@ExistingAssetDisplaySystemId	Int,
	@ReturnStatus					Int,
	@ReturnMessage					Varchar(100),
	@json_out						nVarchar(max)

If not exists 
	(
	Select asset_id 
	From dbo.Asset with (nolock) 
	Where asset_id = IsNull(@Asset_Id,'')
		And status = 'Active'
	)
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Asset Code ' + convert(varchar,IsNull(@Asset_Id,''))
	Goto ErrExit

End


If IsNull(@DisplaySystem_Name,'') = ''
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid DisplaySystem_Name ' + convert(varchar,IsNull(@DisplaySystem_Name,''))
	Goto ErrExit

End

Insert @Output
	Select
		@DisplaySystem_Name,
		'Active',
		'Unknown',
		getutcdate(),
		'Unknown',
		getutcdate(),
		@Asset_Id,
		Null

If not exists
	(
	Select assetdisplaysystem_id 
	From dbo.AssetDisplaySystem with (nolock) 
	Where displaysystem_name = IsNull(@DisplaySystem_Name,'')
		And status = 'Active'
	)
Begin
	Insert dbo.AssetDisplaySystem
		Select
			displaysystem_name,
			status,
			entered_by,
			entered_on,
			last_modified_by,
			last_modified_on,
			asset_id
		From @Output

		Set @assetdisplaysystem_Id =  SCOPE_IDENTITY()

		Select 
			@ReturnStatus = 0,
			@ReturnMessage = 'Inserted ' + convert(varchar,@AssetDisplaySystem_Id)

End
Else -- means displaysystem_name exists
Begin

	Select 
		@ExistingAssetDisplaySystemId = assetdisplaysystem_id,
		@ExistingAssetId = asset_id
	From dbo.AssetDisplaySystem with (nolock)
	Where displaysystem_name = @DisplaySystem_Name
		And status = 'Active'

	If IsNull(@ExistingAssetId,'') <> IsNull(@Asset_Id,'') And IsNull(@ExistingAssetDisplaySystemId,0) > 0
	Begin
		Update dbo.AssetDisplaySystem
		Set asset_id = @Asset_Id,
			last_modified_by = 'Unknown',
			last_modified_on = getutcdate()
		Where displaysystem_name = @DisplaySystem_Name
			And status = 'Active'
			And assetdisplaysystem_id = IsNull(@ExistingAssetDisplaySystemId,0)

		Select 
			@ReturnStatus = 0,
			@ReturnMessage = 'Updated ' + convert(varchar,@ExistingAssetDisplaySystemId)
	End
	Else
	Begin
		Set @ReturnStatus = -1
		Set @ReturnMessage = 'No change, already exists'
		Goto ErrExit	

	End
End

ErrExit:

	If @ReturnStatus is Null
	Begin
		Select 
			@ReturnStatus = -1,
			@ReturnMessage = 'Unknown Error'
	End 

	Select 
		@ReturnStatus as 'Return.Status',
		@ReturnMessage as 'Return.Message'
	For Json path, INCLUDE_NULL_VALUES 

--Select * From @Output

Return

END



/****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Put_CommentData]    Script Date: 4/12/2019 15:22:29 ******/
SET ANSI_NULLS ON]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Asset_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@DisplaySystem_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[assetdisplaysystem_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[asset_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[assetdisplaysystem_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[displaysystem_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem].[last_modified_on]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[displaysystem_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="200" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[status]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="50" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[entered_by]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[entered_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[last_modified_by]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[last_modified_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[asset_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Output].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@Asset_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem].[@DisplaySystem_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="997" />
				<Property Name="Length" Value="4377" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Put_AssetDisplaySystem&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given an asset_code and a display system name, store the info in AssetDisplayName&#xD;&#xA;--&#xD;&#xA;--&#x9;&#x9;If displaysystem_name does not exist, the asset code and displaysystem_name are inserted&#xD;&#xA;--&#x9;&#x9;If displaysystem_name exists, the asset code is updated&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;AssetDisplayName&#xD;&#xA;--&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190910&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--  20191203&#x9;&#x9;C00V01 - Change Asset_Code for Asset_Id&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Put_AssetDisplaySystem 40, 'CR2080435W4'&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Put_AssetDisplaySystem]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@Asset_Id&#x9;&#x9;&#x9;Varchar(100),&#x9;-- must exist in Asset table and be active&#xD;&#xA;&#x9;@DisplaySystem_Name&#x9;Varchar(100)&#x9;-- the name of the computer system or other identifier&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_CommentData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
	SET NOCOUNT ON;

Declare @Output table
	(
	Id							Int Identity,
	commentdata_id				Int, 
	dxhdata_id					Int, 
	comment						Varchar(256), 
	first_name					Varchar(100), 
	last_name					Varchar(100), 
	entered_by					Varchar(100), 
	entered_on					Datetime, 
	last_modified_by			Varchar(100), 
	last_modified_on			Datetime,
	message						Varchar(100)
	)

Declare
	@First				Varchar(50),
	@Last				Varchar(50),
	@Initials			Varchar(50),	
	@CommentData_Id		Int,
	@Existing_Comment	Varchar(256),
	@ReturnStatus		Int,
	@ReturnMessage		Varchar(1000),
	@Site_Timezone		Varchar(100),
	@Timestamp_UTC		Datetime,
	@asset_id			INT,
	@Site_Id			INT

SET @asset_id = (SELECT asset_id 
                  FROM DxHData
                 WHERE dxhdata_id = @DxHData_Id)

SELECT @Site_Id = asset_id
FROM [dbo].[Asset] WHERE asset_level = 'Site' AND site_code = (SELECT site_code FROM [dbo].[Asset] WHERE asset_id=@asset_id);

Select @Site_Timezone = site_timezone
From dbo.CommonParameters cpt with (nolock)
Where site_id = @Site_Id AND status = 'Active';

Select @Timestamp_UTC = @Timestamp at time zone @Site_Timezone at time zone 'UTC'

If not exists (Select dxhdata_id From dbo.DxHData with (nolock) Where dxhdata_id = IsNull(@DxHData_Id,-1))
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid DxHData_Id ' + convert(varchar,IsNull(@DxHData_Id,''))
	Goto ErrExit
End

If IsNull(@Comment,'') = ''
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Comment ' + convert(varchar,IsNull(@Comment,''))
		Goto ErrExit
End

If exists (Select Badge From dbo.TFDUsers with (nolock) Where Badge = IsNull(@Clock_Number,-1))
Begin
	Select @First = First_Name,
		@Last = Last_Name
	From dbo.TFDUsers with (nolock) 
	Where Badge = @Clock_Number

	If IsNull(@First_Name,'') = ''
	Begin
		Set @First_Name = @First
	End

	If IsNull(@Last_Name,'') = ''
	Begin
		Set @Last_Name = @Last
	End
End

If IsNull(@First_Name,'') = ''
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid First Name ' + convert(varchar,IsNull(@First_Name,''))
		Goto ErrExit
End

If IsNull(@Last_Name,'') = ''
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Last Name ' + convert(varchar,IsNull(@Last_Name,''))
		Goto ErrExit

End

Select @Initials = convert(varchar,left(@First_Name,1)) +  convert(varchar,left(@last_Name,1))

If IsDate(@Timestamp)  <> 1 
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Timestamp ' + convert(varchar,IsNull(@Timestamp,''))
		Goto ErrExit
End

If 
	(IsNull(@Update,0) <> 0) 
	And 
	(not exists (Select commentdata_id From dbo.CommentData with (nolock) Where commentdata_id = IsNull(@Update,-1)))
Begin
	Select 
		@ReturnStatus = -1,
		@ReturnMessage = 'Invalid Update ' + convert(varchar,IsNull(@Update,''))
		Goto ErrExit
End


If IsNull(@Update,0) = 0
Begin
	Insert @Output
		Select 
			Null,
			@DxHData_Id,
			@Comment,
			@First_Name,
			@Last_Name,
			@Initials,
			@Timestamp_UTC,
			@Initials,
			getdate(),
			Null

	Insert dbo.CommentData
		Select 
			dxhdata_id, 
			comment, 
			first_name, 
			last_name, 
			entered_by, 
			entered_on, 
			last_modified_by, 
			last_modified_on
		From @Output			

		Set @CommentData_Id =  SCOPE_IDENTITY()

		Select 
			@ReturnStatus = 0,
			@ReturnMessage = 'Inserted ' + convert(varchar,@CommentData_Id)

End
Else
Begin
	If exists (Select commentdata_id From dbo.CommentData with (nolock) Where commentdata_id = IsNull(@Update,-1))
	Begin
		Select @Existing_Comment = comment
		From dbo.CommentData with (nolock) 
		Where commentdata_id = IsNull(@Update,-1)	

		If IsNull(@Existing_Comment,'') <> IsNull(@Comment,'')	
		Begin
			Update dbo.CommentData
			Set comment = @Comment,
				last_modified_by = @Initials,
				last_modified_on = getdate()
			Where commentdata_id = @Update

			Select 
				@ReturnStatus = 0,
				@ReturnMessage = 'Updated ' + convert(varchar,IsNull(@Update,''))
		End	
		Else
		Begin
			Select 
				@ReturnStatus = -1,
				@ReturnMessage = 'Nothing to update ' + convert(varchar,IsNull(@Update,''))

		End

	End

End

ErrExit:

	If @ReturnStatus is Null
	Begin
		Select 
			@ReturnStatus = -1,
			@ReturnMessage = 'Unknown Error'
	End 

	Select 
		@ReturnStatus as 'Return.Status',
		@ReturnMessage as 'Return.Message'
	For Json path, INCLUDE_NULL_VALUES 

Return

END


/****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Put_DTData]    Script Date: 4/12/2019 15:24:50 ******/
SET ANSI_NULLS ON]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Timestamp]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Comment]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Update]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[commentdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[last_modified_on]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[commentdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommentData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[Id]">
									<Property Name="IsNullable" Value="False" />
									<Property Name="IsIdentity" Value="True" />
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[commentdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[comment]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="256" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[first_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[last_name]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[entered_by]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[entered_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[last_modified_by]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[last_modified_on]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Output].[message]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Comment]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_CommentData].[@Update]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1285" />
				<Property Name="Length" Value="6600" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Put_CommentData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;&#xD;&#xA;--&#x9;Given a dxhdata_id and needed comment info, store the comment data&#xD;&#xA;--&#xD;&#xA;--&#x9;If the @Update field is Null or 0, then it is a new insert&#xD;&#xA;--&#x9;If the @Update field is Not Null and Not 0, it is an update &#xD;&#xA;--&#x9;&#x9;and the value is the commentdata_id to update&#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;CommentData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190808&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20190818&#x9;&#x9;C00V01 - Validated Timestamp and used it for entered_on for inserts&#x9;&#x9;&#xD;&#xA;--&#x9;20190822&#x9;&#x9;C00V02 - Timestamp adjusted to UTC to be used as entered_on&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V03 - Change CommonParameters to CommonParameters&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- Exec spLocal_EY_DxH_Put_CommentData 3, 'Any ole comment', '2136', Null, Null, '2019-07-25 00:00:00.000', 0&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Put_CommentData]&#xD;&#xA;--Declare&#xD;&#xA;&#x9;@DxHData_Id&#x9;&#x9;&#x9;&#x9;Int,&#x9;&#x9;&#x9;-- the hour Id&#xD;&#xA;&#x9;@Comment&#x9;&#x9;&#x9;&#x9;Varchar(256),&#x9;-- the main info for the display&#xD;&#xA;&#x9;@Clock_Number&#x9;&#x9;&#x9;Varchar(100),&#x9;-- used to look up First and Last, leave Null if you have first and last&#xD;&#xA;&#x9;@First_Name&#x9;&#x9;&#x9;&#x9;Varchar(100),&#x9;-- Leave Null if you send Clock Number&#xD;&#xA;&#x9;@Last_Name&#x9;&#x9;&#x9;&#x9;Varchar(100),&#x9;-- Leave Null if you send Clock Number&#xD;&#xA;&#x9;@Timestamp&#x9;&#x9;&#x9;&#x9;Datetime,&#x9;&#x9;-- most likely use current time in site timezone&#xD;&#xA;&#x9;@Update&#x9;&#x9;&#x9;&#x9;&#x9;Int&#x9;&#x9;&#x9;&#x9;-- Null or 0 for insert, send the specific commentdata_id for update&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_DTData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[

    --Select @DxHData_Id = 3,
    --	@DTReason_Id = 4, 
    --	@DTMinutes = 5,
    --	@Clock_Number = '3276',
    --	@Timestamp = getdate()

    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE
		@First VARCHAR(50),
		@Last VARCHAR(50),
		@Initials VARCHAR(50),
		@ReturnStatus INT,
		@ReturnMessage VARCHAR(1000),
		@DTData_Id INT,
		@Existing_DTReason_Id INT,
		@Existing_DTMinutes FLOAT,
		@Site_Timezone VARCHAR(100),
		@Timestamp_UTC DATETIME,
		@asset_id INT,
		@Site_Id INT;
        
		SET @asset_id =
        (
            SELECT asset_id
            FROM dbo.DxHData
            WHERE dxhdata_id = @DxHData_Id
        );
        SELECT @Site_Id = asset_id
        FROM [dbo].[Asset]
        WHERE asset_level = 'Site'
              AND site_code =
        (
            SELECT site_code
            FROM [dbo].[Asset]
            WHERE asset_id = @asset_id
        );
        SELECT @Site_Timezone = site_timezone
        FROM dbo.CommonParameters cpt WITH(NOLOCK)
        WHERE site_id = @Site_Id
              AND STATUS = 'Active';

		Select @Timestamp_UTC = @Timestamp at time zone @Site_Timezone at time zone 'UTC';

        IF NOT EXISTS
        (
            SELECT dxhdata_id
            FROM dbo.DxHData WITH(NOLOCK)
            WHERE dxhdata_id = ISNULL(@DxHData_Id, -1)
        )
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DxHData_Id ' + CONVERT(VARCHAR, ISNULL(@DxHData_Id, ''));
                GOTO ErrExit;
        END;
        IF NOT EXISTS
        (
            SELECT dr.dtreason_id
            FROM dbo.DTReason dr WITH(NOLOCK), 
                 dbo.DxHData dxh WITH(NOLOCK)
            WHERE dxh.dxhdata_id = @DxHData_Id
                  AND dxh.asset_id = dr.asset_id
                  AND dr.dtreason_id = ISNULL(@DTReason_Id, -1)
        )
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DTReason_Id ' + CONVERT(VARCHAR, ISNULL(@DTReason_Id, ''));
                GOTO ErrExit;
        END;
        IF(ISNULL(@DTMinutes, -1) < 0
           OR ISNULL(@DTMinutes, -1) > 60.0)
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DTMinutes ' + CONVERT(VARCHAR, ISNULL(@DTMinutes, ''));
                GOTO ErrExit;
        END;
        IF EXISTS
        (
            SELECT Badge
            FROM dbo.TFDUsers WITH(NOLOCK)
            WHERE Badge = ISNULL(@Clock_Number, -1)
        )
            BEGIN
                SELECT @First = First_Name, 
                       @Last = Last_Name
                FROM dbo.TFDUsers WITH(NOLOCK)
                WHERE Badge = @Clock_Number;
                IF ISNULL(@First_Name, '') = ''
                    BEGIN
                        SET @First_Name = @First;
                END;
                IF ISNULL(@Last_Name, '') = ''
                    BEGIN
                        SET @Last_Name = @Last;
                END;
        END;
        IF ISNULL(@First_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid First Name ' + CONVERT(VARCHAR, ISNULL(@First_Name, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Last_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Last Name ' + CONVERT(VARCHAR, ISNULL(@Last_Name, ''));
                GOTO ErrExit;
        END;
        SELECT @Initials = CONVERT(VARCHAR, LEFT(@First_Name, 1)) + CONVERT(VARCHAR, LEFT(@last_Name, 1));
        IF ISDATE(@Timestamp) <> 1
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid timestamp ' + CONVERT(VARCHAR, ISNULL(@Timestamp, ''));
                GOTO ErrExit;
        END;
        IF(ISNULL(@Update, 0) <> 0)
          AND (NOT EXISTS
        (
            SELECT dtdata_id
            FROM dbo.DTData WITH(NOLOCK)
            WHERE dtdata_id = ISNULL(@Update, -1)
        ))
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Update ' + CONVERT(VARCHAR, ISNULL(@Update, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Update, 0) = 0
            BEGIN
                INSERT INTO dbo.DTData
                (dxhdata_id, 
                 dtreason_id, 
                 dtminutes, 
                 entered_by, 
                 entered_on, 
                 last_modified_by, 
                 last_modified_on, 
                 name
                )
                       SELECT @DxHData_Id, 
                              @DTReason_Id, 
                              @DTMinutes, 
                              @Initials, 
                              @Timestamp_UTC, 
                              @Initials, 
                              GETDATE(), 
                              @First_Name + ' ' + @Last_Name;
                SET @DTData_Id = SCOPE_IDENTITY();
                SELECT @ReturnStatus = 0, 
                       @ReturnMessage = 'Inserted ' + CONVERT(VARCHAR, @DTData_Id);
        END;
            ELSE
            BEGIN
                IF EXISTS
                (
                    SELECT dtdata_id
                    FROM dbo.DTData WITH(NOLOCK)
                    WHERE dtdata_id = ISNULL(@Update, -1)
                )
                    BEGIN
                        SELECT @Existing_DTReason_Id = dtreason_id, 
                               @Existing_DTMinutes = dtminutes
                        FROM dbo.DTData WITH(NOLOCK)
                        WHERE dtdata_id = ISNULL(@Update, -1);
                        IF(ISNULL(@Existing_DTReason_Id, -1) <> ISNULL(@DTReason_Id, -1)
                           OR ISNULL(@Existing_DTMinutes, -1) <> ISNULL(@DTMinutes, -1))
                            BEGIN
                                UPDATE dbo.DTData
                                  SET 
                                      dtreason_id = @DTReason_Id, 
                                      dtminutes = @DTMinutes, 
                                      last_modified_by = @Initials, 
                                      last_modified_on = GETDATE(), 
                                      name = @First_Name + ' ' + @Last_Name
                                WHERE dtdata_id = @Update;
                                SELECT @ReturnStatus = 0, 
                                       @ReturnMessage = 'Updated ' + CONVERT(VARCHAR, ISNULL(@Update, ''));
                        END;
                            ELSE
                            BEGIN
                                SELECT @ReturnStatus = 0, 
                                       @ReturnMessage = 'Nothing to update ' + CONVERT(VARCHAR, ISNULL(@Update, ''));
                        END;
                END;
        END;
        ErrExit:
        IF @ReturnStatus IS NULL
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Unknown Error';
        END;
        SELECT @ReturnStatus AS ReturnStatus, 
               @ReturnMessage AS ReturnMessage;
        RETURN;
    END;

        /****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Put_InterShiftData]    Script Date: 4/12/2019 15:25:17 ******/

        SET ANSI_NULLS ON;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@Timestamp]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTReason].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@DTReason_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@DTMinutes]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@Update]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtreason_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtminutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DTData].[dtdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@DTReason_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@DTMinutes]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@Timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_DTData].[@Update]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1298" />
				<Property Name="Length" Value="9491" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights &#xD;&#xA;-- spLocal_EY_DxH_Put_DTData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given a dxhdata_id and downtime info, store the DTData &#xD;&#xA;--&#xD;&#xA;--&#x9;Note that this does some data validation&#xD;&#xA;--&#x9;&#x9;Minutes must not be negative&#xD;&#xA;--&#x9;&#x9;Minutes must not be greater than 60&#xD;&#xA;-- &#xD;&#xA;--&#x9;This code DOES NOT manage the total minutes&#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;DTData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190814&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20190820&#x9;&#x9;C00V01 - Timestamp used as entered_on for inserts&#x9;&#x9;&#xD;&#xA;--&#x9;20190822&#x9;&#x9;C00V02 - Timestamp adjusted to UTC to be used as entered_on &#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V03 - Change CommonParameters to CommonParameters&#xD;&#xA;--&#x9;20200225&#x9;&#x9;C00V04 - Change out result for noraml variables, remove JSON response&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- Exec spLocal_EY_DxH_Put_DTData 3, 4, 5, '3276', Null, Null, '2019-08-09 15:08:28.220', Null&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Put_DTData]&#xD;&#xA;--Declare&#xD;&#xA;@DxHData_Id   INT, -- the hour Id&#xD;&#xA;@DTReason_Id  INT, &#xD;&#xA;@DTMinutes    FLOAT, &#xD;&#xA;@Clock_Number VARCHAR(100), -- used to look up First and Last, leave Null if you have first and last&#xD;&#xA;@First_Name   VARCHAR(100), -- Leave Null if you send Clock Number&#xD;&#xA;@Last_Name    VARCHAR(100), -- Leave Null if you send Clock Number&#xD;&#xA;@Timestamp    DATETIME, -- generally the current time in site timezone&#xD;&#xA;@Update       INT&#x9;&#x9;&#x9;&#x9;-- generally Null or 0, send dtdata_id to update&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE 
		@First VARCHAR(50),
		@Last VARCHAR(50),
		@Initials VARCHAR(50),
		@InterShift_Id INT,
		@Existing_Comment VARCHAR(256),
		@ReturnStatus INT,
		@ReturnMessage VARCHAR(1000),
		@Site_Timezone VARCHAR(100),
		@Timestamp_UTC DATETIME,
		@asset_id INT,
		@Production_Day DATETIME,
		@Shift_Code VARCHAR(100),
		@Site_Id INT;

        SELECT @asset_id = asset_id, 
               @Production_Day = production_day, 
               @Shift_Code = shift_code
        FROM dbo.DxHData
        WHERE dxhdata_id = @DxHData_Id;
        SELECT @Site_Id = asset_id
        FROM [dbo].[Asset]
        WHERE asset_level = 'Site'
              AND site_code =
        (
            SELECT site_code
            FROM [dbo].[Asset]
            WHERE asset_id = @asset_id
        );
        SELECT @Site_Timezone = site_timezone
        FROM dbo.CommonParameters cpt WITH(NOLOCK)
        WHERE site_id = @Site_Id
              AND STATUS = 'Active';

        SELECT @Timestamp_UTC = @Timestamp AT TIME ZONE @Site_Timezone AT TIME ZONE 'UTC'

        IF NOT EXISTS
        (
            SELECT dxhdata_id
            FROM dbo.DxHData WITH(NOLOCK)
            WHERE dxhdata_id = ISNULL(@DxHData_Id, -1)
        )
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DxHData_Id ' + CONVERT(VARCHAR, ISNULL(@DxHData_Id, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Comment, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Comment ' + CONVERT(VARCHAR, ISNULL(@Comment, ''));
                GOTO ErrExit;
        END;
        IF EXISTS
        (
            SELECT Badge
            FROM dbo.TFDUsers WITH(NOLOCK)
            WHERE Badge = ISNULL(@Clock_Number, -1)
        )
            BEGIN
                SELECT @First = First_Name, 
                       @Last = Last_Name
                FROM dbo.TFDUsers WITH(NOLOCK)
                WHERE Badge = @Clock_Number;
                IF ISNULL(@First_Name, '') = ''
                    BEGIN
                        SET @First_Name = @First;
                END;
                IF ISNULL(@Last_Name, '') = ''
                    BEGIN
                        SET @Last_Name = @Last;
                END;
        END;
        IF ISNULL(@First_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid First Name ' + CONVERT(VARCHAR, ISNULL(@First_Name, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Last_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Last Name ' + CONVERT(VARCHAR, ISNULL(@Last_Name, ''));
                GOTO ErrExit;
        END;
        SELECT @Initials = CONVERT(VARCHAR, LEFT(@First_Name, 1)) + CONVERT(VARCHAR, LEFT(@last_Name, 1));
        IF ISDATE(@Timestamp) <> 1
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Timestamp ' + CONVERT(VARCHAR, ISNULL(@Timestamp, ''));
                GOTO ErrExit;
        END;
        IF(ISNULL(@Update, 0) <> 0)
          AND (NOT EXISTS
        (
            SELECT intershift_id
            FROM dbo.InterShiftData WITH(NOLOCK)
            WHERE intershift_id = ISNULL(@Update, -1)
        ))
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Update ' + CONVERT(VARCHAR, ISNULL(@Update, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Update, 0) = 0
            BEGIN
                INSERT INTO dbo.InterShiftData
                VALUES
                (@Production_Day,
                 @Shift_Code,
                 @Comment,
                 @First_Name,
                 @Last_Name,
                 @Initials,
                 @Timestamp_UTC,
                 @Initials,
                 GETDATE(),
                 @asset_id
                );
                SET @InterShift_Id = SCOPE_IDENTITY();
                SELECT @ReturnStatus = 0, 
                       @ReturnMessage = 'Inserted ' + CONVERT(VARCHAR, @InterShift_Id);
        END;
            ELSE
            BEGIN
                IF EXISTS
                (
                    SELECT intershift_id
                    FROM dbo.InterShiftData WITH(NOLOCK)
                    WHERE intershift_id = ISNULL(@Update, -1)
                )
                    BEGIN
                        SELECT @Existing_Comment = comment
                        FROM dbo.InterShiftData WITH(NOLOCK)
                        WHERE intershift_id = ISNULL(@Update, -1);
                        IF ISNULL(@Existing_Comment, '') <> ISNULL(@Comment, '')
                            BEGIN
                                UPDATE dbo.InterShiftData
                                  SET 
                                      comment = @Comment, 
                                      first_name = @First_Name, 
                                      last_name = @Last_Name, 
                                      last_modified_by = @Initials, 
                                      last_modified_on = GETDATE()
                                WHERE intershift_id = @Update;
                                SELECT @ReturnStatus = 0, 
                                       @ReturnMessage = 'Updated ' + CONVERT(VARCHAR, ISNULL(@Update, ''));
                        END;
                            ELSE
                            BEGIN
                                SELECT @ReturnStatus = -1, 
                                       @ReturnMessage = 'Nothing to update ' + CONVERT(VARCHAR, ISNULL(@Update, ''));
                        END;
                END;
        END;
        ErrExit:
        IF @ReturnStatus IS NULL
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Unknown Error';
        END;
        SELECT @ReturnStatus AS ReturnStatus, 
               @ReturnMessage AS ReturnMessage;
        RETURN;
    END;

        /****** Object:  StoredProcedure [dbo].[spLocal_EY_DxH_Put_OperatorSignOff]    Script Date: 4/12/2019 15:25:41 ******/

        SET ANSI_NULLS ON;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[production_day]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[shift_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Comment]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Update]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[intershift_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[comment]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[intershift_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[InterShiftData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Comment]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_InterShiftData].[@Update]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1393" />
				<Property Name="Length" Value="8567" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Put_InterShiftData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given a dxhdata_id and needed intershift info, store the intershift data&#xD;&#xA;--&#xD;&#xA;--&#x9;If the @Update field is Null or 0, then it is a new insert&#xD;&#xA;--&#x9;If the @Update field is Not Null and Not 0, it is an update &#xD;&#xA;--&#x9;&#x9;and the value is the intershiftdata_id to update&#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#xD;&#xA;--&#x9;DxHData_Id is more related to an hour but it is easy to get the needed shift info from that&#x9;&#x9;&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;InterShiftData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190809&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20190818&#x9;&#x9;C00V01 - Validated Timestamp and used it as entered_on for inserts&#x9;&#x9;&#xD;&#xA;--&#x9;20190822&#x9;&#x9;C00V02 - Timestamp adjusted to UTC to be used as entered_on&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V03 - Change CommonParameters to CommonParameters&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- Exec spLocal_EY_DxH_Put_InterShiftData 3, 'shifting gears', '2477', Null, Null, '2019-08-09 15:08:28.220', 0&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Put_InterShiftData]&#xD;&#xA;--Declare&#xD;&#xA;@DxHData_Id   INT, -- any hour Id of the shift associated with this data&#xD;&#xA;@Comment      VARCHAR(256), -- the main info for the display&#xD;&#xA;@Clock_Number VARCHAR(100), -- used to look up First and Last, leave Null if you have first and last&#xD;&#xA;@First_Name   VARCHAR(100), -- Leave Null if you send Clock Number&#xD;&#xA;@Last_Name    VARCHAR(100), -- Leave Null if you send Clock Number&#xD;&#xA;@Timestamp    DATETIME, -- generally current time in site timezone&#xD;&#xA;@Update       INT&#x9;&#x9;&#x9;&#x9;-- generally null or 0, send the intershift_id for update&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE @First VARCHAR(50), @Last VARCHAR(50), @Initials VARCHAR(50), @ReturnStatus INT, @ReturnMessage VARCHAR(1000);
        IF NOT EXISTS
        (
            SELECT dxhdata_id
            FROM dbo.DxHData WITH(NOLOCK)
            WHERE dxhdata_id = ISNULL(@DxHData_Id, -1)
        )
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DxHData_Id ' + CONVERT(VARCHAR, ISNULL(@DxHData_Id, ''));
                GOTO ErrExit;
        END;
        IF EXISTS
        (
            SELECT Badge
            FROM dbo.TFDUsers WITH(NOLOCK)
            WHERE Badge = ISNULL(@Clock_Number, -1)
        )
            BEGIN
                SELECT @First = First_Name, 
                       @Last = Last_Name
                FROM dbo.TFDUsers WITH(NOLOCK)
                WHERE Badge = @Clock_Number;
                IF ISNULL(@First_Name, '') = ''
                    BEGIN
                        SET @First_Name = @First;
                END;
                IF ISNULL(@Last_Name, '') = ''
                    BEGIN
                        SET @Last_Name = @Last;
                END;
        END;
        IF ISNULL(@First_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid First Name ' + CONVERT(VARCHAR, ISNULL(@First_Name, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Last_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Last Name ' + CONVERT(VARCHAR, ISNULL(@Last_Name, ''));
                GOTO ErrExit;
        END;
        SELECT @Initials = CONVERT(VARCHAR, LEFT(@First_Name, 1)) + CONVERT(VARCHAR, LEFT(@last_Name, 1));
        IF ISDATE(@Timestamp) <> 1
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid timestamp ' + CONVERT(VARCHAR, ISNULL(@Timestamp, ''));
                GOTO ErrExit;
        END;

        UPDATE dbo.DxHData
          SET 
              operator_signoff = @Initials, 
              operator_signoff_timestamp = @Timestamp, 
              last_modified_by = @Initials, 
              last_modified_on = GETDATE()
        FROM dbo.DxHData dxh
        WHERE dxh.dxhdata_id = @DxHData_Id;
        SELECT @ReturnStatus = 0, 
               @ReturnMessage = 'Operator signed off ' + CONVERT(VARCHAR, @DxHData_Id);
        ErrExit:
        IF @ReturnStatus IS NULL
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Unknown Error';
        END;
        SELECT @ReturnStatus AS ReturnStatus, 
               @ReturnMessage AS Message;
        RETURN;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@Timestamp]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[operator_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_OperatorSignOff].[@Timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="933" />
				<Property Name="Length" Value="4227" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Put_OperatorSignoff&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given a dxhdata_id and some way to identify operator, store the initials &#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;DxHData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190809&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--&#x9;20200213&#x9;&#x9;C01V00 - Remove output table and json return result format&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- Exec spLocal_EY_DxH_Put_OperatorSignOff 3, '3276', Null, Null, '2019-08-09 15:08:28.220'&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Put_OperatorSignOff]&#xD;&#xA;--Declare&#xD;&#xA;@DxHData_Id   INT, -- the hour Id&#xD;&#xA;@Clock_Number VARCHAR(100), -- used to look up First and Last, leave blank if you have first and last&#xD;&#xA;@First_Name   VARCHAR(100), -- &#xD;&#xA;@Last_Name    VARCHAR(100), --&#xD;&#xA;@Timestamp    DATETIME&#x9;&#x9;-- generally the current time&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        DECLARE @DxHDataTemp TABLE
        (asset_id       INT, 
         timestamp      DATETIME, 
         dxhdata_id     INT, 
         production_day DATETIME, 
         shift_code     VARCHAR(100), 
         hour_interval  VARCHAR(100)
        );
        DECLARE @setup_start_time AS DATETIME, @setup_end_time AS DATETIME, @production_start_time AS DATETIME, @production_end_time AS DATETIME, @bandera AS BIT, @json AS NVARCHAR(MAX), @dxhdata_id INT, @site_code AS VARCHAR(100), @site_id AS INT, @timezone AS VARCHAR(100), @asset_id AS INT;
        SET @site_code =
        (
            SELECT site_code
            FROM Asset
            WHERE asset_code = @asset_code
        );
        SET @site_id =
        (
            SELECT asset_id
            FROM Asset
            WHERE asset_code = @site_code
        );
        SET @timezone =
        (
            SELECT site_timezone
            FROM CommonParameters
            WHERE site_id = @site_id
        );
        SET @asset_id =
        (
            SELECT asset_id
            FROM Asset
            WHERE asset_code = @asset_code
        );
        IF @production_status = 'production'
            BEGIN
                SET @setup_start_time = NULL;
                SET @setup_end_time = NULL;
                SET @production_start_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
                SET @production_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
        END;
            ELSE
            BEGIN
                SET @setup_start_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
                SET @setup_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
                SET @production_start_time = NULL;
                SET @production_end_time = NULL;
        END;
        IF @order_quantity = 0
            BEGIN
                SET @order_quantity = NULL;
        END;
        IF @UOM_code = ''
            BEGIN
                SET @UOM_code = NULL;
        END;
        IF @routed_cycle_time = 0
            BEGIN
                SET @routed_cycle_time = NULL;
        END;
        IF @minutes_allowed_per_setup = 0
            BEGIN
                SET @minutes_allowed_per_setup = NULL;
        END;
        IF @ideal = 0
            BEGIN
                SET @ideal = NULL;
        END;
        IF @target_percent_of_ideal = 0
            BEGIN
                SET @target_percent_of_ideal = NULL;
        END;

        SET @start_time =  (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone);
        SET @bandera = 0;
        INSERT INTO @DxHDataTemp
        EXEC dbo.spLocal_EY_DxH_Get_DxHDataId 
             @asset_id, 
             @start_time, 
             0;
        SET @dxhdata_id =
        (
            SELECT dxhdata_id
            FROM @DxHDataTemp
        );
        IF EXISTS
        (
            SELECT *
            FROM dbo.Asset
            WHERE asset_id = @asset_id
        )
            BEGIN
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND order_number = @order_number
                          AND is_current_order = 1
                          AND production_status = 'setup'
                          AND @production_status = 'production'
                          AND @bandera = 0
                )
                    BEGIN
                        SET @bandera = 1;
                        UPDATE dbo.OrderData
                          SET 
                              order_quantity = @order_quantity, 
                              UOM_code = @UOM_code, 
                              routed_cycle_time = @routed_cycle_time, 
                              minutes_allowed_per_setup = @minutes_allowed_per_setup, 
                              ideal = @ideal, 
                              target_percent_of_ideal = @target_percent_of_ideal, 
                              production_status = @production_status,
                              setup_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
							  production_start_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                              last_modified_by = @entered_by, 
                              last_modified_on = @entered_on
                        WHERE asset_id = @asset_id
                              AND order_number = @order_number
                              AND is_current_order = 1
                              AND production_status = 'setup'
                              AND @production_status = 'production';
                END;
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND order_number = @order_number
                          AND is_current_order = 1
                          AND production_status = 'setup'
                          AND @production_status = 'setup'
                          AND @bandera = 0
                )
                    BEGIN
                        SET @bandera = 1;
                        UPDATE dbo.OrderData
                          SET 
                              order_quantity = @order_quantity, 
                              UOM_code = @UOM_code, 
                              routed_cycle_time = @routed_cycle_time, 
                              minutes_allowed_per_setup = @minutes_allowed_per_setup, 
                              ideal = @ideal, 
                              target_percent_of_ideal = @target_percent_of_ideal, 
                              production_status = @production_status, 
                              last_modified_by = @entered_by, 
                              last_modified_on = @entered_on
                        WHERE asset_id = @asset_id
                              AND order_number = @order_number
                              AND is_current_order = 1
                              AND production_status = 'setup'
                              AND @production_status = 'setup';
                END;
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND order_number = @order_number
                          AND is_current_order = 1
                          AND production_status = 'production'
                          AND @production_status = 'production'
                          AND @bandera = 0
                )
                    BEGIN
                        SET @bandera = 1;
                        UPDATE dbo.OrderData
                          SET 
                              order_quantity = @order_quantity, 
                              UOM_code = @UOM_code, 
                              routed_cycle_time = @routed_cycle_time, 
                              minutes_allowed_per_setup = @minutes_allowed_per_setup, 
                              ideal = @ideal, 
                              target_percent_of_ideal = @target_percent_of_ideal, 
                              production_status = @production_status, 
                              last_modified_by = @entered_by, 
                              last_modified_on = @entered_on
                        WHERE asset_id = @asset_id
                              AND order_number = @order_number
                              AND is_current_order = 1
                              AND production_status = 'production'
                              AND @production_status = 'production';
                END;
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND order_number = @order_number
                          AND is_current_order = 1
                          AND production_status = 'production'
                          AND @production_status = 'setup'
                          AND @bandera = 0
                )
                    BEGIN
                        SET @bandera = 1;
                        BEGIN
                            UPDATE dbo.OrderData
                              SET 
                                  order_quantity = @order_quantity, 
                                  is_current_order = 0,
                                  end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                                  UOM_code = @UOM_code, 
                                  routed_cycle_time = @routed_cycle_time, 
                                  minutes_allowed_per_setup = @minutes_allowed_per_setup, 
                                  ideal = @ideal, 
                                  target_percent_of_ideal = @target_percent_of_ideal,  
                                  production_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                                  last_modified_by = @entered_by, 
                                  last_modified_on = @entered_on
                            WHERE asset_id = @asset_id
                                  AND order_number = @order_number
                                  AND is_current_order = 1
                                  AND production_status = 'production'
                                  AND @production_status = 'setup';
                END;
                        INSERT INTO dbo.OrderData
                        (order_number, 
                         product_code, 
                         order_quantity, 
                         UOM_code, 
                         routed_cycle_time, 
                         minutes_allowed_per_setup, 
                         ideal, 
                         target_percent_of_ideal, 
                         production_status, 
                         setup_start_time, 
                         setup_end_time, 
                         production_start_time, 
                         production_end_time, 
                         start_time, 
                         end_time, 
                         is_current_order, 
                         entered_by, 
                         entered_on, 
                         last_modified_by, 
                         last_modified_on, 
                         asset_id
                        )
                        VALUES
                        (@order_number, 
                         @product_code, 
                         @order_quantity, 
                         @UOM_code, 
                         @routed_cycle_time, 
                         @minutes_allowed_per_setup, 
                         @ideal, 
                         @target_percent_of_ideal, 
                         @production_status,
                         (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                         NULL, 
                         NULL, 
                         NULL,
                         (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                         NULL, 
                         1, 
                         @entered_by, 
                         @entered_on, 
                         @entered_by, 
                         @entered_on, 
                         @asset_id
                        );
                        EXEC spLocal_EY_DxH_Put_ProductionData 
                             @dxhdata_id, 
                             0, 
                             0, 
                             0, 
                             NULL, 
                             'T', 
                             'D', 
                             @start_time, 
                             0;
                END;
                IF EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                          AND @bandera = 0
                )
                    BEGIN
                        IF EXISTS
                        (
                            SELECT *
                            FROM dbo.OrderData
                            WHERE asset_id = @asset_id
                                  AND is_current_order = 1
                                  AND @bandera = 0
                        )
                            BEGIN
                                SET @bandera = 1;
                                UPDATE dbo.OrderData
                                  SET 
                                      is_current_order = 0, 
                                      end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                                      production_end_time = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                                      last_modified_by = @entered_by, 
                                      last_modified_on = @entered_on
                                WHERE asset_id = @asset_id
                                      AND is_current_order = 1;
                        END;
                        INSERT INTO dbo.OrderData
                        (order_number, 
                         product_code, 
                         order_quantity, 
                         UOM_code, 
                         routed_cycle_time, 
                         minutes_allowed_per_setup, 
                         ideal, 
                         target_percent_of_ideal, 
                         production_status, 
                         setup_start_time, 
                         setup_end_time, 
                         production_start_time, 
                         production_end_time, 
                         start_time, 
                         end_time, 
                         is_current_order, 
                         entered_by, 
                         entered_on, 
                         last_modified_by, 
                         last_modified_on, 
                         asset_id
                        )
                        VALUES
                        (@order_number, 
                         @product_code, 
                         @order_quantity, 
                         @UOM_code, 
                         @routed_cycle_time, 
                         @minutes_allowed_per_setup, 
                         @ideal, 
                         @target_percent_of_ideal, 
                         @production_status, 
                         @setup_start_time, 
                         NULL, 
                         @production_start_time, 
                         NULL,
                         (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                         NULL, 
                         1, 
                         @entered_by, 
                         @entered_on, 
                         @entered_by, 
                         @entered_on, 
                         @asset_id
                        );
                        EXEC spLocal_EY_DxH_Put_ProductionData 
                             @dxhdata_id, 
                             0, 
                             0, 
                             0, 
                             NULL, 
                             'T', 
                             'D', 
                             @start_time, 
                             0;
                END;
                IF NOT EXISTS
                (
                    SELECT *
                    FROM dbo.OrderData
                    WHERE asset_id = @asset_id
                )
                    BEGIN
                        INSERT INTO dbo.OrderData
                        (order_number, 
                         product_code, 
                         order_quantity, 
                         UOM_code, 
                         routed_cycle_time, 
                         minutes_allowed_per_setup, 
                         ideal, 
                         target_percent_of_ideal, 
                         production_status, 
                         setup_start_time, 
                         setup_end_time, 
                         production_start_time, 
                         production_end_time, 
                         start_time, 
                         end_time, 
                         is_current_order, 
                         entered_by, 
                         entered_on, 
                         last_modified_by, 
                         last_modified_on, 
                         asset_id
                        )
                        VALUES
                        (@order_number, 
                         @product_code, 
                         @order_quantity, 
                         @UOM_code, 
                         @routed_cycle_time, 
                         @minutes_allowed_per_setup, 
                         @ideal, 
                         @target_percent_of_ideal, 
                         @production_status, 
                         @setup_start_time, 
                         NULL, 
                         @production_start_time, 
                         NULL,
                         (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE @timezone),
                         NULL, 
                         1, 
                         @entered_by, 
                         @entered_on, 
                         @entered_by, 
                         @entered_on, 
                         @asset_id
                        );
                        EXEC spLocal_EY_DxH_Put_ProductionData 
                             @dxhdata_id, 
                             0, 
                             0, 
                             0, 
                             NULL, 
                             'T', 
                             'D', 
                             @start_time, 
                             0;
                END;
        END;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[bit]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@asset_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@DxHDataTemp].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[minutes_allowed_per_setup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[production_end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[setup_start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@DxHDataTemp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@DxHDataTemp].[asset_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@DxHDataTemp].[timestamp]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@DxHDataTemp].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@DxHDataTemp].[production_day]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@DxHDataTemp].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@DxHDataTemp].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@order_number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@asset_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@product_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@order_quantity]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@UOM_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@routed_cycle_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@minutes_allowed_per_setup]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@ideal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@target_percent_of_ideal]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@production_status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@start_time]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@entered_by]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Orders_From_IoT].[@entered_on]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="19242" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE     PROCEDURE [dbo].[spLocal_EY_DxH_Put_Orders_From_IoT]&#xD;&#xA;(@order_number AS              VARCHAR(100), &#xD;&#xA; @asset_code AS                VARCHAR(100), &#xD;&#xA; @product_code AS              VARCHAR(100), &#xD;&#xA; @order_quantity AS            FLOAT, &#xD;&#xA; @UOM_code AS                  VARCHAR(100), &#xD;&#xA; @routed_cycle_time AS         FLOAT, &#xD;&#xA; @minutes_allowed_per_setup AS FLOAT, &#xD;&#xA; @ideal AS                     FLOAT, &#xD;&#xA; @target_percent_of_ideal AS   FLOAT, &#xD;&#xA; @production_status AS         VARCHAR(100), &#xD;&#xA; @start_time AS                DATETIME, &#xD;&#xA; @entered_by AS                VARCHAR(100), &#xD;&#xA; @entered_on AS                DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        DECLARE @TagComparation TABLE
        (tagdata_id     INT, 
         current_value  FLOAT, 
         previous_value FLOAT
        );

        DECLARE @DxHDataTemp TABLE
        (asset_id       INT, 
         timestamp      DATETIME, 
         dxhdata_id     INT, 
         production_day DATETIME, 
         shift_code     VARCHAR(100), 
         hour_interval  VARCHAR(100)
        );

        DECLARE
        @asset_id INT,
        @dxhdata_id INT,
        @current_value FLOAT,
        @previous_value FLOAT,
        @productiondata_id AS VARCHAR(100),
        @value FLOAT,
        @actual FLOAT,
        @site_code VARCHAR(100),
        @timezone DATETIME,
        @setup_scrap FLOAT,
        @other_scrap FLOAT,
        @rollover_point FLOAT,
        @max_change FLOAT,
        @order_number VARCHAR(100);
        
        IF @tagdata_value = ''
        BEGIN
            SELECT @tagdata_value = NULL;
        END;
        
        IF @tagdata_value IS NULL OR @tagdata_value = '0'
        BEGIN
            SELECT 'Wrong message. Production won''t be inserted';
        END;
        ELSE
        BEGIN

            SELECT @asset_id = asset_id, 
                    @rollover_point = rollover_point, 
                    @max_change = max_change
            FROM dbo.Tag
            WHERE tag_name = @tag_name;

            IF ISNULL(@asset_id, 0) != 0 AND ISNULL(@rollover_point, 0) != 0 AND ISNULL(@max_change, 0) != 0
			BEGIN

                SELECT @site_code = site_code
                FROM dbo.Asset
                WHERE asset_id = @asset_id;

                SELECT @timezone = (SELECT GETUTCDATE() AT TIME ZONE 'UTC' AT TIME ZONE site_timezone)
                FROM dbo.CommonParameters where site_name = @site_code;

                INSERT INTO dbo.TagData
                    (tag_name, 
                     tagdata_value, 
                     entered_by, 
                     entered_on, 
                     last_modified_by, 
                     last_modified_on, 
                     timestamp
                    )
                VALUES
                    (@tag_name, 
                     @tagdata_value, 
                     @entered_by, 
                     @entered_on, 
                     @entered_by, 
                     @entered_on, 
                     @timezone
                    );

                BEGIN
                    INSERT INTO @DxHDataTemp
                    EXEC dbo.spLocal_EY_DxH_Get_DxHDataId
                         @asset_id, 
                         @timezone, 
                         0;

                    SELECT @dxhdata_id = dxhdata_id
                    FROM @DxHDataTemp;

                    SELECT @order_number = order_number
                    FROM dbo.OrderData
                        WHERE asset_id = @asset_id AND is_current_order = 1;

                    BEGIN
                        INSERT INTO @TagComparation
                               SELECT TOP 1 td.tagdata_id, 
                                            td.tagdata_value AS [Current value], 
                                            LAG(td.tagdata_value, 1, 0) OVER(
                                            ORDER BY td.tagdata_id) AS [Previous value]
                               FROM dbo.TagData td
                               WHERE tag_name = @tag_name
                               ORDER BY tagdata_id DESC;

                        SELECT *
                        FROM @TagComparation;

                        SELECT @previous_value = previous_value, 
                               @current_value = current_value
                        FROM @TagComparation;
                        SELECT @value = @current_value - @previous_value;

                        IF @value < 0
                        BEGIN
                            IF ABS(@value) > @max_change
                            BEGIN
                                SELECT @value = (@current_value + @rollover_point) - @previous_value;
                            END;
                            ELSE
                            BEGIN
                                SELECT @value = 0;
                            END;
                            IF @value > @max_change
                            BEGIN
                                SELECT @value = @current_value;
                            END;
                        END;
                        IF @value > 100000
                        BEGIN
                            SELECT 'Production won''t be inserted. Value is greater than 100000'
                        END
                        ELSE
                        BEGIN
                            IF EXISTS
                                (
                                SELECT TOP 1 productiondata_id
                                FROM dbo.ProductionData
                                WHERE dxhdata_id = @dxhdata_id
                                      AND order_number = @order_number
                                ORDER BY start_time DESC
                                )
                            BEGIN
                                SELECT TOP 1 @actual = actual, 
                                             @setup_scrap = setup_scrap, 
                                             @other_scrap = other_scrap, 
                                             @productiondata_id = productiondata_id
                                FROM dbo.ProductionData
                                WHERE dxhdata_id = @dxhdata_id
                                      AND order_number = @order_number
                                ORDER BY start_time DESC;

                                SELECT @value = @value + @actual;

                                EXEC spLocal_EY_DxH_Put_ProductionData 
                                     @dxhdata_id, 
                                     @value, 
                                     @setup_scrap, 
                                     @other_scrap, 
                                     NULL, 
                                     'T', 
                                     'D', 
                                     @timezone, 
                                     @productiondata_id;
                            END;
                            ELSE
                            BEGIN
                                EXEC spLocal_EY_DxH_Put_ProductionData 
                                     @dxhdata_id, 
                                     @value, 
                                     0, 
                                     0, 
                                     NULL, 
                                     'T', 
                                     'D', 
                                     @timezone, 
                                     0;
                            END;
                        END;
                    END;
                END;
            END;
            ELSE
            BEGIN
                SELECT 'Wrong message. Tag doesnÂ´t exist in the database';
            END;
        END;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@tagdata_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[rollover_point]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[max_change]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Tag].[tag_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@tag_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_timezone]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tag_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Get_DxHDataId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@DxHDataTemp].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@TagComparation].[previous_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@TagComparation].[current_value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData]" />
				</Entry>
			</Relationship>
			<Relationship Name="DynamicObjects">
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@TagComparation]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@TagComparation].[tagdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@TagComparation].[current_value]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@TagComparation].[previous_value]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Precision" Value="53" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[float]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlDynamicColumnSource" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@DxHDataTemp]">
						<Relationship Name="Columns">
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@DxHDataTemp].[asset_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@DxHDataTemp].[timestamp]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@DxHDataTemp].[dxhdata_id]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[int]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@DxHDataTemp].[production_day]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[datetime]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@DxHDataTemp].[shift_code]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
							<Entry>
								<Element Type="SqlSimpleColumn" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@DxHDataTemp].[hour_interval]">
									<Relationship Name="TypeSpecifier">
										<Entry>
											<Element Type="SqlTypeSpecifier">
												<Property Name="Length" Value="100" />
												<Relationship Name="Type">
													<Entry>
														<References ExternalSource="BuiltIns" Name="[varchar]" />
													</Entry>
												</Relationship>
											</Element>
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@tag_name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@tagdata_value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@entered_by]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Production_From_IoT].[@entered_on]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="130" />
				<Property Name="Length" Value="7580" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--exec spLocal_EY_DxH_Put_Production_From_IoT '168-0065.Blowout.Length', '413591', 'SQL manual entry', '2020-07-29 11:50:59.813'&#xD;&#xA;CREATE     PROCEDURE [dbo].[spLocal_EY_DxH_Put_Production_From_IoT]&#xD;&#xA;(@tag_name AS      VARCHAR(200), &#xD;&#xA; @tagdata_value AS VARCHAR(256), &#xD;&#xA; @entered_by AS    VARCHAR(100), &#xD;&#xA; @entered_on AS    DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE @First VARCHAR(50),
		@Last VARCHAR(50),
		@Initials VARCHAR(50),
		@ProductionData_Id INT,
		@Existing_Actual FLOAT,
		@Existing_Setup_Scrap FLOAT,
		@Existing_Other_Scrap FLOAT,
		@ReturnStatus INT,
		@ReturnMessage VARCHAR(1000),
		@Asset_Id INT,
		@Site_Id INT,
		@OrderNumber VARCHAR(100),
		@Order_Id INT,
		@Product_Code VARCHAR(100),
		@UOM_Code VARCHAR(100),
		@Routed_Cycle_Time FLOAT,
		@Target_Percent_Of_Ideal FLOAT,
		@Order_Quantity FLOAT,
		@Produced_Quantity FLOAT,
		@Remaining_Quantity FLOAT,
		@Remaining_BreakMinutes FLOAT,
		@Remaining_Minutes FLOAT,
		@TotalRemaining_Minutes FLOAT,
		@Ideal INT,
		@Target INT,
		@Order_Start_Time		DATETIME,
		@Previous_Production_Id	INT,
		@Minutes_Less			INT;

        IF NOT EXISTS
        (
            SELECT dxhdata_id
            FROM dbo.DxHData WITH(NOLOCK)
            WHERE dxhdata_id = ISNULL(@DxHData_Id, -1)
        )
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DxHData_Id ' + CONVERT(VARCHAR, ISNULL(@DxHData_Id, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Actual, -1) < 0
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Actual ' + CONVERT(VARCHAR, ISNULL(@Actual, -1));
                GOTO ErrExit;
        END;
        IF ISNULL(@Setup_Scrap, -1) < 0
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Setup Scrap ' + CONVERT(VARCHAR, ISNULL(@Setup_Scrap, -1));
                GOTO ErrExit;
        END;
        IF ISNULL(@Other_Scrap, -1) < 0
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Other Scrap' + CONVERT(VARCHAR, ISNULL(@Other_Scrap, -1));
                GOTO ErrExit;
        END;
        IF EXISTS
        (
            SELECT Badge
            FROM dbo.TFDUsers WITH(NOLOCK)
            WHERE Badge = ISNULL(@Clock_Number, -1)
        )
            BEGIN
                SELECT @First = First_Name, 
                       @Last = Last_Name
                FROM dbo.TFDUsers WITH(NOLOCK)
                WHERE Badge = @Clock_Number;
                IF ISNULL(@First_Name, '') = ''
                    BEGIN
                        SET @First_Name = @First;
                END;
                IF ISNULL(@Last_Name, '') = ''
                    BEGIN
                        SET @Last_Name = @Last;
                END;
        END;
        IF ISNULL(@First_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid First Name ' + CONVERT(VARCHAR, ISNULL(@First_Name, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Last_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Last Name ' + CONVERT(VARCHAR, ISNULL(@Last_Name, ''));
                GOTO ErrExit;
        END;
        SELECT @Initials = CONVERT(VARCHAR, LEFT(@First_Name, 1)) + CONVERT(VARCHAR, LEFT(@last_Name, 1));
        IF ISDATE(@Timestamp) <> 1
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Timestamp ' + CONVERT(VARCHAR, ISNULL(@Timestamp, ''));
                GOTO ErrExit;
        END;
        IF(ISNULL(@Override, 0) <> 0)
          AND (NOT EXISTS
        (
            SELECT productiondata_id
            FROM dbo.ProductionData WITH(NOLOCK)
            WHERE productiondata_id = ISNULL(@Override, -1)
        ))
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Override ' + CONVERT(VARCHAR, ISNULL(@Override, ''));
                GOTO ErrExit;
        END;

        -- Find the Order for this asset at this time 
        SELECT TOP 1 @Asset_Id = dxh.asset_id, 
                     @Order_Id = o.order_id, 
                     @OrderNumber = o.order_number, 
                     @Product_Code = o.product_code, 
                     @UOM_Code = o.UOM_code, 
                     @Order_Quantity = o.order_quantity, 
                     @Routed_Cycle_Time = o.routed_cycle_time,
					 @Order_Start_Time = o.start_time
        FROM dbo.OrderData o WITH(NOLOCK), 
             dbo.DxHData dxh WITH(NOLOCK)
        WHERE dxh.dxhdata_id = @DxHData_Id
              AND o.asset_id = dxh.asset_id
              AND o.is_current_order = 1
        ORDER BY o.start_time DESC;

        -- If there is no is_current_order = 1, try using Timestamp
        IF ISNULL(@OrderNumber, '') = ''
            BEGIN
                SELECT TOP 1 @Asset_Id = dxh.asset_id, 
                             @Order_Id = o.order_id, 
                             @OrderNumber = o.order_number, 
                             @Product_Code = o.product_code, 
                             @UOM_Code = o.UOM_code, 
                             @Order_Quantity = o.order_quantity, 
                             @Routed_Cycle_Time = o.routed_cycle_time,
							 @Order_Start_Time = o.start_time
                FROM dbo.OrderData o WITH(NOLOCK), 
                     dbo.DxHData dxh WITH(NOLOCK)
                WHERE dxh.dxhdata_id = @DxHData_Id
                      AND o.asset_id = dxh.asset_id
                      AND o.start_time < @Timestamp
                      AND (o.end_time > @Timestamp
                           OR o.end_time IS NULL)
                ORDER BY o.start_time DESC;
        END;
        IF ISNULL(@OrderNumber, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Current Order not found for asset ' + CONVERT(VARCHAR, ISNULL(@Asset_Id, ''));
                GOTO ErrExit;
        END;

        
		SELECT @Target_Percent_Of_Ideal = target_percent_of_ideal
		FROM dbo.Asset
		WHERE asset_id = @Asset_Id;

        SELECT @Site_Id = asset_id
        FROM [dbo].[Asset]
        WHERE asset_level = 'Site'
              AND site_code =
        (
            SELECT site_code
            FROM [dbo].[Asset]
            WHERE asset_id = @Asset_Id
        );

        -- Now to decide if it is an insert or some kind of update
        -- If there is a productiondata row for this hour and order, then it is an update (increment or override)
        -- If not, it is an insert

        SELECT @ProductionData_Id = pd.productiondata_id, 
               @Existing_Actual = pd.actual, 
               @Existing_Setup_Scrap = pd.setup_scrap, 
               @Existing_Other_Scrap = pd.other_scrap
        FROM dbo.ProductionData pd WITH(NOLOCK)
        WHERE pd.dxhdata_id = @DxHData_Id
              AND pd.order_id = @Order_Id;
        IF ISNULL(@ProductionData_Id, 0) > 0 
        --Since it already exixts, this is an update, either an increment existing or replace if an override
            BEGIN

                --Increment 
                IF ISNULL(@Override, 0) = 0
                    BEGIN
                        UPDATE dbo.ProductionData
                          SET 
                              actual = @Existing_Actual + @Actual, 
                              setup_scrap = @Existing_Setup_Scrap + @Setup_Scrap, 
                              other_scrap = @Existing_Other_Scrap + @Other_Scrap,
                              last_modified_by = @Initials, 
                              last_modified_on = GETDATE()
                        FROM dbo.ProductionData pd
                        WHERE pd.productiondata_id = @ProductionData_Id;
                        SELECT @ReturnStatus = 0, 
                               @ReturnMessage = 'Incremented ' + CONVERT(VARCHAR, @ProductionData_Id);
                END;
                    ELSE
                    BEGIN		
                        -- If there already is a productiondata row and this is an override, then they should match  
                        IF ISNULL(@Override, 0) <> ISNULL(@ProductionData_Id, 0)
                            BEGIN
                                SELECT @ReturnStatus = -1, 
                                       @ReturnMessage = 'Invalid Override ' + CONVERT(VARCHAR, ISNULL(@Override, ''));
                                GOTO ErrExit;
                        END;
                        -- If it makes it to here, then override/replace existing with @Actual 
                        --
                        UPDATE dbo.ProductionData
                          SET 
                              actual = @Actual, 
                              setup_scrap = @Setup_Scrap, 
                              other_scrap = @Other_Scrap,
                              last_modified_by = @Initials, 
                              last_modified_on = GETDATE()
                        FROM dbo.ProductionData pd
                        WHERE pd.productiondata_id = @ProductionData_Id;
                        SELECT @ReturnStatus = 0, 
                               @ReturnMessage = 'Override ' + CONVERT(VARCHAR, @ProductionData_Id);
                END;
        END --if ProductionData_Id exists;
            ELSE
        --do an insert, including computing ideal and target
            BEGIN

                --Compute Ideal and target	
                -- 
                IF ISNULL(@Routed_Cycle_Time, -1) < 0
                    BEGIN
                        SELECT @Routed_Cycle_Time = CONVERT(FLOAT, default_routed_cycle_time)
                        FROM dbo.CommonParameters cpt WITH(NOLOCK)
                        WHERE site_id = @Site_Id
                              AND STATUS = 'Active';
                END;
                IF ISNULL(@Target_Percent_Of_Ideal, -1) <= 0
                    BEGIN
                        SELECT @Target_Percent_Of_Ideal = CONVERT(FLOAT, default_target_percent_of_ideal)
                        FROM dbo.CommonParameters cpt WITH(NOLOCK)
                        WHERE site_id = @Site_Id
                              AND STATUS = 'Active';
                END;

                -- Remaining Quantity is Order Quantity - Produced
                -- Look back to the beginning of time to cover the longest time an order can run

                SELECT @Produced_Quantity = SUM(actual-setup_scrap-other_scrap)
                FROM dbo.ProductionData pd WITH(NOLOCK)
                WHERE pd.order_id = @Order_Id
                GROUP BY pd.order_id;
                SELECT @Remaining_Quantity = ISNULL(@Order_Quantity, 0) - ISNULL(@Produced_Quantity, 0);

                --Remaining Quantity adjusted to not run out until a new Order is scanned
                --Select @Remaining_Quantity = 9999

                IF ISNULL(@Remaining_Quantity, 0) < 0
                    BEGIN
                        SET @Remaining_Quantity = 0;
                END;

                --Remaining time (minus breaks) is 
                --case when @TimeStamp is between the break, the remaining break is from @Timestamp to end of the break,
                --case when break is in the hour but @Timestamp is less than start break time, the remaining break is the full break duration
                --case when break was before the @Timestamp, the break is not count.
                --logic not support break time that start before the current hour or finish in the next hour


				--Check if we need to use the full hour or the actual minutes to get ideal and target
				SELECT @Previous_Production_Id = PD.productiondata_id
				FROM dbo.ProductionData PD WHERE PD.order_id = @Order_Id;

				IF ISNULL(@Previous_Production_Id,0) = 0
				BEGIN
				--IS THE FIRST ORDER
                SELECT @Remaining_BreakMinutes = SUM(CASE
                                                         WHEN(@Timestamp BETWEEN CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.start_time) AND CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.end_time))
                                                         THEN DATEDIFF(MINUTE, @Timestamp, CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.end_time))
                                                         WHEN(@Timestamp <= CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.start_time)
                                                              AND DATEADD(HOUR, DATEPART(HOUR, @Timestamp) + 1, CONVERT(DATETIME, FORMAT(@Timestamp, 'yyyy-MM-dd'))) >= CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.end_time))
                                                         THEN u.duration_in_minutes
                                                         ELSE 0
                                                     END)
                FROM dbo.Unavailable u
                WHERE u.asset_id = @Asset_Id AND u.status = 'Active' AND ((@Timestamp BETWEEN CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.start_time) AND CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.end_time))
                     OR (@Timestamp <= CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.start_time)
                         AND DATEADD(HOUR, DATEPART(HOUR, @Timestamp) + 1, CONVERT(DATETIME, FORMAT(@Timestamp, 'yyyy-MM-dd'))) >= CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.end_time)))
                GROUP BY asset_id;
				END
				ELSE
				BEGIN
				SELECT @Remaining_BreakMinutes = SUM(u.duration_in_minutes)
													FROM dbo.Unavailable u
													WHERE u.asset_id = @Asset_Id AND u.status = 'Active' AND 
													CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd HH'),':00:00') <= CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.start_time) 
													AND DATEADD(HOUR,1,CONVERT(DATETIME,CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd HH'),':00:00'))) >= CONCAT(FORMAT(@Timestamp, 'yyyy-MM-dd'), ' ', u.end_time)
													GROUP BY asset_id;
				END

				--TAKE ALL BREAK

                SET @Remaining_BreakMinutes = ISNULL(@Remaining_BreakMinutes, 0);
                IF ISNULL(@Remaining_BreakMinutes, -1) > 60
                    BEGIN
                        SET @Remaining_BreakMinutes = 60;
                END;
                IF ISNULL(@Remaining_BreakMinutes, -1) < 0
                    BEGIN
                        SET @Remaining_BreakMinutes = 0;
                END;

				--EXIST PREVIOUS PRODUCTION USE FULL HOUR
				IF ISNULL(@Previous_Production_Id,0) > 0 
				BEGIN
					SET @Minutes_Less = 0;
				END
				ELSE
				BEGIN
					--IF THE NEW PRODUCTION DATA IS THE FIRST PRODUCTION OF THE CURRENT ORDER AND BETWEEN THE FIRST HOUR OF THE START TIME ORDER USE REMAINING MINUTES
					IF @Timestamp BETWEEN CONCAT(FORMAT(@Order_Start_Time, 'yyyy-MM-dd HH'),':00:00') AND DATEADD(HOUR,1,CONVERT(DATETIME,CONCAT(FORMAT(@Order_Start_Time, 'yyyy-MM-dd HH'),':00:00')))
					BEGIN
						SET @Minutes_Less = DATEPART(MINUTE, @Timestamp);
					END
					--IF THE NEW PRODUCTION DATA IS THE FIRST PRODUCTION OF THE CURRENT ORDER AND THE PRODUCTION START AFTER THE FIRST HOUR OF THE ORDER WE USE FULL HOUR
					ELSE
					BEGIN
						SET @Minutes_Less = 0;
					END
				END


				--Calculate remaining minutes using in the target formula (use remaining break minutes)

                SET @Remaining_Minutes = (60 - @Remaining_BreakMinutes) - @Minutes_Less;
                IF ISNULL(@Remaining_Minutes, -1) < 0
                    BEGIN
                        SELECT @Remaining_Minutes = 0;
                END;

				--Calculate total remaining minutes using in the ideal formula (not use remaining break minutes)

                SELECT @TotalRemaining_Minutes = 60 - @Minutes_Less;
                IF ISNULL(@TotalRemaining_Minutes, -1) < 0
                    BEGIN
                        SELECT @TotalRemaining_Minutes = 0;
                END;

                --Ideal
                --If (Remaining Seconds in an hour / Routed Cycle Time) > Remaining Quantity
                --then Ideal = Remaining Quantity 
                --Else Remaining Seconds in an hour / Routed Cycle Time

                IF((@TotalRemaining_Minutes * 60.0) / @Routed_Cycle_Time) > @Remaining_Quantity
                    BEGIN
                        SET @Ideal = @Remaining_Quantity;
                END;
                    ELSE
                    BEGIN
                        SET @Ideal = (@TotalRemaining_Minutes * 60.0) / @Routed_Cycle_Time;
                END;

                --Target
                IF(((@Remaining_Minutes * 60.0) / @Routed_Cycle_Time) * @Target_Percent_Of_Ideal) > @Remaining_Quantity
                    BEGIN
                        SET @Target = @Remaining_Quantity;
                END;
                    ELSE
                    BEGIN
                        SET @Target = ((@Remaining_Minutes * 60.0) / @Routed_Cycle_Time) * @Target_Percent_Of_Ideal;
                END;

				--Insert the new record into ProductionData

                INSERT INTO [dbo].[ProductionData]
                ([dxhdata_id], 
                 [product_code], 
                 [ideal], 
                 [target], 
                 [actual], 
                 [UOM_code], 
                 [order_id], 
                 [order_number], 
                 [start_time], 
                 [end_time], 
                 [entered_by], 
                 [entered_on], 
                 [last_modified_by], 
                 [last_modified_on], 
                 [setup_scrap], 
                 [other_scrap],
                 [name]
                )
                VALUES
                (@DxHData_Id, 
                 @Product_Code, 
                 @Ideal, 
                 @Target, 
                 @Actual, 
                 @UOM_Code, 
                 @Order_Id, 
                 @OrderNumber, 
                 @Timestamp, 
                 NULL, 
                 @Initials, 
                 GETDATE(), 
                 @Initials, 
                 GETDATE(), 
                 @Setup_Scrap, 
                 @Other_Scrap,
                 @First_Name + ' ' + @Last_Name
                );
                SET @ProductionData_Id = SCOPE_IDENTITY();
                
				SELECT @ReturnStatus = 0, 
                       @ReturnMessage = 'Inserted ' + CONVERT(VARCHAR, @ProductionData_Id);
        END;
        ErrExit:
        IF @ReturnStatus IS NULL
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Unknown Error';
        END;
        SELECT @ReturnStatus AS ReturnStatus, 
               @ReturnMessage AS ReturnMessage;
        RETURN;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Actual]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Setup_Scrap]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Other_Scrap]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Timestamp]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Override]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[order_quantity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[is_current_order]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[OrderData].[end_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_level]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[actual]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_routed_cycle_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[float]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonParameters].[default_target_percent_of_ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[end_time]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[status]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[datetime]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[ideal]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[target]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[UOM_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[order_number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Actual]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Setup_Scrap]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Other_Scrap]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_ProductionData].[@Override]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1678" />
				<Property Name="Length" Value="21411" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Put_ProductionData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given a dxhdata_id and needed production info, store the production data&#xD;&#xA;--&#xD;&#xA;--&#x9;If the @Override field is Null or 0, then it is a new insert or an increment&#xD;&#xA;--&#x9;If the @Override field is Not Null and Not 0, it is an Override. The existing value of Actual &#xD;&#xA;--&#x9;&#x9;will be replaced. The value of @Override is the productiondata_id to be updated&#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#xD;&#xA;--&#x9;The first production insert in an hour for each order is where the ideal and target &#xD;&#xA;--&#x9;are calculated. Any data sent for the same order in that hour will just increment the actual.&#xD;&#xA;--&#x9;&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;ProductionData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190809&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;20191204&#x9;&#x9;C00V01 - Change CommonParameters to CommonParameters&#xD;&#xA;--&#x9;20201028&#x9;&#x9;C00V02 - Change Target_Percent_Of_Ideal order check for first Order table, second Asset table, and finally check Common Parameters table.&#xD;&#xA;--&#x9;20201102&#x9;&#x9;C00V03 - Change Target_Percent_Of_Ideal to use Asset table, and finally check Common Parameters table.&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Put_ProductionData 261042, 35, 0, 0, 0, '123456789123', Null, Null, '2019/11/26 12:18', 0&#xD;&#xA;--&#xD;&#xA;CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Put_ProductionData]&#xD;&#xA;--Declare&#xD;&#xA;@DxHData_Id      INT, -- the hour Id&#xD;&#xA;@Actual          FLOAT, -- to be inserted, increment exisiting Actual, or replace if Override&#xD;&#xA;@Setup_Scrap     FLOAT, -- to be inserted, increment exisiting Actual, or replace if Override&#xD;&#xA;@Other_Scrap     FLOAT, -- to be inserted, increment exisiting Actual, or replace if Override&#xD;&#xA;@Clock_Number    VARCHAR(100), -- used to look up First and Last, leave blank if you have first and last&#xD;&#xA;@First_Name      VARCHAR(100), -- &#xD;&#xA;@Last_Name       VARCHAR(100), -- &#xD;&#xA;@Timestamp       DATETIME, -- generally current time but note it is used to find break and lunch time&#xD;&#xA;@Override        INT&#x9;&#x9;&#x9;&#x9;-- generally Null or 0, send the productiondata_id for update/replacing Actual&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    BEGIN
        IF @product_description = ''
            SET @product_description = NULL;
        IF @product_family = ''
            SET @product_family = NULL;
        IF @value_stream = ''
            SET @value_stream = NULL;
        IF @grouping1 = ''
            SET @grouping1 = NULL;
        IF @grouping2 = ''
            SET @grouping2 = NULL;
        IF @grouping3 = ''
            SET @grouping3 = NULL;
        IF @grouping4 = ''
            SET @grouping4 = NULL;
        IF @grouping5 = ''
            SET @grouping5 = NULL;
        IF EXISTS
        (
            SELECT *
            FROM dbo.Product
            WHERE product_code = @product_code
        )
            BEGIN
                UPDATE dbo.Product
                  SET 
                      product_name = @product_name, 
                      product_description = @product_description, 
                      product_family = @product_family, 
                      value_stream = @value_stream, 
                      grouping1 = @grouping1, 
                      grouping2 = @grouping2, 
                      grouping3 = @grouping3, 
                      grouping4 = @grouping4, 
                      grouping5 = @grouping5, 
                      STATUS = @status, 
                      last_modified_by = @entered_by, 
                      last_modified_on = @timestamp
                WHERE product_code = @product_code;
        END;
            ELSE
            BEGIN
                INSERT INTO dbo.Product
                (product_code, 
                 product_name, 
                 product_description, 
                 product_family, 
                 value_stream, 
                 grouping1, 
                 grouping2, 
                 grouping3, 
                 grouping4, 
                 grouping5, 
                 STATUS, 
                 entered_by, 
                 entered_on, 
                 last_modified_by, 
                 last_modified_on
                )
                VALUES
                (@product_code, 
                 @product_name, 
                 @product_description, 
                 @product_family, 
                 @value_stream, 
                 @grouping1, 
                 @grouping2, 
                 @grouping3, 
                 @grouping4, 
                 @grouping5, 
                 @status, 
                 @entered_by, 
                 @timestamp, 
                 @entered_by, 
                 @timestamp
                );
        END;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@product_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@product_family]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@product_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_family]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[value_stream]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping3]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping4]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[grouping5]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[product_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Product].[entered_on]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@product_code]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@product_name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@product_description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@product_family]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@value_stream]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping3]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping4]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@grouping5]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@status]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@entered_by]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Products_From_IoT].[@timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="3203" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Put_Products_From_IoT]&#xD;&#xA;(@product_code AS        VARCHAR(100), &#xD;&#xA; @product_name AS        VARCHAR(200), &#xD;&#xA; @product_description AS VARCHAR(256), &#xD;&#xA; @product_family AS      VARCHAR(100), &#xD;&#xA; @value_stream AS        VARCHAR(256), &#xD;&#xA; @grouping1 AS           VARCHAR(256), &#xD;&#xA; @grouping2 AS           VARCHAR(256), &#xD;&#xA; @grouping3 AS           VARCHAR(256), &#xD;&#xA; @grouping4 AS           VARCHAR(256), &#xD;&#xA; @grouping5 AS           VARCHAR(256), &#xD;&#xA; @status AS              VARCHAR(50), &#xD;&#xA; @entered_by AS          VARCHAR(100), &#xD;&#xA; @timestamp AS           DATETIME&#xD;&#xA;)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE @First VARCHAR(50),
		@Last VARCHAR(50),
		@Initials VARCHAR(50),
		@ReturnStatus INT,
		@ReturnMessage VARCHAR(1000);

        IF NOT EXISTS
        (
            SELECT dxhdata_id, productiondata_id
            FROM dbo.ProductionData WITH(NOLOCK)
            WHERE dxhdata_id = ISNULL(@DxHData_Id, -1) AND productiondata_id = ISNULL(@ProductionData_Id, -1)
        )
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DxHData_Id or ProductionData_Id ' + CONVERT(VARCHAR, ISNULL(@DxHData_Id, '')) + ' or ' +  CONVERT(VARCHAR, ISNULL(@ProductionData_Id, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Setup_Scrap, -1) < 0
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Setup Scrap ' + CONVERT(VARCHAR, ISNULL(@Setup_Scrap, -1));
                GOTO ErrExit;
        END;
        IF ISNULL(@Other_Scrap, -1) < 0
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Other Scrap' + CONVERT(VARCHAR, ISNULL(@Other_Scrap, -1));
                GOTO ErrExit;
        END;
        IF EXISTS
        (
            SELECT Badge
            FROM dbo.TFDUsers WITH(NOLOCK)
            WHERE Badge = ISNULL(@Clock_Number, -1)
        )
            BEGIN
                SELECT @First = First_Name, 
                       @Last = Last_Name
                FROM dbo.TFDUsers WITH(NOLOCK)
                WHERE Badge = @Clock_Number;
                IF ISNULL(@First_Name, '') = ''
                    BEGIN
                        SET @First_Name = @First;
                END;
                IF ISNULL(@Last_Name, '') = ''
                    BEGIN
                        SET @Last_Name = @Last;
                END;
        END;
        IF ISNULL(@First_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid First Name ' + CONVERT(VARCHAR, ISNULL(@First_Name, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Last_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Last Name ' + CONVERT(VARCHAR, ISNULL(@Last_Name, ''));
                GOTO ErrExit;
        END;
        SELECT @Initials = CONVERT(VARCHAR, LEFT(@First_Name, 1)) + CONVERT(VARCHAR, LEFT(@last_Name, 1));
		
		UPDATE dbo.ProductionData
                          SET 
                              setup_scrap = @Setup_Scrap, 
                              other_scrap = @Other_Scrap,
                              last_modified_by = @Initials, 
                              last_modified_on = GETDATE()
                        FROM dbo.ProductionData pd
                        WHERE pd.productiondata_id = @ProductionData_Id AND pd.dxhdata_id = @DxHData_Id;
                        SELECT @ReturnStatus = 0, 
                               @ReturnMessage = 'Override ' + CONVERT(VARCHAR, @ProductionData_Id) + ' ' + CONVERT(VARCHAR, @DxHData_Id);

        ErrExit:
        IF @ReturnStatus IS NULL
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Unknown Error';
        END;
        SELECT @ReturnStatus as ReturnStatus, 
               @ReturnMessage as ReturnMessage;
        RETURN;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@ProductionData_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@Setup_Scrap]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@Other_Scrap]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[setup_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[other_scrap]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[productiondata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ProductionData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@ProductionData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@Setup_Scrap]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@Other_Scrap]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="1075" />
				<Property Name="Length" Value="5233" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Put_Scrap_ProductionData&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given a dxhdata_id and needed production info, update scrap data of specific production&#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#xD;&#xA;--&#x9;The first production insert in an hour for each order is where the ideal and target &#xD;&#xA;--&#x9;are calculated. Any data sent for the same order in that hour will just increment the actual.&#xD;&#xA;--&#x9;&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;ProductionData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20200130&#x9;&#x9;C00V00 - Intial code created&#x9;&#x9;&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- exec spLocal_EY_DxH_Put_Scrap_ProductionData 29239, 387380, 10, 8, 34, '47132', Null, Null&#xD;&#xA;--&#xD;&#xA;CREATE PROCEDURE [dbo].[spLocal_EY_DxH_Put_Scrap_ProductionData]&#xD;&#xA;--Declare&#xD;&#xA;@DxHData_Id&#x9;&#x9;&#x9;&#x9;INT, -- the hour Id&#xD;&#xA;@ProductionData_Id      INT, -- the productionData Id&#xD;&#xA;@Setup_Scrap&#x9;&#x9;&#x9;FLOAT, -- to be inserted, increment exisiting Actual, or replace if Override&#xD;&#xA;@Other_Scrap&#x9;&#x9;&#x9;FLOAT, -- to be inserted, increment exisiting Actual, or replace if Override&#xD;&#xA;@Clock_Number&#x9;&#x9;&#x9;VARCHAR(100), -- used to look up First and Last, leave blank if you have first and last&#xD;&#xA;@First_Name&#x9;&#x9;&#x9;&#x9;VARCHAR(100), -- &#xD;&#xA;@Last_Name&#x9;&#x9;&#x9;&#x9;VARCHAR(100) -- &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff]">
			<Property Name="BodyScript">
				<Value QuotedIdentifiers="False"><![CDATA[
    BEGIN
        -- SET NOCOUNT ON added to prevent extra result sets from
        -- interfering with SELECT statements.
        SET NOCOUNT ON;
        DECLARE @First VARCHAR(50), @Last VARCHAR(50), @Initials VARCHAR(50), @ReturnStatus INT, @ReturnMessage VARCHAR(1000);
        IF NOT EXISTS
        (
            SELECT dxhdata_id
            FROM dbo.DxHData WITH(NOLOCK)
            WHERE dxhdata_id = ISNULL(@DxHData_Id, -1)
        )
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid DxHData_Id ' + CONVERT(VARCHAR, ISNULL(@DxHData_Id, ''));
                GOTO ErrExit;
        END;
        IF EXISTS
        (
            SELECT Badge
            FROM dbo.TFDUsers WITH(NOLOCK)
            WHERE Badge = ISNULL(@Clock_Number, -1)
        )
            BEGIN
                SELECT @First = First_Name, 
                       @Last = Last_Name
                FROM dbo.TFDUsers WITH(NOLOCK)
                WHERE Badge = @Clock_Number;
                IF ISNULL(@First_Name, '') = ''
                    BEGIN
                        SET @First_Name = @First;
                END;
                IF ISNULL(@Last_Name, '') = ''
                    BEGIN
                        SET @Last_Name = @Last;
                END;
        END;
        IF ISNULL(@First_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid First Name ' + CONVERT(VARCHAR, ISNULL(@First_Name, ''));
                GOTO ErrExit;
        END;
        IF ISNULL(@Last_Name, '') = ''
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid Last Name ' + CONVERT(VARCHAR, ISNULL(@Last_Name, ''));
                GOTO ErrExit;
        END;
        SELECT @Initials = CONVERT(VARCHAR, LEFT(@First_Name, 1)) + CONVERT(VARCHAR, LEFT(@last_Name, 1));
        IF ISDATE(@Timestamp) <> 1
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Invalid timestamp ' + CONVERT(VARCHAR, ISNULL(@Timestamp, ''));
                GOTO ErrExit;
        END;
        UPDATE dbo.DxHData
          SET 
              supervisor_signoff = @Initials, 
              supervisor_signoff_timestamp = @Timestamp, 
              last_modified_by = @Initials, 
              last_modified_on = GETDATE()
        FROM dbo.DxHData dxh
        WHERE dxh.dxhdata_id = @DxHData_Id;
        SELECT @ReturnStatus = 0, 
               @ReturnMessage = 'Supervisor signed off ' + CONVERT(VARCHAR, @DxHData_Id);
        ErrExit:
        IF @ReturnStatus IS NULL
            BEGIN
                SELECT @ReturnStatus = -1, 
                       @ReturnMessage = 'Unknown Error';
        END;
        SELECT @ReturnStatus AS ReturnStatus, 
               @ReturnMessage AS Message;
        RETURN;
    END;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsQuotedIdentifierOn" Value="False" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@DxHData_Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@Clock_Number]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[first_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[last_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TFDUsers].[Badge]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@First_Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@Last_Name]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@Timestamp]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[supervisor_signoff_timestamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DxHData].[dxhdata_id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[varchar]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@DxHData_Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@Clock_Number]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@First_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@Last_Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spLocal_EY_DxH_Put_SupervisorSignOff].[@Timestamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="924" />
				<Property Name="Length" Value="4226" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;--&#xD;&#xA;-- Copyright Â© 2019 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- spLocal_EY_DxH_Put_SupervisorSignoff&#xD;&#xA;--&#xD;&#xA;--  Purpose:&#xD;&#xA;--&#x9;Given a dxhdata_id and some way to identify Supervisor, store the initials &#xD;&#xA;--&#xD;&#xA;--&#x9;Returns a status and a message&#xD;&#xA;--&#x9;&#x9; 0 is pass&#xD;&#xA;--&#x9;&#x9;-1 is fail&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;--&#xD;&#xA;--&#x9;To Do:&#xD;&#xA;--&#xD;&#xA;--  Output Parameters:&#xD;&#xA;---&#xD;&#xA;--  Input Parameters:&#xD;&#xA;---&#xD;&#xA;---&#x9;&#xD;&#xA;--  Trigger:&#xD;&#xA;---&#xD;&#xA;--  Data Read Other Inputs:  &#xD;&#xA;--- &#xD;&#xA;---&#x9;&#xD;&#xA;--  Data Written Results:&#xD;&#xA;---&#xD;&#xA;--  Assumptions:&#xD;&#xA;--- &#xD;&#xA;--  Dependencies: &#xD;&#xA;---&#x9;None&#xD;&#xA;---&#xD;&#xA;--  Variables:&#xD;&#xA;---&#xD;&#xA;---&#xD;&#xA;--  Tables Modified:&#xD;&#xA;--&#x9;DxHData&#xD;&#xA;---&#xD;&#xA;-- Modification Change History:&#xD;&#xA;--------------------------------------------------------------------------------&#xD;&#xA;--&#x9;20190809&#x9;&#x9;C00V00 - Intial code created&#xD;&#xA;--&#x9;20200213&#x9;&#x9;C01V00 - Remove outputtable and json result&#xD;&#xA;--&#x9;&#x9;&#xD;&#xA;-- Example Call:&#xD;&#xA;-- Exec spLocal_EY_DxH_Put_SupervisorSignOff 3, '2477', Null, Null, '2019-08-09 15:08:28.220'&#xD;&#xA;--&#xD;&#xA;CREATE   PROCEDURE [dbo].[spLocal_EY_DxH_Put_SupervisorSignOff]&#xD;&#xA;--Declare&#xD;&#xA;@DxHData_Id   INT, -- the hour Id&#xD;&#xA;@Clock_Number VARCHAR(100), -- used to look up First and Last, leave blank if you have first and last&#xD;&#xA;@First_Name   VARCHAR(100), -- &#xD;&#xA;@Last_Name    VARCHAR(100), --&#xD;&#xA;@Timestamp    DATETIME&#x9;&#x9;-- generally the current time&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[SupervisorAsset]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[supervisorasset_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[supervisor]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[shift_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[valid_from]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[valid_to]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[SupervisorAsset].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="44" />
			<AttachedAnnotation Disambiguator="31" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[sysdiagrams]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[sysdiagrams].[name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[sys].[sysname]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[sysdiagrams].[principal_id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[sysdiagrams].[diagram_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[sysdiagrams].[version]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[sysdiagrams].[definition]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="8" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="51" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Tag]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[tag_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[tag_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[tag_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[tag_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[tag_group]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[datatype]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[tag_type]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[UOM_code]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[rollover_point]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Precision" Value="53" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[float]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[aggregation]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[site_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Tag].[max_change]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="45" />
			<AttachedAnnotation Disambiguator="32" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[TagData]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TagData].[tagdata_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TagData].[tag_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TagData].[tagdata_value]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TagData].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TagData].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TagData].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TagData].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TagData].[timestamp]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="46" />
		</Element>
		<Element Type="SqlIndex" Name="[dbo].[TagData].[nci_wi_TagData_837CA6E0CC88E5CA58438CADAC108229]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[TagData].[tag_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="IncludedColumns">
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[TagData].[tagdata_value]" />
				</Entry>
			</Relationship>
			<Relationship Name="IndexedObject">
				<Entry>
					<References Name="[dbo].[TagData]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[TFDUsers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TFDUsers].[Badge]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TFDUsers].[Username]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TFDUsers].[first_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TFDUsers].[last_name]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TFDUsers].[Role]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TFDUsers].[Site]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[TFDUsers].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="36" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[dbo].[UC_Asset_Code]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Asset].[asset_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="10" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[dbo].[UK_principal_name]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[sysdiagrams].[principal_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[sysdiagrams].[name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[sysdiagrams]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="51" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Unavailable]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[unavailable_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[unavailable_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[unavailable_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[unavailable_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[start_time]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[end_time]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[time]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[duration_in_minutes]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[valid_from]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[valid_to]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[site_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Unavailable].[asset_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="47" />
			<AttachedAnnotation Disambiguator="5" />
		</Element>
		<Element Type="SqlView" Name="[dbo].[Unavailable_vw]">
			<Property Name="QueryScript">
				<Value><![CDATA[
SELECT        dbo.Unavailable.unavailable_id, dbo.Unavailable.unavailable_code, dbo.Unavailable.unavailable_name, dbo.Unavailable.unavailable_description, dbo.Unavailable.start_time, dbo.Unavailable.end_time, 
                         dbo.Unavailable.duration_in_minutes, dbo.Unavailable.valid_from, dbo.Unavailable.valid_to, dbo.Unavailable.status, dbo.Unavailable.entered_by, dbo.Unavailable.entered_on, dbo.Unavailable.last_modified_by, 
                         dbo.Unavailable.last_modified_on, dbo.Unavailable.site_id, dbo.Unavailable.asset_id, dbo.Asset.site_code
FROM            dbo.Unavailable INNER JOIN
                         dbo.Asset ON dbo.Unavailable.asset_id = dbo.Asset.asset_id INNER JOIN
                         dbo.parker_site_access ON dbo.Asset.site_code = dbo.parker_site_access.site_code AND dbo.parker_site_access.ad_account = USER]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[unavailable_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[unavailable_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[unavailable_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[unavailable_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[unavailable_name]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[unavailable_name]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[unavailable_description]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[unavailable_description]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[start_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[start_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[end_time]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[end_time]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[duration_in_minutes]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[duration_in_minutes]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[valid_from]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[valid_from]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[valid_to]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[valid_to]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[status]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[status]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[entered_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[entered_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[entered_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[entered_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[last_modified_by]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[last_modified_by]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[last_modified_on]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[last_modified_on]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[site_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[site_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[asset_id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Unavailable].[asset_id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[Unavailable_vw].[site_code]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[Asset].[site_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[Unavailable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[asset_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Asset].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[site_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[parker_site_access].[ad_account]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[unavailable_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[unavailable_code]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[unavailable_name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[unavailable_description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[start_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[end_time]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[duration_in_minutes]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[valid_from]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[valid_to]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[status]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[entered_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[entered_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[last_modified_by]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[last_modified_on]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[site_id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[Unavailable].[asset_id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="900" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW dbo.Unavailable_vw&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[dbo].[UNC_Shift_Shift_Code]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[Shift].[shift_code]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[Shift]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="50" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[UOM]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[UOM_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[UOM_code]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[UOM_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[UOM_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[status]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[entered_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[entered_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[last_modified_by]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[last_modified_on]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[site_id]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UOM].[decimals]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="48" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[UpRoundDate]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[UpRoundDate].[@interval]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpRoundDate].[@temp_date]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpRoundDate].[@frequency]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[ 
BEGIN
	RETURN CASE	
				WHEN @interval= 60
					THEN DATEADD(HOUR, (DATEDIFF(HOUR,0, @temp_date)/@frequency+1)*@frequency, 0)
				WHEN @interval= 1440
					THEN DATEADD(DAY, (DATEDIFF(DAY,0, @temp_date)/@frequency+1)*@frequency, 0)
				WHEN @interval= 10080
					THEN DATEADD(WEEK, (DATEDIFF(WEEK,0, @temp_date)/@frequency+1)*@frequency, 0)
				WHEN @interval= 43200
					THEN DATEADD(MONTH, (DATEDIFF(MONTH,0, @temp_date)/@frequency+1)*@frequency, 0)
				WHEN @interval= 525600
					THEN DATEADD(YEAR, (DATEDIFF(YEAR,0, @temp_date)/@frequency+1)*@frequency, 0)
				ELSE 	
					DATEADD(MINUTE, (DATEDIFF(MINUTE,0, @temp_date)/@frequency+1)*@frequency, 0)
			END;
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="2126" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[UpRoundDate] &#xD;&#xA;(&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;@temp_date&#x9;Datetime,&#x9;&#xD;&#xA;&#x9;&#x9;@interval&#x9;INT,&#xD;&#xA;&#x9;&#x9;@frequency&#x9;INT&#xD;&#xA; )&#xD;&#xA;RETURNS DATETIME&#xD;&#xA;-- =============================================&#xD;&#xA;-- Copyright Â© 2018 Ernst &amp; Young LLP&#xD;&#xA;-- All Rights Reserved&#xD;&#xA;-- Author:      Gustavo Perez Espinoza&#xD;&#xA;-- Create date: 10/7/2018&#xD;&#xA;-- Description: Calculates the up round date having as reference the interval and the frequency&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Parameters:&#xD;&#xA;--   @temp_date - Date that is going to round &#xD;&#xA;--   @interval  - it's the interval that the function is going to add to the initial date, possibly  values for @Interval&#xD;&#xA;--&#x9;&#x9;&#x9;For Minutes -&gt; 1&#xD;&#xA;--&#x9;&#x9;&#x9;For Hours   -&gt; 60&#xD;&#xA;--&#x9;&#x9;&#x9;For Days    -&gt; 1440&#xD;&#xA;--&#x9;&#x9;&#x9;For Weeks   -&gt; 10080&#xD;&#xA;--&#x9;&#x9;&#x9;For Months  -&gt; 43200 &#xD;&#xA;--&#x9;&#x9;&#x9;For Years   -&gt; 525600&#xD;&#xA;--   @frequency  - How many times the function is going to add the interval to the tempDate&#xD;&#xA;-- Returns:    Return the next round date having as reference the interval and the frequency&#xD;&#xA;-- =============================================&#xD;&#xA;-- =============================================&#xD;&#xA;-- ...&#xD;&#xA;-- Returns:    Return the next round date having as reference the interval and the frequency&#xD;&#xA;--Paramters&#xD;&#xA;--&#x9;&#x9;@@temp_date  DATETIME='20180901 03:23:34'&#xD;&#xA;--&#x9;&#x9;@frequency INT= 30,&#xD;&#xA;--&#x9;&#x9;@interval INT= 1;&#xD;&#xA;--Output&#xD;&#xA;--&#x9;&#x9;2018-09-01 03:30:00.000&#xD;&#xA;-- =============================================&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpRoundDate].[@temp_date]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpRoundDate].[@interval]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[UpRoundDate].[@frequency]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[datetime]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[Workcell]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Workcell].[workcell_id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Workcell].[workcell_name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="200" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Workcell].[workcell_description]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Workcell].[entered_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Workcell].[entered_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="22" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Workcell].[last_modified_by]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[Workcell].[last_modified_on]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="23" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="49" />
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[Asset_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 249
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 98
               Left = 363
               Bottom = 194
               Right = 533
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Asset_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[Asset_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Asset_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[AssetDisplaySystem_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "AssetDisplaySystem (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 242
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 121
               Left = 292
               Bottom = 251
               Right = 503
            End
            DisplayFlags = 280
            TopColumn = 4
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 192
               Left = 691
               Bottom = 288
               Right = 861
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[AssetDisplaySystem_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[AssetDisplaySystem_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[CommentData_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "CommentData (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 217
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "DxHData (dbo)"
            Begin Extent = 
               Top = 102
               Left = 290
               Bottom = 232
               Right = 537
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 193
               Left = 589
               Bottom = 323
               Right = 800
            End
            DisplayFlags = 280
            TopColumn = 2
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 276
               Left = 850
               Bottom = 372
               Right = 1020
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[CommentData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[CommentData_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[CommentData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[DTData_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "DTData (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 244
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "DxHData (dbo)"
            Begin Extent = 
               Top = 98
               Left = 345
               Bottom = 228
               Right = 592
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 215
               Left = 669
               Bottom = 345
               Right = 880
            End
            DisplayFlags = 280
            TopColumn = 3
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 300
               Left = 984
               Bottom = 396
               Right = 1154
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[DTData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[DTData_vw].[MS_DiagramPane2]">
			<Property Name="Value">
				<Value><![CDATA[N'
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[DTData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[DTData_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[2]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[DTData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[DTReason_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "DTReason (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 237
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 116
               Left = 336
               Bottom = 246
               Right = 547
            End
            DisplayFlags = 280
            TopColumn = 3
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 223
               Left = 637
               Bottom = 319
               Right = 807
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[DTReason_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[DTReason_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[DTReason_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[DxHData_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "DxHData (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 285
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 116
               Left = 396
               Bottom = 246
               Right = 607
            End
            DisplayFlags = 280
            TopColumn = 3
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 255
               Left = 750
               Bottom = 351
               Right = 920
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[DxHData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[DxHData_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[DxHData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[InterShiftData_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "InterShiftData (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 217
            End
            DisplayFlags = 280
            TopColumn = 7
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 129
               Left = 331
               Bottom = 259
               Right = 542
            End
            DisplayFlags = 280
            TopColumn = 3
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 237
               Left = 628
               Bottom = 333
               Right = 798
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[InterShiftData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[InterShiftData_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[InterShiftData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[OrderData_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "OrderData (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 272
            End
            DisplayFlags = 280
            TopColumn = 18
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 125
               Left = 346
               Bottom = 255
               Right = 557
            End
            DisplayFlags = 280
            TopColumn = 3
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 241
               Left = 697
               Bottom = 337
               Right = 867
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[OrderData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[OrderData_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[OrderData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProdDataAggregateByHour_MN].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "DxHData (dbo)"
            Begin Extent = 
               Top = 9
               Left = 57
               Bottom = 206
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ProductionData (dbo)"
            Begin Extent = 
               Top = 9
               Left = 471
               Bottom = 206
               Right = 736
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 9
               Left = 793
               Bottom = 206
               Right = 1094
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProdDataAggregateByHour_MN]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProdDataAggregateByHour_MN].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProdDataAggregateByHour_MN]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProdDataAggregateByShift_MN].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "DxHData (dbo)"
            Begin Extent = 
               Top = 9
               Left = 57
               Bottom = 206
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ProductionData (dbo)"
            Begin Extent = 
               Top = 9
               Left = 471
               Bottom = 206
               Right = 736
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 9
               Left = 793
               Bottom = 206
               Right = 1094
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProdDataAggregateByShift_MN]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProdDataAggregateByShift_MN].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProdDataAggregateByShift_MN]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[Product_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Product (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 233
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ProductCodeSite_vw (dbo)"
            Begin Extent = 
               Top = 6
               Left = 271
               Bottom = 102
               Right = 441
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 6
               Left = 479
               Bottom = 102
               Right = 649
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Product_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[Product_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Product_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProductCodeSite_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ProductionData (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 224
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "DxHData (dbo)"
            Begin Extent = 
               Top = 6
               Left = 262
               Bottom = 136
               Right = 509
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 6
               Left = 547
               Bottom = 136
               Right = 758
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 6
               Left = 796
               Bottom = 102
               Right = 966
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 13']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProductCodeSite_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProductCodeSite_vw].[MS_DiagramPane2]">
			<Property Name="Value">
				<Value><![CDATA[N'50
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProductCodeSite_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProductCodeSite_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[2]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProductCodeSite_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProductionData_view].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[19] 4[42] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "DxHData (dbo)"
            Begin Extent = 
               Top = 9
               Left = 57
               Bottom = 206
               Right = 414
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ProductionData (dbo)"
            Begin Extent = 
               Top = 207
               Left = 57
               Bottom = 404
               Right = 322
            End
            DisplayFlags = 280
            TopColumn = 14
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 405
               Left = 57
               Bottom = 602
               Right = 358
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProductionData_view]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProductionData_view].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProductionData_view]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProductionData_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ProductionData (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 224
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "DxHData (dbo)"
            Begin Extent = 
               Top = 105
               Left = 291
               Bottom = 235
               Right = 538
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 201
               Left = 609
               Bottom = 331
               Right = 820
            End
            DisplayFlags = 280
            TopColumn = 3
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 316
               Left = 885
               Bottom = 412
               Right = 1055
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         ']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProductionData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProductionData_vw].[MS_DiagramPane2]">
			<Property Name="Value">
				<Value><![CDATA[N'Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProductionData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[ProductionData_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[2]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[ProductionData_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[Shift_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Shift (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 235
            End
            DisplayFlags = 280
            TopColumn = 14
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 110
               Left = 344
               Bottom = 240
               Right = 555
            End
            DisplayFlags = 280
            TopColumn = 3
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 235
               Left = 697
               Bottom = 331
               Right = 867
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Shift_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[Shift_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Shift_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[site_code_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 249
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[site_code_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[site_code_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[site_code_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[Unavailable_vw].[MS_DiagramPane1]">
			<Property Name="Value">
				<Value><![CDATA[N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Unavailable (dbo)"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 251
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Asset (dbo)"
            Begin Extent = 
               Top = 120
               Left = 353
               Bottom = 250
               Right = 564
            End
            DisplayFlags = 280
            TopColumn = 2
         End
         Begin Table = "parker_site_access (dbo)"
            Begin Extent = 
               Top = 235
               Left = 696
               Bottom = 331
               Right = 866
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 10
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
']]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Unavailable_vw]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlExtendedProperty" Name="[SqlView].[dbo].[Unavailable_vw].[MS_DiagramPaneCount]">
			<Property Name="Value">
				<Value><![CDATA[1]]></Value>
			</Property>
			<Relationship Name="Host">
				<Entry>
					<References Name="[dbo].[Unavailable_vw]" />
				</Entry>
			</Relationship>
		</Element>
	</Model>
</DataSchemaModel>